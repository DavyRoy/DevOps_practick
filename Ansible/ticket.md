# –ú–æ–¥—É–ª—å "`Ansible`" - `ANS-01 ‚Äî –ß—Ç–æ —Ç–∞–∫–æ–µ Ansible: –æ—Å–Ω–æ–≤—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è`

 ### üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞
–ß—Ç–æ —Ç–∞–∫–æ–µ Ansible

---

 ## üìò –¢–µ–æ—Ä–∏—è (–∫—Ä–∞—Ç–∫–æ)

‚ùì –ß—Ç–æ —Ç–∞–∫–æ–µ Ansible

Ansible ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –¥–ª—è:
	‚Ä¢	–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
	‚Ä¢	–£—Å—Ç–∞–Ω–æ–≤–∫–∏ –ü–û
	‚Ä¢	–û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
	‚Ä¢	–£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π

–†–∞–±–æ—Ç–∞–µ—Ç –ø–æ push-–º–æ–¥–µ–ª–∏ ‚Äî —Ç—ã (control node) —É–ø—Ä–∞–≤–ª—è–µ—à—å —Ü–µ–ª–µ–≤—ã–º–∏ –º–∞—à–∏–Ω–∞–º–∏ (managed nodes) –ø–æ SSH –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∞–≥–µ–Ω—Ç–æ–≤.

‚∏ª

üß© –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Ansible
	‚Ä¢	Control Node ‚Äî —Ç–≤–æ—è –ª–æ–∫–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞ –∏–ª–∏ —Å–µ—Ä–≤–µ—Ä, –≥–¥–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Ansible
	‚Ä¢	Managed Nodes ‚Äî –º–∞—à–∏–Ω—ã, –∫–æ—Ç–æ—Ä—ã–º–∏ —Ç—ã —É–ø—Ä–∞–≤–ª—è–µ—à—å (—á–µ—Ä–µ–∑ SSH)
	‚Ä¢	Inventory ‚Äî —Å–ø–∏—Å–æ–∫ —É–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –º–∞—à–∏–Ω
	‚Ä¢	Playbook ‚Äî —Å—Ü–µ–Ω–∞—Ä–∏–π (–Ω–∞ YAML), –∫–æ—Ç–æ—Ä—ã–π –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á–∏ (tasks)
	‚Ä¢	–ú–æ–¥—É–ª–∏ ‚Äî –≥–æ—Ç–æ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, ping, copy, apt, docker_container)
	‚Ä¢	–†–æ–ª–∏ ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ, –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–ª–µ–π–±—É–∫–∏
	‚Ä¢	–§–∞–∫—Ç—ã ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ (—á–µ—Ä–µ–∑ setup)

‚∏ª

üõ† –ü—Ä–∏–º–µ—Ä —Å—Ü–µ–Ω–∞—Ä–∏—è
- name: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å nginx
  hosts: web
  become: true
  tasks:
    - name: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ nginx
      apt:
        name: nginx
        state: present

‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Ansible
–ë–µ–∑ –∞–≥–µ–Ω—Ç–æ–≤ –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ SSH, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö
–Ø–∑—ã–∫ ‚Äî YAML –ü–æ–Ω—è—Ç–Ω—ã–π –∏ —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º—ã–π
–ö—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å –†–∞–±–æ—Ç–∞–µ—Ç —Å Linux, macOS, –∏–Ω–æ–≥–¥–∞ –¥–∞–∂–µ Windows
–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ –Ω–µ –ª–æ–º–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É
–ü—Ä–æ—Å—Ç–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ú–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –¥–∞–∂–µ —Å –Ω–æ—É—Ç–±—É–∫–∞

üî• –ö–æ–≥–¥–∞ –∏ –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
	‚Ä¢	–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤ (nginx, docker, firewall)
	‚Ä¢	–ú–∞—Å—Å–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ü–û
	‚Ä¢	–ê–≤—Ç–æ–¥–µ–ø–ª–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
	‚Ä¢	–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±–ª–∞—á–Ω–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (AWS, GCP)
	‚Ä¢	–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ CI/CD

üîπ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Ansible
[Local] ‚îÄ‚îÄ(SSH)‚îÄ‚îÄ‚ñ∫ [–£–¥–∞–ª—ë–Ω–Ω—ã–π —Ö–æ—Å—Ç]
    |                   |
    |                   ‚îî‚îÄ‚îÄ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –º–æ–¥—É–ª—å, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    |
    ‚îî‚îÄ‚îÄ —á–∏—Ç–∞–µ—Ç inventory ‚Üí –∑–∞–ø—É—Å–∫–∞–µ—Ç playbook ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã –ø–æ SSH
Ansible –±–µ—Ä—ë—Ç —Ç–≤–æ–π inventory, —á–∏—Ç–∞–µ—Ç playbook, –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –º–æ–¥—É–ª–∏ –Ω–∞ —Ö–æ—Å—Ç—ã. –≠—Ç–∏ –º–æ–¥—É–ª–∏ –∏—Å–ø–æ–ª–Ω—è—é—Ç—Å—è, –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–∞–∑–∞–¥.

 ## –ö–æ–Ω—Å–ø–µ–∫—Ç:

	‚Ä¢	Ansible = YAML + SSH + inventory + playbooks
	‚Ä¢	Push-–º–æ–¥–µ–ª—å (Control ‚Üí Managed)
	‚Ä¢	–ù–µ—Ç –∞–≥–µ–Ω—Ç–æ–≤ (agentless)
	‚Ä¢	–ì–ª–∞–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
	‚Ä¢	ansible ‚Äî –æ–¥–∏–Ω–æ—á–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞
	‚Ä¢	ansible-playbook ‚Äî –∑–∞–ø—É—Å–∫ —Å—Ü–µ–Ω–∞—Ä–∏—è
	‚Ä¢	–§–∞–π–ª—ã:
	‚Ä¢	inventory.ini ‚Äî —Å–ø–∏—Å–æ–∫ —Ö–æ—Å—Ç–æ–≤
	‚Ä¢	playbook.yml ‚Äî –Ω–∞–±–æ—Ä –∑–∞–¥–∞—á

---

### –ó–∞–¥–∞–Ω–∏–µ

1. 	‚Ä¢	–£—Å—Ç–∞–Ω–æ–≤–∏ Ansible –Ω–∞ macOS
	‚Ä¢	–°–æ–∑–¥–∞–π inventory.ini —Å localhost
	‚Ä¢	–ü—Ä–æ–≤–µ—Ä—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ: ansible all -i inventory.ini -m ping

1. `–£—Å—Ç–∞–Ω–æ–≤–∏ Ansible: brew install ansible`

```

```
2. `–°–æ–∑–¥–∞–π inventory.ini`

```
[local]
localhost ansible_connection=local
```
3. `–ü—Ä–æ–≤–µ—Ä—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ`

```
ansible all -i inventory.ini -m ping
```


`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
---



# –ú–æ–¥—É–ª—å "`Ansible`" - `ANS-02 ‚Äî –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Ansible –Ω–∞ macOS / Ubuntu + –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —É–¥–∞–ª—ë–Ω–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—É`

 ### üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞
–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Ansible –ª–æ–∫–∞–ª—å–Ω–æ –∏ –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω–æ–π –º–∞—à–∏–Ω–µ (Vagrant Ubuntu)

---

 ## üìò –¢–µ–æ—Ä–∏—è (–∫—Ä–∞—Ç–∫–æ)

Ansible —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ Control Node ‚Äî —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å:
	‚Ä¢	—Ç–≤–æ—è –ª–æ–∫–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞ (macOS, Ubuntu);
	‚Ä¢	–æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, CI/CD runner);
	‚Ä¢	–≤–∏—Ä—Ç—É–∞–ª–∫–∞ –∏–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.

–ù–∞ —É–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö —Ö–æ—Å—Ç–∞—Ö (Managed Nodes) ‚Äî –Ω–∏—á–µ–≥–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ! –í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ SSH.

üñ• –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ macOS

Ansible –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ Homebrew:
brew install ansible
–ü—Ä–æ–≤–µ—Ä—å –≤–µ—Ä—Å–∏—é:
ansible --version

üêß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ Ubuntu/Debian

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–±:
sudo apt update
sudo apt install -y software-properties-common
sudo add-apt-repository --yes --update ppa:ansible/ansible
sudo apt install -y ansible
–ü—Ä–æ–≤–µ—Ä–∫–∞:
ansible --version

üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH-–¥–æ—Å—Ç—É–ø–∞

Ansible –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —Ö–æ—Å—Ç–∞–º –ø–æ SSH.

–®–∞–≥–∏:
	1.	–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π –∫–ª—é—á:
    ssh-keygen -t ed25519
    2.	–î–æ–±–∞–≤—å –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –Ω–∞ —Å–µ—Ä–≤–µ—Ä:
    ssh-copy-id user@remote_ip
    3.	–£–±–µ–¥–∏—Å—å, —á—Ç–æ –º–æ–∂–µ—à—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –±–µ–∑ –ø–∞—Ä–æ–ª—è:
    ssh user@remote_ip

üìÅ Inventory –¥–ª—è —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ —Ö–æ—Å—Ç–∞
[web]
192.168.1.100 ansible_user=ubuntu
–ò–ª–∏ –≤ YAML (inventory.yml):
all:
  hosts:
    web1:
      ansible_host: 192.168.1.100
      ansible_user: ubuntu

üõ† –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:
ansible all -i inventory.ini -m ping
–ï—Å–ª–∏ –≤—Å—ë –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤–µ—Ä–Ω–æ ‚Äî –ø–æ–ª—É—á–∏—à—å "ping": "pong".

 ## –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã:

	‚Ä¢	brew install ansible ‚Äî macOS
	‚Ä¢	apt install ansible ‚Äî Ubuntu
	‚Ä¢	–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ: –ø–æ SSH, –ª—É—á—à–µ –ø–æ –∫–ª—é—á—É
	‚Ä¢	–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏: ansible -i inventory all -m ping
	‚Ä¢	Inventory —É–∫–∞–∑—ã–≤–∞–µ—Ç IP + –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

### –ó–∞–¥–∞–Ω–∏–µ

1. 	‚Ä¢	–£—Å—Ç–∞–Ω–æ–≤–∏ Ansible –Ω–∞ Ubuntu (–ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ –≤ VM)
	‚Ä¢	–ù–∞—Å—Ç—Ä–æ–π SSH-–¥–æ—Å—Ç—É–ø –∫ –¥—Ä—É–≥–æ–π –º–∞—à–∏–Ω–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏–ª–∏ —Å–µ—Ä–≤–µ—Ä –≤ —Å–µ—Ç–∏)
	‚Ä¢	–°–æ–∑–¥–∞–π inventory.ini —Å —ç—Ç–∏–º —Ö–æ—Å—Ç–æ–º
	‚Ä¢	–ü—Ä–æ–≤–µ—Ä—å ansible -i inventory.ini all -m ping

1. `–£—Å—Ç–∞–Ω–æ–≤–∏ Ansible –Ω–∞ Ubuntu (–∏–ª–∏ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å SSH)`

```

```
2. `–ù–∞—Å—Ç—Ä–æ–π SSH-–∫–ª—é—á, –ø–µ—Ä–µ–¥–∞–π –µ–≥–æ –Ω–∞ —Ü–µ–ª–µ–≤–æ–π —Ö–æ—Å—Ç`

```

```
3. `–ü—Ä–æ–ø–∏—à–∏ IP –∏ –ª–æ–≥–∏–Ω –≤ inventory.ini`

```

```
4. `–í—ã–ø–æ–ª–Ω–∏ ansible all -i inventory.ini -m ping`

```
[web]
web1 ansible_host=10.37.129.3 ansible_user=vagrant ansible_password=vagrant ansible_ssh_common_args='-o StrictHostKeyChecking=no'

```

`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
---


# –ú–æ–¥—É–ª—å "`Ansible`" - `ANS-03 ‚Äî Inventory-—Ñ–∞–π–ª—ã: localhost, static, dynamic`

 ### üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞
–ß—Ç–æ —Ç–∞–∫–æ–µ Inventory –≤ Ansible?

---

 ## üìò –¢–µ–æ—Ä–∏—è (–∫—Ä–∞—Ç–∫–æ)

Inventory ‚Äî —ç—Ç–æ —Ñ–∞–π–ª, –≥–¥–µ Ansible —É–∑–Ω–∞—ë—Ç, –∫–∞–∫–∏–º–∏ —Ö–æ—Å—Ç–∞–º–∏ —É–ø—Ä–∞–≤–ª—è—Ç—å.

üìÇ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:
	‚Ä¢	INI (inventory.ini)
	‚Ä¢	YAML (inventory.yml)
	‚Ä¢	–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã/–ø–ª–∞–≥–∏–Ω—ã (AWS, Docker, Kubernetes –∏ –¥—Ä.)

‚∏ª

üî∏ –í–∏–¥—ã inventory

‚úÖ 1. –õ–æ–∫–∞–ª—å–Ω—ã–π (localhost)

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∑–∞–¥–∞—á –Ω–∞ —Å–∞–º–æ–π –º–∞—à–∏–Ω–µ.
[local]
localhost ansible_connection=local
–∏–ª–∏ YAML:
all:
  hosts:
    localhost:
      ansible_connection: local

‚úÖ 2. –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π inventory

–ñ–µ—Å—Ç–∫–æ –∑–∞–¥–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ö–æ—Å—Ç–æ–≤. –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å IP, user, –∫–ª—é—á–∏ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ.

INI-–ø—Ä–∏–º–µ—Ä:
[web]
192.168.64.10 ansible_user=vagrant ansible_ssh_private_key_file=.vagrant/machines/default/parallels/private_key
YAML-–ø—Ä–∏–º–µ—Ä:
all:
  children:
    web:
      hosts:
        web1:
          ansible_host: 192.168.64.10
          ansible_user: vagrant
          ansible_ssh_private_key_file: .vagrant/machines/default/parallels/private_key

‚úÖ 3. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π inventory

Ansible —É–º–µ–µ—Ç —Å–∞–º –ø–æ–ª—É—á–∞—Ç—å —Å–ø–∏—Å–æ–∫ —Ö–æ—Å—Ç–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä –∏–∑:
	‚Ä¢	AWS (aws_ec2)
	‚Ä¢	Docker (community.docker.docker_host)
	‚Ä¢	Kubernetes (k8s inventory plugin)
	‚Ä¢	–°–∫—Ä–∏–ø—Ç–æ–≤ (inventory.py)

üì¶ –ü—Ä–∏–º–µ—Ä (AWS):
ansible-inventory -i aws_ec2.yaml --graph
–§–æ—Ä–º–∞—Ç—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ inventory ‚Äî YAML-—Ñ–∞–π–ª + –ø–ª–∞–≥–∏–Ω –∏–ª–∏ —Å–∫—Ä–∏–ø—Ç.

üß† –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
ansible-inventory -i inventory.ini --list
ansible-inventory -i inventory.yml --graph

 ## –ö–æ–Ω—Å–ø–µ–∫—Ç:

	‚Ä¢	Inventory –æ–ø–∏—Å—ã–≤–∞–µ—Ç —É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ —Ö–æ—Å—Ç—ã
	‚Ä¢	–§–æ—Ä–º–∞—Ç—ã: INI, YAML, Dynamic
	‚Ä¢	ansible_connection=local ‚Äî –¥–ª—è localhost
	‚Ä¢	–ú–æ–∂–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å –≥—Ä—É–ø–ø—ã: [web], [db]
	‚Ä¢	ansible_user, ansible_host, ansible_ssh_private_key_file ‚Äî –∫–ª—é—á–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

---

### –ó–∞–¥–∞–Ω–∏–µ

1. –°–æ–∑–¥–∞–π –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π —Ç—Ä–∏ inventory:
	1.	–õ–æ–∫–∞–ª—å–Ω—ã–π ‚Äî localhost —Å ansible_connection=local
	2.	–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π ‚Äî –∫ —Ç–≤–æ–µ–π –≤–∏—Ä—Ç—É–∞–ª–∫–µ —á–µ—Ä–µ–∑ Vagrant (–∫–∞–∫ –≤ ANS-02)
	3.	–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π ‚Äî –Ω–∞ –≤—ã–±–æ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–ª–∞–≥–∏–Ω community.docker –∏–ª–∏ —Å–∫—Ä–∏–ø—Ç-–∑–∞–≥–ª—É—à–∫–∞)

1. `–°–æ–∑–¥–∞–π 3 —Ñ–∞–π–ª–∞: ‚Ä¢	inventory_local.ini ‚Ä¢	inventory_static.ini ‚Ä¢	inventory_dynamic.sh (–∏–ª–∏ .py, .yaml)`

```
inventory_local.ini
[local]
localhost ansible_connection=local

inventory_static.ini
[web]
web1 ansible_host=10.37.129.3 ansible_user=vagrant ansible_password=vagrant ansible_ssh_common_args='-o StrictHostKeyChecking=no'

inventory_dynamic.sh
#!/usr/bin/env python3
import json

inventory = {
    "all": {
        "hosts": ["web1"],
        "vars": {},
    },
    "_meta": {
        "hostvars": {
            "web1": {
                "ansible_host": "10.37.129.3",
                "ansible_user": "vagrant",
                "ansible_password": "vagrant",
                "ansible_ssh_common_args": "-o StrictHostKeyChecking=no"
            }
        }
    }
}

print(json.dumps(inventory))


```
2. `–£–±–µ–¥–∏—Å—å, —á—Ç–æ ansible all -i <inventory> -m ping —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö (–∏–ª–∏ –∏–º–∏—Ç–∏—Ä—É–µ—Ç)`

```

```
3. `–ò—Å–ø–æ–ª—å–∑—É–π --list –∏ --graph –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä`

```

```

`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
---

# –ú–æ–¥—É–ª—å "`Ansible`" - `ANS-04 - SSH-–¥–æ—Å—Ç—É–ø –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è Ansible`

 ### üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞
SSH-–¥–æ—Å—Ç—É–ø –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è Ansible

---

 ## üìò –¢–µ–æ—Ä–∏—è (–∫—Ä–∞—Ç–∫–æ)

üîπ –ö–∞–∫ Ansible –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —É–¥–∞–ª—ë–Ω–Ω–æ–π –º–∞—à–∏–Ω–µ?

Ansible –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–±—ã—á–Ω—ã–π SSH –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —É–ø—Ä–∞–≤–ª—è–µ–º—ã–º —É–∑–ª–∞–º:
ansible web -i inventory.ini -m ping
–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–µ–ª–∞–µ—Ç —Ç–æ –∂–µ —Å–∞–º–æ–µ, —á—Ç–æ —Ç—ã –±—ã —Å–¥–µ–ª–∞–ª –≤—Ä—É—á–Ω—É—é:
ssh -i ~/.ssh/key.pem user@IP

üîπ –°–ø–æ—Å–æ–±—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
üîë Private key (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) –°–∞–º—ã–π –±–µ–∑–æ–ø–∞—Å–Ω—ã–π. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å ansible_ssh_private_key_file
üîê –ü–∞—Ä–æ–ª—å –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —á–µ—Ä–µ–∑ --ask-pass, –Ω–æ —ç—Ç–æ –Ω–µ—É–¥–æ–±–Ω–æ –∏ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ
üîê SSH-–∞–≥–µ–Ω—Ç –ö–ª—é—á–∏ –∑–∞—Ä–∞–Ω–µ–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ ssh-agent, Ansible –ø—Ä–æ—Å—Ç–æ –∏—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç
üîÅ Ansible Vault –•—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π –∏ –∫–ª—é—á–µ–π –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ

üî∏ –ö–∞–∫ –∑–∞–¥–∞—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ inventory.ini
[web]
web1 ansible_host=10.37.129.4 ansible_user=vagrant ansible_ssh_private_key_file=.vagrant/machines/default/parallels/private_key
–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å:
ansible_port=2222
ansible_ssh_common_args='-o StrictHostKeyChecking=no'

üî∏ –£–∫–∞–∑–∞–Ω–∏–µ –ø–∞—Ä–æ–ª—è (–µ—Å–ª–∏ –Ω–µ—Ç –∫–ª—é—á–∞)
ansible web -i inventory.ini -m ping --ask-pass
üìõ –õ—É—á—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ. –¢–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–æ–≤ –∏ –æ—Ç–ª–∞–¥–∫–∏.

üî∏ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤—Ä—É—á–Ω—É—é:
ssh -i .vagrant/machines/default/parallels/private_key vagrant@10.37.129.4

üîπ –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏
Permission denied (publickey) –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å –¥–æ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞
Connection refused SSH –Ω–µ –∑–∞–ø—É—â–µ–Ω –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω–æ–π –º–∞—à–∏–Ω–µ
Host key verification failed –ù–µ –¥–æ–±–∞–≤–ª–µ–Ω –∫–ª—é—á –≤ known_hosts


 ## –ö–æ–Ω—Å–ø–µ–∫—Ç:

 –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä–æ–∫–∏ –≤ inventory.ini
web1 ansible_host=10.37.129.4 ansible_user=vagrant ansible_ssh_private_key_file=.vagrant/machines/default/parallels/private_key

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –≤—Ä—É—á–Ω—É—é
ssh -i .vagrant/.../private_key vagrant@10.37.129.4

 –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ssh-agent –∏–ª–∏ Vault

---

### –ó–∞–¥–∞–Ω–∏–µ

1. –ü—Ä–æ–≤–µ—Ä—å SSH-–¥–æ—Å—Ç—É–ø –≤—Ä—É—á–Ω—É—é

1. ` `

```

```


`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
---


# –ú–æ–¥—É–ª—å "`Ansible`" - `ANS-05 ‚Äî –ë–∞–∑–æ–≤—ã–µ –º–æ–¥—É–ª–∏ Ansible: ping, command, copy, apt, service, –∏ –¥—Ä.`

 ### üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞
–ú–æ–¥—É–ª–∏

---

 ## üìò –¢–µ–æ—Ä–∏—è (–∫—Ä–∞—Ç–∫–æ)

–ú–æ–¥—É–ª–∏ ‚Äî —ç—Ç–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ –±–ª–æ–∫–∏ Ansible. –ö–∞–∂–¥—ã–π task –≤ playbook –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–¥–∏–Ω –º–æ–¥—É–ª—å –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è.

‚∏ª

üîπ –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å:
ping - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è - ansible all -m ping
command - –ó–∞–ø—É—Å–∫ –∫–æ–º–∞–Ω–¥—ã (–±–µ–∑ –æ–±–æ–ª–æ—á–∫–∏) - command: uptime
shell - –ó–∞–ø—É—Å–∫ –∫–æ–º–∞–Ω–¥ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º shell - shell: echo $HOME
copy - –ö–æ–ø–∏—Ä—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω—ã–π —Ö–æ—Å—Ç - copy: src=... dest=...
apt - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–∞–º–∏ (Ubuntu/Debian) - apt: name=nginx state=present
yum - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–∞–º–∏ (RHEL/CentOS) - yum: name=httpd state=latest
service - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª—É–∂–±–∞–º–∏ (systemd, init) - service: name=nginx state=started
file - –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ –∏ –ø—Ä–∞–≤–∞–º–∏ - file: path=/tmp/test mode=0755 state=touch
debug - –í—ã–≤–æ–¥ –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∏–ª–∏ —Ç–µ–∫—Å—Ç–∞ - debug: msg="Deploy complete"

‚ö†Ô∏è –û—Ç–ª–∏—á–∏–µ command –∏ shell
	‚Ä¢	command ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ, –Ω–æ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –æ–±–æ–ª–æ—á–∫–∏ (&&, >, |)
	‚Ä¢	shell ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ bash/sh, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å—ë –∫–∞–∫ –≤ –æ–±—ã—á–Ω–æ–º shell

‚∏ª

üß† –ü—Ä–∏–º–µ—Ä –∑–∞–¥–∞—á–∏ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –º–æ–¥—É–ª—è–º–∏
- name: –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –º–æ–¥—É–ª–µ–π
  hosts: web
  become: true
  tasks:
    - name: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
      ping:

    - name: –í—ã–≤–æ–¥ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      command: whoami

    - name: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ index.html
      copy:
        src: ./files/index.html
        dest: /var/www/html/index.html

    - name: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ NGINX
      apt:
        name: nginx
        state: present
        update_cache: yes

    - name: –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞ NGINX
      service:
        name: nginx
        state: started
        enabled: true

üî∏ –û–±–∑–æ—Ä –º–æ–¥—É–ª–µ–π

‚úÖ ping

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —É–∑–ª–∞ –∏ Python-–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞.
ansible all -m ping

‚úÖ command

–ó–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ—Å—Ç—É—é –∫–æ–º–∞–Ω–¥—É –±–µ–∑ shell.
	‚Ä¢	–ë–µ–∑ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –ø–∞–π–ø–æ–≤ –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π.
ansible all -m command -a "uptime"
ansible all -m command -a "ls -l /home/vagrant"

‚úÖ shell

–ó–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É –≤ –æ–±–æ–ª–æ—á–∫–µ (/bin/sh), –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–∞–π–ø—ã, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, &&, | –∏ —Ç.–ø.
ansible all -m shell -a "echo $HOME && whoami"
ansible all -m shell -a "cat /etc/*release"

‚úÖ copy

–ö–æ–ø–∏—Ä—É–µ—Ç —Ñ–∞–π–ª —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω—É—é.
ansible all -m copy -a "src=./test.txt dest=/home/vagrant/test.txt"

‚úÖ apt

–ú–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤ –¥–ª—è Ubuntu/Debian (–∞–Ω–∞–ª–æ–≥ apt install ...)
ansible all -m apt -a "name=nginx state=present update_cache=yes" --become
	‚Ä¢	--become ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ç root.
	‚Ä¢	state=present ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç.
	‚Ä¢	state=absent ‚Äî —É–¥–∞–ª–∏—Ç—å –ø–∞–∫–µ—Ç.

 ## –ö–æ–Ω—Å–ø–µ–∫—Ç:

	‚Ä¢	–ú–æ–¥—É–ª—å = –¥–µ–π—Å—Ç–≤–∏–µ (command, copy, apt, ‚Ä¶)
	‚Ä¢	ping ‚Äî —Ç–µ—Å—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
	‚Ä¢	command vs shell: –ø–µ—Ä–≤—ã–π –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ, –≤—Ç–æ—Ä–æ–π –≥–∏–±—á–µ
	‚Ä¢	copy —Ç—Ä–µ–±—É–µ—Ç src –∏ dest
	‚Ä¢	apt/yum —É–ø—Ä–∞–≤–ª—è—é—Ç –ø–∞–∫–µ—Ç–∞–º–∏
	‚Ä¢	service —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏
   ping
ansible all -m ping

  command (–±–µ–∑ shell)
ansible all -m command -a "whoami"

  shell (–º–æ–∂–Ω–æ –ø–∞–π–ø—ã, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Ç.–¥.)
ansible all -m shell -a "echo $HOME"

  copy —Ñ–∞–π–ª
ansible all -m copy -a "src=local.txt dest=/tmp/remote.txt"

  apt (—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–∞)
ansible all -m apt -a "name=curl state=present update_cache=yes" --become

---

### –ó–∞–¥–∞–Ω–∏–µ

1. –°–æ–∑–¥–∞–π –ø–ª–µ–π–±—É–∫, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—â–∏–π —Ä–∞–±–æ—Ç—É –æ—Å–Ω–æ–≤–Ω—ã—Ö –º–æ–¥—É–ª–µ–π Ansible.
–ó–∞–¥–∞–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–∏–º—ã –Ω–∞ —Ç–≤–æ–µ–π –≤–∏—Ä—Ç—É–∞–ª–∫–µ Ubuntu (web1).

1. `–°–æ–∑–¥–∞–π –ø–ª–µ–π–±—É–∫ basic_modules.yml`

```

```
2. `–î–æ–±–∞–≤—å –∑–∞–¥–∞—á–∏: ‚Ä¢	ping ‚Ä¢	command: uptime ‚Ä¢	shell: echo $HOME ‚Ä¢	copy: —Ñ–∞–π–ª –∏–∑ ./files/hello.txt –≤ /tmp/hello.txt ‚Ä¢	apt: —É—Å—Ç–∞–Ω–æ–≤–∫–∞ curl ‚Ä¢	service: —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ nginx –∑–∞–ø—É—â–µ–Ω`

```

```
3. `–î–æ–±–∞–≤—å –≤—ã–≤–æ–¥ debug –≤ –∫–æ–Ω—Ü–µ: "–°—Ü–µ–Ω–∞—Ä–∏–π –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ"`

```
- name: –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –º–æ–¥—É–ª–µ–π
  hosts: web
  become: true
  tasks:
    - name: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
      ping:

    - name: –í—ã–≤–æ–¥
      command: uptime

    - name: –í—ã–≤–æ–¥ Home
      shell: echo $HOME

    - name: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ hello.txt
      copy:
        src: /Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-05/files/hello.txt
        dest: /tmp/hello.txt

    - name: –£—Å—Ç–∞–Ω–æ–≤–∫–∞
      apt:
        name: curl
        state: present
        update_cache: yes

    - name: –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞ NGINX
      service:
        name: nginx
        state: started
        enabled: true

    - name: –í—ã–≤–æ–¥
      debug:
        msg: "–°—Ü–µ–Ω–∞—Ä–∏–π –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ"

```

`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
---

# –ú–æ–¥—É–ª—å "`Ansible`" - `ANS-06 ‚Äî –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Ansible: vars, host_vars, group_vars, vars_files`

 ### üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞
–ü–ª–µ–π–±—É–∫–∏: —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, hosts, tasks, vars, become

---

 ## üìò –¢–µ–æ—Ä–∏—è (–∫—Ä–∞—Ç–∫–æ)

 üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ playbook?

Playbook ‚Äî —ç—Ç–æ YAML-—Ñ–∞–π–ª, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ ‚Äú–ø–ª–µ–π–æ–≤‚Äù (play), –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –≥–æ–≤–æ—Ä–∏—Ç Ansible, –∫–∞–∫–∏–º —Ö–æ—Å—Ç–∞–º —á—Ç–æ –¥–µ–ª–∞—Ç—å –∏ –∫–∞–∫.

–≠—Ç–æ –∫–∞–∫ —Å–∫—Ä–∏–ø—Ç, –Ω–æ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π ‚Äî —Ç—ã –æ–ø–∏—Å—ã–≤–∞–µ—à—å, —á—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å, –∞ –Ω–µ –∫–∞–∫.

Ansible –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ. –≠—Ç–æ –æ—Å–Ω–æ–≤–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã—Ö –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä.

‚∏ª

üî∏ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ playbook‚Äô–∞
- name: –ù–∞–∑–≤–∞–Ω–∏–µ –ø–ª–µ–π–∞
  hosts: web
  become: true
  vars:
    package_name: htop
  tasks:
    - name: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç
      apt:
        name: "{{ package_name }}"
        state: present
        update_cache: yes
name –ß–µ–ª–æ–≤–µ–∫–æ-–ø–æ–Ω—è—Ç–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ play –∏–ª–∏ task
hosts –ù–∞ –∫–∞–∫–∏–µ —Ö–æ—Å—Ç—ã –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è (all, web, db –∏ —Ç.–ø.)
become –ù—É–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å sudo/root (–∞–Ω–∞–ª–æ–≥ --become)
vars –õ–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
tasks –°–ø–∏—Å–æ–∫ —à–∞–≥–æ–≤-–º–æ–¥—É–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ Ansible –≤—ã–ø–æ–ª–Ω–∏—Ç –ø–æ –æ—á–µ—Ä–µ–¥–∏

üî∏ –û—Ç–ª–∏—á–∏–µ –æ—Ç ansible -m
Ad-hoc (-m) - ansible all -m apt ... - –ë—ã—Å—Ç—Ä–æ–µ —Ä–∞–∑–æ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ
Playbook (YAML) - ansible-playbook playbook.yml - –°—Ü–µ–Ω–∞—Ä–∏–∏, CI/CD, DevOps


üîπ –ì–¥–µ –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ?
vars: –≤–Ω—É—Ç—Ä–∏ playbook - üü¢ –Ω–∏–∑–∫–∏–π - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä—è–º–æ –≤ playbook‚Äô–µ
host_vars/<hostname>.yml - üü° —Å—Ä–µ–¥–Ω–∏–π - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ö–æ—Å—Ç–∞
group_vars/<groupname>.yml - üü° —Å—Ä–µ–¥–Ω–∏–π - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –≤—Å–µ–π –≥—Ä—É–ø–ø—ã –∏–∑ inventory
vars_files: - üîµ –≤—ã—à–µ - –í–Ω–µ—à–Ω–∏–µ YAML-—Ñ–∞–π–ª—ã, –ø–æ–¥–∫–ª—é—á–∞–µ–º—ã–µ –≤ playbook
CLI (-e) - üî¥ –≤—ã—Å–æ–∫–∏–π - –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

üß© –ü—Ä–∏–º–µ—Ä: vars –≤–Ω—É—Ç—Ä–∏ playbook
- name: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ nginx —Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
  hosts: web
  become: true
  vars:
    web_package: nginx
  tasks:
    - name: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å {{ web_package }}
      apt:
        name: "{{ web_package }}"
        state: present

üìÅ group_vars –∏ host_vars

–°—Ç—Ä—É–∫—Ç—É—Ä–∞:
inventory.ini
group_vars/
  web.yml
host_vars/
  web1.yml

–ü—Ä–∏–º–µ—Ä group_vars/web.yml:
web_package: nginx

–ü—Ä–∏–º–µ—Ä host_vars/web1.yml:
web_port: 8080
Ansible —Å–∞–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∑–∏—Ç —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ inventory.

üî∏ vars_files
- name: –ü—Ä–∏–º–µ—Ä —Å vars_files
  hosts: web
  become: true
  vars_files:
    - vars/main.yml

–ê –≤ vars/main.yml:
web_package: nginx

üß† –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
	‚Ä¢	–í—Å–µ–≥–¥–∞ –æ–±–æ—Ä–∞—á–∏–≤–∞–π –≤ {{ variable }}
	‚Ä¢	–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ tasks, notify, templates, when, with_items, –∏ –¥—Ä.

 ## –ö–æ–Ω—Å–ø–µ–∫—Ç:

	‚Ä¢	vars: ‚Äî –≤–Ω—É—Ç—Ä–∏ playbook
	‚Ä¢	group_vars/ ‚Äî –¥–ª—è –≥—Ä—É–ø–ø—ã —Ö–æ—Å—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, [web])
	‚Ä¢	host_vars/ ‚Äî –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ö–æ—Å—Ç–∞ (web1)
	‚Ä¢	vars_files ‚Äî –≤–Ω–µ—à–Ω–∏–µ YAML-—Ñ–∞–π–ª—ã —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
	‚Ä¢	–í—Å—ë ‚Äî –≤ —Ñ–æ—Ä–º–∞—Ç–µ key: value
---

### –ó–∞–¥–∞–Ω–∏–µ

1. –°–¥–µ–ª–∞–π —Ç–∞–∫, —á—Ç–æ–±—ã playbook:
	‚Ä¢	—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª –ø–∞–∫–µ—Ç (nginx, curl, –∏–ª–∏ htop) –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
	‚Ä¢	–ø–æ—Ä—Ç –¥–ª—è nginx –∑–∞–¥–∞–≤–∞–ª—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
	‚Ä¢	–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –±—Ä–∞–ª–∏—Å—å:
	‚Ä¢	–æ–¥–Ω–∞ –∏–∑ vars –≤ playbook
	‚Ä¢	–æ–¥–Ω–∞ –∏–∑ group_vars
	‚Ä¢	–æ–¥–Ω–∞ –∏–∑ host_vars
	‚Ä¢	–æ–¥–Ω–∞ –∏–∑ vars_files

1. `–°–æ–∑–¥–∞–π playbook vars_demo.yml`

```

```
2. `–î–æ–±–∞–≤—å: ‚Ä¢	vars: –≤ playbook ‚Ä¢	—Ñ–∞–π–ª group_vars/web.yml ‚Ä¢	—Ñ–∞–π–ª host_vars/web1.yml ‚Ä¢	—Ñ–∞–π–ª vars/main.yml –∏ –ø–æ–¥–∫–ª—é—á–∏ —á–µ—Ä–µ–∑ vars_files:`

```

```
3. `–í—ã–≤–µ–¥–∏ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ debug:`

```
- name: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
  hosts: web
  become: true
  vars:
    manual_package: nginx
  vars_files:
    - vars/main.yml

  tasks:
    - name: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤ vars (playbook)
      apt:
        name: "{{ manual_package }}"
        state: present

    - name: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç –∏–∑ group_vars
      apt:
        name: "{{ web_package }}"
        state: present

    - name: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç –∏–∑ vars_files
      apt:
        name: "{{ web2_package }}"
        state: present

    - name: –í—ã–≤–æ–¥ –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
      debug:
        msg: |
          From vars: {{ manual_package }}
          From group_vars: {{ web_package }}
          From vars_file: {{ web2_package }}

```


`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
---


# –ú–æ–¥—É–ª—å "`Ansible`" - `ANS-07 - –£—Å–ª–æ–≤–∏—è (when), —Ü–∏–∫–ª—ã (loop), handlers`

 ### üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞
–£—Å–ª–æ–≤–∏—è (when), —Ü–∏–∫–ª—ã (loop), –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ (handlers)

---

 ## üìò –¢–µ–æ—Ä–∏—è (–∫—Ä–∞—Ç–∫–æ)

üîπ when: –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —É—Å–ª–æ–≤–∏–π

–ü–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–¥–∞—á—É —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —É—Å–ª–æ–≤–∏–µ –∏—Å—Ç–∏–Ω–Ω–æ.
- name: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å nginx, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –û–° ‚Äî Ubuntu
  apt:
    name: nginx
    state: present
  when: ansible_facts['os_family'] == "Debian"

üîπ loop: –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á –ø–æ —Å–ø–∏—Å–∫—É

–í—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–¥–∞—á—É –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π.
- name: –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
  file:
    path: "/opt/{{ item }}"
    state: directory
  loop:
    - app
    - logs
    - config

üîπ with_items: —Å—Ç–∞—Ä—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
with_items:
  - user1
  - user2
‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è, –Ω–æ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª–µ–Ω loop.

üîπ handlers: —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è

–ï—Å–ª–∏ –∑–∞–¥–∞—á–∞ —á—Ç–æ-—Ç–æ –∏–∑–º–µ–Ω–∏–ª–∞, –º–æ–∂–Ω–æ ‚Äú—É–≤–µ–¥–æ–º–∏—Ç—å‚Äù –æ–±—Ä–∞–±–æ—Ç—á–∏–∫, —á—Ç–æ–±—ã –æ–Ω, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–ª —Å–µ—Ä–≤–∏—Å.
tasks:
  - name: –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å nginx –∫–æ–Ω—Ñ–∏–≥
    template:
      src: nginx.conf.j2
      dest: /etc/nginx/sites-available/default
    notify: restart nginx

handlers:
  - name: restart nginx
    service:
      name: nginx
      state: restarted
üî• –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –≤ –∫–æ–Ω—Ü–µ –ø–ª–µ–π–±—É–∫–∞, –¥–∞–∂–µ –µ—Å–ª–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω—ã –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑.


 ## –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã:

  –£—Å–ª–æ–≤–∏–µ
when: ansible_facts['distribution'] == "Ubuntu"

  –¶–∏–∫–ª
loop:
  - curl
  - htop
  - git

  Handler
notify: restart nginx

handlers:
  - name: restart nginx
    service:
      name: nginx
      state: restarted

---

### –ó–∞–¥–∞–Ω–∏–µ

1. –°–æ–∑–¥–∞–π multi_install.yml
–ü—É—Å—Ç—å –æ–Ω:
	‚Ä¢	—Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ web
	‚Ä¢	—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–∞–∫–µ—Ç–æ–≤ (curl, htop, git) —á–µ—Ä–µ–∑ loop
	‚Ä¢	–∏—Å–ø–æ–ª—å–∑—É–µ—Ç when:
	‚Ä¢	—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ ansible_facts['os_family'] == "Debian"
2. –°–æ–∑–¥–∞–π template —Ñ–∞–π–ª motd.j2 —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ–º: Welcome to {{ inventory_hostname }}!
Managed by Ansible üöÄ

1. `ansible-playbook -i inventory.ini vars_demo.yml`

```
ansible-playbook -i inventory.ini vars_demo.yml

PLAY [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö] ********************************************************************

TASK [Gathering Facts] **************************************************************************************************
[WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.
ok: [web1]

TASK [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤] ************************************************************************************************
ok: [web1] => (item=curl)
ok: [web1] => (item=htop)
ok: [web1] => (item=git)

TASK [–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª–∞] *************************************************************************************************
changed: [web1]

RUNNING HANDLER [restart nginx] *****************************************************************************************
changed: [web1]

PLAY RECAP **************************************************************************************************************
web1                       : ok=4    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0


- name: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
  hosts: web
  become: true

  tasks:
    - name: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤
      apt:
        name: "{{ item }}"
        state: present
      loop:
        - curl
        - htop
        - git
      when: ansible_os_family == "Debian"

    - name: –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª–∞
      template:
        src: motd.j2
        dest: /etc/motd
      notify: restart nginx

  handlers:
    - name: restart nginx
      service:
        name: nginx
        state: restarted

```


`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
---

# –ú–æ–¥—É–ª—å "`Ansible`" - `ANS-08 - –†–∞–±–æ—Ç–∞ —Å —à–∞–±–ª–æ–Ω–∞–º–∏ Jinja2 –∏ template`

 ### üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞
–†–∞–±–æ—Ç–∞ —Å —à–∞–±–ª–æ–Ω–∞–º–∏ Jinja2 –∏ –º–æ–¥—É–ª–µ–º template

---

 ## üìò –¢–µ–æ—Ä–∏—è (–∫—Ä–∞—Ç–∫–æ)

üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ Jinja2?

Jinja2 ‚Äî —ç—Ç–æ —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä. Ansible –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–≥–æ, —á—Ç–æ–±—ã:
	‚Ä¢	–í—Å—Ç–∞–≤–ª—è—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –∫–æ–Ω—Ñ–∏–≥–∏ ({{ var }})
	‚Ä¢	–£—Å–ª–æ–≤–Ω–æ –≤–∫–ª—é—á–∞—Ç—å/–≤—ã–∫–ª—é—á–∞—Ç—å —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã
	‚Ä¢	–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ü–∏–∫–ª—ã, —Ñ–∏–ª—å—Ç—Ä—ã –∏ —É—Å–ª–æ–≤–∏—è –≤ —à–∞–±–ª–æ–Ω–∞—Ö

üî∏ –ü—Ä–∏–º–µ—Ä—ã

‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
server {
    listen {{ nginx_port }};
    server_name {{ inventory_hostname }};
}

‚úÖ –£—Å–ª–æ–≤–∏–µ (if)
{% if enable_ssl %}
ssl_certificate /etc/ssl/cert.pem;
ssl_certificate_key /etc/ssl/key.pem;
{% endif %}

‚úÖ –¶–∏–∫–ª (for)
{% for user in users %}
- {{ user }}
{% endfor %}

‚úÖ –§–∏–ª—å—Ç—Ä—ã (default, upper, lower, replace, join, length –∏ –¥—Ä.)
Hello {{ username | default('Guest') | upper }}


 ## –ö–æ–Ω—Å–ø–µ–∫—Ç :

- `{{ variable }}              # –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
{{ list | join(", ") }}    # —Ñ–∏–ª—å—Ç—Ä
{% if condition %} ... {% endif %}
{% for item in list %} ... {% endfor %}`


---

### –ó–∞–¥–∞–Ω–∏–µ

1. `–°–æ–∑–¥–∞–π —Ñ–∞–π–ª index.html.j2 —Å–æ —Å–ª–µ–¥—É—é—â–µ–π –ª–æ–≥–∏–∫–æ–π:`

```
<html>
  <body>
    <h1>Hello from {{ inventory_hostname }}</h1>
    <ul>
    {% for service in services %}
      <li>{{ service }}</li>
    {% endfor %}
    </ul>

    {% if show_footer %}
    <footer>Managed by Ansible ‚Äî {{ ansible_date_time.date }}</footer>
    {% endif %}
  </body>
</html>
```
2. `–í group_vars/web.yml –¥–æ–±–∞–≤—å`

```
services:
  - nginx
  - docker
  - sshd
show_footer: true
```
3. `–ù–∞–ø–∏—à–∏ playbook –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º generate_page.yml, –∫–æ—Ç–æ—Ä—ã–π: ‚Ä¢	–∫–æ–ø–∏—Ä—É–µ—Ç —à–∞–±–ª–æ–Ω –≤ /home/vagrant/index.html ‚Ä¢	–∏—Å–ø–æ–ª—å–∑—É–µ—Ç template + –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ group_vars`

```
- name: –ó–∞–ø—É—Å–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
  hosts: web
  become: true

  tasks:
    - name: –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª–∞
      template:
        src: index.html.j2
        dest: /home/vagrant/index.html
      notify: restart nginx

  handlers:
    - name: restart nginx
      service:
        name: nginx
        state: restarted

ansible-playbook -i inventory.ini generate_page.yml

PLAY [–ó–∞–ø—É—Å–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö] ************************************************************************************************

TASK [Gathering Facts] **************************************************************************************************
[WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.
ok: [web1]

TASK [–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª–∞] *************************************************************************************************
changed: [web1]

RUNNING HANDLER [restart nginx] *****************************************************************************************
changed: [web1]

PLAY RECAP **************************************************************************************************************
web1                       : ok=3    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0

cat /home/vagrant/index.html
<html>
  <body>
    <h1>Hello from web1</h1>
    <ul>
          <li>nginx</li>
          <li>docker</li>
          <li>sshd</li>
        </ul>

        <footer>Managed by Ansible ‚Äî 2025-05-21</footer>
      </body>
</html>
```


`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
---


# –ú–æ–¥—É–ª—å "`Ansible`" - `ANS-9 - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ö–æ—Å—Ç–∞–º–∏ –∏ –≥—Ä—É–ø–ø–∞–º–∏`

 ### üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞
–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ö–æ—Å—Ç–∞–º–∏ –∏ –≥—Ä—É–ø–ø–∞–º–∏

---

 ## üìò –¢–µ–æ—Ä–∏—è (–∫—Ä–∞—Ç–∫–æ)

üîπ Inventory —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –≥—Ä—É–ø–ø–∞–º–∏ –∏ —Ö–æ—Å—Ç–∞–º–∏
[web]
web1 ansible_host=10.37.129.4 ansible_user=vagrant ansible_ssh_private_key_file=...

[db]
db1 ansible_host=10.37.129.5 ansible_user=vagrant ansible_ssh_private_key_file=...
–ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏–∏:
[prod:children]
web
db

üîπ –ü–ª–µ–π–±—É–∫–∏ –Ω–∞ –≥—Ä—É–ø–ø—ã
- name: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ curl –Ω–∞ web
  hosts: web
  tasks:
    - apt:
        name: curl
        state: present

- name: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL –Ω–∞ db
  hosts: db
  tasks:
    - apt:
        name: postgresql
        state: present

üîπ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞ –≥—Ä—É–ø–ø—É –∏ —Ö–æ—Å—Ç
	‚Ä¢	group_vars/web.yml ‚Üí –æ–±—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –≤—Å–µ—Ö web-—Å–µ—Ä–≤–µ—Ä–æ–≤
	‚Ä¢	host_vars/db1.yml ‚Üí —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è db1

‚∏ª

üîπ –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
inventory.ini
group_vars/
  web.yml
  db.yml
host_vars/
  web1.yml
  db1.yml


 ## –ö–æ–Ω—Å–ø–µ–∫—Ç:

- `[web]
web1 ansible_host=10.0.0.10

[db]
db1 ansible_host=10.0.0.20

[all:vars]
ansible_user=vagrant
ansible_ssh_private_key_file=...`

- `ansible web -i inventory.ini -m ping
ansible db -i inventory.ini -m ping`

---

### –ó–∞–¥–∞–Ω–∏–µ

1. `–î–æ–±–∞–≤—å –≤ inventory.ini –Ω–æ–≤—É—é –≥—Ä—É–ø–ø—É db, —Å —Ö–æ—Å—Ç–æ–º db1 (–º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –µ—â—ë –æ–¥–Ω—É Vagrant-–º–∞—à–∏–Ω—É, –µ—Å–ª–∏ —Ö–æ—á–µ—à—å; –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ—Ç –∂–µ —Ö–æ—Å—Ç –ø–æ–¥ –¥—Ä—É–≥–∏–º –∏–º–µ–Ω–µ–º)`

```
[web]
web1 ansible_host=10.37.129.5 ansible_user=vagrant ansible_ssh_private_key_file=/Users/sergeylapshov/Documents/Devops/docker/Ansible/.vagrant/machines/node1/parallels/private_key

[db]
web1 ansible_host=10.37.129.6 ansible_user=vagrant ansible_ssh_private_key_file=/Users/sergeylapshov/Documents/Devops/docker/Ansible/.vagrant/machines/node2/parallels/private_key

```
2. `–°–æ–∑–¥–∞–π —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É:`

```
group_vars/
  web.yml        ‚Üí package_name: nginx
  db.yml         ‚Üí package_name: postgresql
```
3. `–°–æ–∑–¥–∞–π –æ–¥–∏–Ω playbook install_by_group.yml, –∫–æ—Ç–æ—Ä—ã–π:`

```
	‚Ä¢	–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç {{ package_name }} –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –≥—Ä—É–ø–ø—É
	‚Ä¢	–î–µ–ª–∞–µ—Ç —ç—Ç–æ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ ‚Äî –¥–≤–∞ play –ø–æ–æ—á–µ—Ä—ë–¥–Ω–æ
```
4. `–í—ã–≤–æ–¥:`

```
	ansible-playbook -i inventory.ini install_by_group.yml

PLAY [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤] ************************************************************************************************

TASK [Gathering Facts] **************************************************************************************************
[WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.
ok: [web1]

TASK [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ nginx] ******************************************************************************************
changed: [web1]

PLAY [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤] ************************************************************************************************

TASK [Gathering Facts] **************************************************************************************************
ok: [web1]

TASK [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ postgres] ***************************************************************************************
ok: [web1]

PLAY RECAP **************************************************************************************************************
web1                       : ok=4    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0


- name: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤
  hosts: web
  become: true

  tasks:
    - name: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ nginx
      apt:
        name: "{{ package_name }}"
        state: present

- name: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤
  hosts: db
  become: true

  tasks:
    - name: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ postgres
      apt:
        name: "{{ package_name }}"
        state: present

```

`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
---

# –ú–æ–¥—É–ª—å "`Ansible`" - `ANS-10 - Ansible Roles: —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ`

 ### üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞
–ù–∞—É—á–∏—Ç—å—Å—è —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å Docker, –∑–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, —É–ø—Ä–∞–≤–ª—è—Ç—å –∏–º–∏ –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∏—Ö —Å—Ç–∞—Ç—É—Å.

---

 ## üìò –¢–µ–æ—Ä–∏—è (–∫—Ä–∞—Ç–∫–æ)

üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ role?

Role (—Ä–æ–ª—å) ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–ª–µ–π–±—É–∫–∏. –í —Ä–æ–ª–∏ —É–∂–µ –∑–∞–ª–æ–∂–µ–Ω—ã:
	‚Ä¢	–ü–ª–µ–π–±—É–∫–∏ (tasks)
	‚Ä¢	–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (vars)
	‚Ä¢	–®–∞–±–ª–æ–Ω—ã (templates)
	‚Ä¢	–•–µ–Ω–¥–ª–µ—Ä—ã (handlers)
	‚Ä¢	–§–∞–π–ª—ã (files)
	‚Ä¢	–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (meta)

üîπ –ó–∞—á–µ–º –Ω—É–∂–Ω—ã —Ä–æ–ª–∏?
–û–¥–∏–Ω –æ–≥—Ä–æ–º–Ω—ã–π –ø–ª–µ–π–±—É–∫ - –ú–æ–¥—É–ª–∏—Ä—É–µ–º–∞—è, –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
–°–ª–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å - –õ–µ–≥–∫–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –¥–µ–ª–∏—Ç—å—Å—è
–ù–µ—É–¥–æ–±–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å -–ß—ë—Ç–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è

üîπ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–æ–ª–∏
roles/
  nginx/
    tasks/
      main.yml
    handlers/
      main.yml
    templates/
      nginx.conf.j2
    files/
      index.html
    vars/
      main.yml
    defaults/
      main.yml
    meta/
      main.yml
üì¶ –í—Å–µ main.yml ‚Äî –≤—Ö–æ–¥–Ω—ã–µ —Ç–æ—á–∫–∏. Ansible –±—É–¥–µ—Ç –∏—Ö –∏—Å–∫–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

üî∏ –ö–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å —Ä–æ–ª—å –≤ –ø–ª–µ–π–±—É–∫–µ
- name: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ nginx —á–µ—Ä–µ–∑ —Ä–æ–ª—å
  hosts: web
  become: true
  roles:
    - nginx

üî∏ –°–æ–∑–¥–∞–Ω–∏–µ —Ä–æ–ª–∏ –≤—Ä—É—á–Ω—É—é
ansible-galaxy init roles/nginx
–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –∫–∞—Ä–∫–∞—Å —Ä–æ–ª–∏.

üî∏ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ —Ä–æ–ª–∏
	‚Ä¢	defaults/main.yml ‚Äî –Ω–∞–∏–º–µ–Ω–µ–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ (–º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–Ω–∞—Ä—É–∂–∏)
	‚Ä¢	vars/main.yml ‚Äî –≤—ã—à–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º


 ## –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã:


---

### –ó–∞–¥–∞–Ω–∏–µ

1. `–°–æ–∑–¥–∞–π —Ä–æ–ª—å nginx:`

```
ansible-galaxy init roles/nginx
```
2. `‚Ä¢	roles/nginx/tasks/main.yml ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞ nginx ‚Ä¢	roles/nginx/handlers/main.yml ‚Äî –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ nginx ‚Ä¢	roles/nginx/templates/nginx.conf.j2 ‚Äî —Ç–≤–æ–π —à–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ–∏–≥–∞ ‚Ä¢	roles/nginx/defaults/main.yml ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è nginx_port: 8080`

```
cat roles/nginx/tasks/main.yml
#SPDX-License-Identifier: MIT-0
---
# tasks file for roles/nginx
- name: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ nginx
  apt:
    name: "{{ package_name }}"
    state: present
  when: ansible_os_family == "Debian"
  tags:
    - nginx
    - install
    - packages

cat roles/nginx/handlers/main.yml
#SPDX-License-Identifier: MIT-0
---
# handlers file for roles/nginx
- name: restart nginx
  service:
    name: nginx
    state: restarted

cat roles/nginx/templates/nginx.conf.j2
server {
    listen {{ nginx_port }};
    location / {
        return 200 'Hello from Ansible';
    }
}

cat roles/nginx/defaults/main.yml
#SPDX-License-Identifier: MIT-0
---
# defaults file for roles/nginx
nginx_port: 8089
```
3. `–ù–∞–ø–∏—à–∏ playbook install_nginx_role.yml:`

```
- name: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ nginx —á–µ—Ä–µ–∑ —Ä–æ–ª—å
  hosts: web
  become: true
  roles:
    - nginx
```
4. `–°—Ç—Ä—É–∫—Ç—É—Ä–∞`

```
tree
.
‚îú‚îÄ‚îÄ install_nginx_role.yml
‚îú‚îÄ‚îÄ inventory.ini
‚îî‚îÄ‚îÄ roles
    ‚îî‚îÄ‚îÄ nginx
        ‚îú‚îÄ‚îÄ defaults
        ‚îÇ   ‚îî‚îÄ‚îÄ main.yml
        ‚îú‚îÄ‚îÄ files
        ‚îú‚îÄ‚îÄ handlers
        ‚îÇ   ‚îî‚îÄ‚îÄ main.yml
        ‚îú‚îÄ‚îÄ meta
        ‚îÇ   ‚îî‚îÄ‚îÄ main.yml
        ‚îú‚îÄ‚îÄ README.md
        ‚îú‚îÄ‚îÄ tasks
        ‚îÇ   ‚îî‚îÄ‚îÄ main.yml
        ‚îú‚îÄ‚îÄ templates
        ‚îÇ   ‚îî‚îÄ‚îÄ nginx.conf.j2
        ‚îú‚îÄ‚îÄ tests
        ‚îÇ   ‚îú‚îÄ‚îÄ inventory
        ‚îÇ   ‚îî‚îÄ‚îÄ test.yml
        ‚îî‚îÄ‚îÄ vars
            ‚îî‚îÄ‚îÄ main.yml

11 directories, 11 files
```


`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
---

# –ú–æ–¥—É–ª—å "`Ansible`" - `ANS-11 - Ansible Galaxy: —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ community-—Ä–æ–ª–µ–π`

 ### üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞
Ansible Galaxy ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ community-—Ä–æ–ª–µ–π

---

 ## üìò –¢–µ–æ—Ä–∏—è (–∫—Ä–∞—Ç–∫–æ)

üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ Ansible Galaxy?

–≠—Ç–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∏ CLI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ:
	‚Ä¢	üì¶ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–µ —Ä–æ–ª–∏
	‚Ä¢	üöÄ –ü—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ
	‚Ä¢	üîÅ –ü–æ–¥–∫–ª—é—á–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
	‚Ä¢	üìÅ –û–±–Ω–æ–≤–ª—è—Ç—å –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å —Ä–æ–ª—è–º–∏ –∫–∞–∫ –ø–∞–∫–µ—Ç–∞–º–∏

üîπ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç?

–†–æ–ª–∏ –∏–∑ Galaxy —Å–∫–∞—á–∏–≤–∞—é—Ç—Å—è –≤:
	‚Ä¢	~/.ansible/roles/ ‚Äî –≥–ª–æ–±–∞–ª—å–Ω–æ
	‚Ä¢	–∏–ª–∏ –≤ roles/ —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞, –µ—Å–ª–∏ —É–∫–∞–∑–∞—Ç—å --roles-path

‚∏ª

üî∏ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–æ–ª–∏ –∏–∑ Galaxy

–ü—Ä–∏–º–µ—Ä:
ansible-galaxy install geerlingguy.docker
üì¶ –≠—Ç–æ —Å–∫–∞—á–∞–µ—Ç –ø–æ–ø—É–ª—è—Ä–Ω—É—é —Ä–æ–ª—å docker –æ—Ç Jeff Geerling.

üî∏ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ playbook
- name: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker —á–µ—Ä–µ–∑ —Ä–æ–ª—å
  hosts: web
  become: true
  roles:
    - geerlingguy.docker
–í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–æ–ª–∏ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ Ansible Galaxy.

üî∏ –§–∞–π–ª requirements.yml

–ú–æ–∂–Ω–æ —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ä–æ–ª–∏ –∏ –≤–µ—Ä—Å–∏–∏:
- src: geerlingguy.docker
  version: 6.0.1
  –ó–∞—Ç–µ–º:
  ansible-galaxy install -r requirements.yml


 ## –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã:



---

### –ó–∞–¥–∞–Ω–∏–µ

1. `–£—Å—Ç–∞–Ω–æ–≤–∏ —Ä–æ–ª—å:`

```
ansible-galaxy install geerlingguy.docker
```
2. `–°–æ–∑–¥–∞–π —Ñ–∞–π–ª install_docker.yml —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–æ–ª–∏:`

```
- name: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker —á–µ—Ä–µ–∑ —Ä–æ–ª—å Galaxy
  hosts: web
  become: true
  roles:
    - geerlingguy.docker
```
3. `–ó–∞–ø—É—Å—Ç–∏ playbook –∏ —É–±–µ–¥–∏—Å—å, —á—Ç–æ Docker —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω–æ–π –º–∞—à–∏–Ω–µ`

```

```

`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
---



# –ú–æ–¥—É–ª—å "`Ansible`" - `ANS-12 - –¢–µ–≥–∏, —Ñ–ª–∞–≥–∏ –∏ –≤—ã–±–æ—Ä–æ—á–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á`

 ### üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞
–¢–µ–≥–∏, —Ñ–ª–∞–≥–∏ –∏ –≤—ã–±–æ—Ä–æ—á–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á

---

 ## üìò –¢–µ–æ—Ä–∏—è (–∫—Ä–∞—Ç–∫–æ)

üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ tags?

tags –ø–æ–∑–≤–æ–ª—è—é—Ç –ø–æ–º–µ—Ç–∏—Ç—å –∑–∞–¥–∞—á–∏ (–∏–ª–∏ –¥–∞–∂–µ —Ü–µ–ª—ã–µ —Ä–æ–ª–∏), —á—Ç–æ–±—ã –∑–∞—Ç–µ–º –∑–∞–ø—É—Å–∫–∞—Ç—å —Ç–æ–ª—å–∫–æ –∏—Ö –∏–ª–∏ –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å.

üî∏ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
tasks:
  - name: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å nginx
    apt:
      name: nginx
      state: present
    tags:
      - install
      - web

  - name: –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥
    template:
      src: nginx.conf.j2
      dest: /etc/nginx/nginx.conf
    tags:
      - config

üî∏ –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Ç–µ–≥–æ–≤:
ansible-playbook -i inventory.ini playbook.yml --tags install

üî∏ –ü—Ä–æ–ø—É—Å–∫ –∑–∞–¥–∞—á –ø–æ —Ç–µ–≥–∞–º:
ansible-playbook -i inventory.ini playbook.yml --skip-tags config

üîπ –ö–∞–∫ –ø–æ–º–µ—Ç–∏—Ç—å –≤—Å—é —Ä–æ–ª—å —Ç–µ–≥–æ–º:
roles:
  - role: nginx
    tags: [nginx, web]

 ## –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã:


---

### –ó–∞–¥–∞–Ω–∏–µ

1. `–í–æ–∑—å–º–∏ –æ–¥–∏–Ω –∏–∑ —Å–≤–æ–∏—Ö playbook‚Äô–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, install_nginx_role.yml) –∏ –ø–æ–º–µ—Ç—å:`

```
–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–∞ install
–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ config
–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ nginx (handler) restart
```
2. `–ó–∞–ø—É—Å—Ç–∏ playbook:`

```
  ‚Ä¢	–¢–æ–ª—å–∫–æ --tags install
	‚Ä¢	–¢–æ–ª—å–∫–æ --tags config
	‚Ä¢	–ü—Ä–æ–ø—É—Å—Ç–∏ --skip-tags restart
```

`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
---


# –ú–æ–¥—É–ª—å "`Ansible`" - `ANS-13 - –§–∞–π–ª—ã ansible.cfg, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è`

 ### üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞
–§–∞–π–ª ansible.cfg –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è

---

 ## üìò –¢–µ–æ—Ä–∏—è (–∫—Ä–∞—Ç–∫–æ)

üîπ –ì–¥–µ Ansible –∏—â–µ—Ç –∫–æ–Ω—Ñ–∏–≥?

Ansible –∏—â–µ—Ç ansible.cfg –≤ —Ç–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ:
	1.	–§–ª–∞–≥ CLI (--config)
	2.	–¢–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è (./ansible.cfg)
	3.	–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è (ANSIBLE_CONFIG)
	4.	–î–æ–º–∞—à–Ω—è—è –ø–∞–ø–∫–∞ (~/.ansible.cfg)
	5.	–°–∏—Å—Ç–µ–º–Ω—ã–π —Ñ–∞–π–ª (/etc/ansible/ansible.cfg)

‚úÖ –û–±—ã—á–Ω–æ –º—ã —Å–æ–∑–¥–∞—ë–º ansible.cfg –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.

‚∏ª

üî∏ –ü—Ä–∏–º–µ—Ä –±–∞–∑–æ–≤–æ–≥–æ ansible.cfg
[defaults]
inventory = inventory.ini
remote_user = vagrant
private_key_file = .vagrant/machines/default/parallels/private_key
host_key_checking = False
retry_files_enabled = False
deprecation_warnings = False
timeout = 10

[privilege_escalation]
become = True
become_method = sudo
become_user = root

üîπ –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
inventory –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–∫–∞–∑–∞–Ω–Ω—ã–π inventory-—Ñ–∞–π–ª
host_key_checking –ù–µ —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º SSH-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏
remote_user –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
private_key_file –ü—É—Ç—å –∫ SSH-–∫–ª—é—á—É
retry_files_enabled –ù–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å retry-—Ñ–∞–π–ª—ã
forks –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö —Ö–æ—Å—Ç–æ–≤
timeout –í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è SSH
roles_path –ì–¥–µ –∏—Å–∫–∞—Ç—å —Ä–æ–ª–∏


 ## –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã:

---

### –ó–∞–¥–∞–Ω–∏–µ

1. `–°–æ–∑–¥–∞–π —Ñ–∞–π–ª ansible.cfg –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞`

```

```
2. `–ü—Ä–æ–ø–∏—à–∏ –≤ –Ω—ë–º:s`

```
[defaults]
inventory = inventory.ini
remote_user = vagrant
private_key_file = .vagrant/machines/default/parallels/private_key
host_key_checking = False
retry_files_enabled = False
timeout = 10
deprecation_warnings = False
```
3. `–£–¥–∞–ª–∏ -i inventory.ini –∏–∑ –∑–∞–ø—É—Å–∫–∞ –ø–ª–µ–π–±—É–∫–∞ –∏ —É–±–µ–¥–∏—Å—å, —á—Ç–æ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç:`

```
ansible-playbook install_nginx_role.yml
```

`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
---

# –ú–æ–¥—É–ª—å "`Ansible`" - `ANS-14 - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ Ansible (nginx, docker, etc.)`

 ### üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞
–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ Ansible (nginx, docker, etc.)

---

 ## üìò –¢–µ–æ—Ä–∏—è (–∫—Ä–∞—Ç–∫–æ)

Ansible –º–æ–∂–µ—Ç —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –ª—é–±—ã–µ –ø–∞–∫–µ—Ç—ã, —Å–µ—Ä–≤–∏—Å—ã, –∏ –¥–∞–∂–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –∏—Ö ‚Äî –≥–ª–∞–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ.

‚∏ª

üîπ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã:

‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ apt/yum:
- name: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å nginx
  apt:
    name: nginx
    state: present
    update_cache: yes

‚úÖ –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π (template, copy):
- name: –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å nginx –∫–æ–Ω—Ñ–∏–≥
  template:
    src: nginx.conf.j2
    dest: /etc/nginx/nginx.conf

‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤:
- name: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ nginx
  service:
    name: nginx
    state: restarted

‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker:
	‚Ä¢	–ú–æ–∂–Ω–æ —Ä—É–∫–∞–º–∏ —á–µ—Ä–µ–∑ apt
	‚Ä¢	–ò–ª–∏ —á–µ—Ä–µ–∑ –≥–æ—Ç–æ–≤—É—é —Ä–æ–ª—å: geerlingguy.docker

 ## –ö–æ–Ω—Å–ø–µ–∫—Ç:

tasks:
  - name: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å nginx
    apt:
      name: nginx
      state: present

  - name: –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥
    template:
      src: nginx.conf.j2
      dest: /etc/nginx/sites-available/default

  - name: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ nginx
    service:
      name: nginx
      state: restarted

---

### –ó–∞–¥–∞–Ω–∏–µ

1. `–°–æ–∑–¥–∞–π playbook —Å –¥–≤—É–º—è plays: web –∏ docker`

```

```
2. `–ü—É—Å—Ç—å: ‚Ä¢	–í web —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è nginx, –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –∫–æ–Ω—Ñ–∏–≥, –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è ‚Ä¢	–í docker —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è docker.io —á–µ—Ä–µ–∑ apt, –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–µ—Å—Ç–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, hello-world)`

```

```
3. `–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å group_vars:`

```
group_vars/
  web.yml       ‚Üí nginx_port: 8080
```

`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
---


# –ú–æ–¥—É–ª—å "`Ansible`" - `ANS-15 - CI/CD —Å Ansible (–æ—Å–Ω–æ–≤–∞ –¥–ª—è –±—É–¥—É—â–µ–π —Å–≤—è–∑–∫–∏)`

 ### üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞
CI/CD —Å Ansible (–æ—Å–Ω–æ–≤–∞ –¥–ª—è –±—É–¥—É—â–µ–π —Å–≤—è–∑–∫–∏)

---

 ## üìò –¢–µ–æ—Ä–∏—è (–∫—Ä–∞—Ç–∫–æ)

üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ CI/CD —Å Ansible?

–≠—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ playbook‚Äô–æ–≤:
	‚Ä¢	CI: —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç –ø–ª–µ–π–±—É–∫–∏, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—Å, idempotency
	‚Ä¢	CD: —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ—Å–ª–µ push‚Äô–∞

‚∏ª

üî∏ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
GitHub Actions ansible-playbook site.yml –ø–æ—Å–ª–µ –ø—É—à–∞ –≤ main
GitLab CI/CD –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ ansible –Ω–∞ staging
Jenkins –í—ã–∑–æ–≤ –ø–ª–µ–π–±—É–∫–∞ —á–µ—Ä–µ–∑ CLI —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

üî∏ –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è CI/CD:
	1.	–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å ansible.cfg, inventory, playbooks, roles
	2.	Docker-–æ–±—Ä–∞–∑ –∏–ª–∏ runner —Å Ansible
	3.	–î–æ—Å—Ç—É–ø –ø–æ SSH –∫ —Ü–µ–ª–µ–≤—ã–º —Ö–æ—Å—Ç–∞–º
	4.	–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –∫–ª—é—á–∏ –≤ Secrets

üî∏ –¢–∏–ø–∏—á–Ω—ã–π .github/workflows/deploy.yml
name: Deploy via Ansible

on:
  push:
    branches: [ main ]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Install Ansible
        run: sudo apt update && sudo apt install -y ansible

      - name: Run playbook
        run: ansible-playbook -i inventory.ini deploy.yml

 ## –ö–æ–Ω—Å–ø–µ–∫—Ç :

  –ü—Ä–æ–≤–µ—Ä–∫–∞ playbook'–∞:
ansible-playbook playbook.yml --syntax-check

  –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ CI:
ansible-playbook -i inventory.ini deploy.yml

---

### –ó–∞–¥–∞–Ω–∏–µ

1. `–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–π —Ç–µ–∫—É—â—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é Ansible-–ø—Ä–æ–µ–∫—Ç–∞:`

```
project/
‚îú‚îÄ‚îÄ ansible.cfg
‚îú‚îÄ‚îÄ inventory.ini
‚îú‚îÄ‚îÄ playbooks/
‚îÇ   ‚îî‚îÄ‚îÄ deploy.yml
‚îú‚îÄ‚îÄ roles/
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ .github/
    ‚îî‚îÄ‚îÄ workflows/
        ‚îî‚îÄ‚îÄ deploy.yml
```
2. `–ù–∞–ø–∏—à–∏ deploy.yml, –∫–æ—Ç–æ—Ä—ã–π: ‚Ä¢	–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç nginx ‚Ä¢	–ö–æ–ø–∏—Ä—É–µ—Ç index.html ‚Ä¢	–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç nginx`

```

```
3. `–î–æ–±–∞–≤—å .github/workflows/deploy.yml, –≤ –∫–æ—Ç–æ—Ä–æ–º: 	‚Ä¢	Checkout ‚Ä¢	–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Ansible ‚Ä¢	–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ ansible-playbook -i inventory.ini playbooks/deploy.yml`

```
Run ansible-playbook Ansible/ANS-15/deploy.yml
  ansible-playbook Ansible/ANS-15/deploy.yml
  shell: /usr/bin/bash -e {0}
Warning: : No inventory was parsed, only implicit localhost is available
Warning: : provided hosts list is empty, only localhost is available. Note that
the implicit localhost does not match 'all'
Warning: : Could not match supplied host pattern, ignoring: web

PLAY [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ nginx —á–µ—Ä–µ–∑ —Ä–æ–ª—å] **********************************************
skipping: no hosts matched

PLAY RECAP *********************************************************************

name: Deploy via Ansible

on:
  push:
    branches: [ main ]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Install Ansible
        run: sudo apt update && sudo apt install -y ansible

      - name: Run playbook
        run: ansible-playbook Ansible/ANS-15/deploy.yml

```

`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
---

# –ú–æ–¥—É–ª—å "`Ansible`" - `ANS-16 - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Ansible —Å Git`

 ### üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞
–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Ansible —Å Git
---

 ## üìò –¢–µ–æ—Ä–∏—è (–∫—Ä–∞—Ç–∫–æ)

üîπ –ß—Ç–æ —Ç—ã –º–æ–∂–µ—à—å –¥–µ–ª–∞—Ç—å —á–µ—Ä–µ–∑ Ansible –∏ Git:
–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ú–æ–¥—É–ª—å git
–î–µ–ª–∞—Ç—å pull, –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è git —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (refspec, version)
–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç—ã git checkout + build + restart
–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–µ–ø–ª–æ–π clone + —à–∞–±–ª–æ–Ω—ã + systemd +

üî∏ –ú–æ–¥—É–ª—å git
- name: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
  git:
    repo: 'https://github.com/example/project.git'
    dest: /opt/myapp
    version: main
    force: yes
  ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ SSH –∏–ª–∏ HTTPS
‚úÖ –ú–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å update
‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç key_file, accept_hostkey, bare, –∏ —Ç.–¥.



 ## –ö–æ–Ω—Å–ø–µ–∫—Ç:

- - name: Deploy Git repo
    git:
      repo: git@github.com:user/repo.git
      dest: /srv/app
      version: main
      key_file: ~/.ssh/id_rsa

---

### –ó–∞–¥–∞–Ω–∏–µ

1. `–°–æ–∑–¥–∞–π playbook clone_repo.yml: ‚Ä¢	–ò—Å–ø–æ–ª—å–∑—É–π –º–æ–¥—É–ª—å git ‚Ä¢	–ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–º–æ–∂–Ω–æ –ª—é–±–æ–π –ø—É–±–ª–∏—á–Ω—ã–π, –Ω–∞–ø—Ä–∏–º–µ—Ä —Ç–≤–æ–π —Å nginx playbook‚Äô–æ–º) ‚Ä¢	–ü—É—Ç—å: /home/vagrant/app ‚Ä¢	–í–µ—Ç–∫–∞: main –∏–ª–∏ master ‚Ä¢	–ü—Ä–æ—Å—Ç–∞–≤—å force: true, —á—Ç–æ–±—ã –æ–Ω –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–ª`

```
- name: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ nginx —á–µ—Ä–µ–∑ —Ä–æ–ª—å
  hosts: web
  become: true

  tasks:
    - name: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
      git:
        repo: 'https://github.com/DavyRoy/DevOps_practick.git'
        dest: /home/vagrant/app
        version: main
        force: yes

```

`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
---


# –ú–æ–¥—É–ª—å "`Ansible`" - `ANS-17 - –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: —Ä–∞–±–æ—Ç–∞ —Å –ø–∞—Ä–æ–ª—è–º–∏, ansible-vault`

 ### üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞
vault


---

 ## üìò –¢–µ–æ—Ä–∏—è (–∫—Ä–∞—Ç–∫–æ)

Ansible Vault –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞—à–∏—Ñ—Ä–æ–≤—ã–≤–∞—Ç—å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, —Ç–∞–∫–∏–µ –∫–∞–∫:
	‚Ä¢	–ü–∞—Ä–æ–ª–∏
	‚Ä¢	–¢–æ–∫–µ–Ω—ã –¥–æ—Å—Ç—É–ø–∞
	‚Ä¢	–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
	‚Ä¢	–ö–ª—é—á–∏ API, –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏

üî∏ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç?
	‚Ä¢	Vault —à–∏—Ñ—Ä—É–µ—Ç YAML-—Ñ–∞–π–ª (–∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é)
	‚Ä¢	–§–∞–π–ª –æ—Å—Ç–∞—ë—Ç—Å—è YAML-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º, –Ω–æ –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–æ
	‚Ä¢	–î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è playbook —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–∞—Ä–æ–ª—å –∏–ª–∏ –∫–ª—é—á

‚∏ª

üîê –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
ansible-vault create secrets.yml –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª
ansible-vault edit secrets.yml –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
ansible-vault view secrets.yml –ü—Ä–æ—Å–º–æ—Ç—Ä (—Ç–æ–ª—å–∫–æ —Å –ø–∞—Ä–æ–ª–µ–º)
ansible-vault encrypt file.yml –ó–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ–∞–π–ª
ansible-vault decrypt file.yml –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å
--ask-vault-pass –ó–∞–ø—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ playbook
--vault-password-file –£–∫–∞–∑–∞—Ç—å —Ñ–∞–π–ª —Å –ø–∞—Ä–æ–ª–µ–º


 ## –ö–æ–Ω—Å–ø–µ–∫—Ç:

  –°–æ–∑–¥–∞–Ω–∏–µ
ansible-vault create secrets.yml

  –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
ansible-playbook playbook.yml --ask-vault-pass

  –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞
ansible-playbook playbook.yml --vault-password-file ~/.vault_pass.txt

---

### –ó–∞–¥–∞–Ω–∏–µ

1. `–°–æ–∑–¥–∞–π –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª:`

```
ansible-vault create secrets.yml
```
2. `–í–Ω—É—Ç—Ä–∏ –ø—Ä–æ–ø–∏—à–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:`

```
dockerhub_password: mySuperSecret123
```
3. `–°–æ–∑–¥–∞–π –ø–ª–µ–π–±—É–∫ use_secret.yml:`

```
- name: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞
  hosts: localhost
  vars_files:
    - secrets.yml
  tasks:
    - name: –ü–æ–∫–∞–∑–∞—Ç—å —Å–µ–∫—Ä–µ—Ç (—Ç–æ–ª—å–∫–æ –≤ —Ü–µ–ª—è—Ö –æ–±—É—á–µ–Ω–∏—è)
      debug:
        msg: "DockerHub Password is {{ dockerhub_password }}"
```
4. `–ó–∞–ø—É—Å—Ç–∏ playbook —Å:`

```
ansible-playbook use_secret.yml --ask-vault-pass
```

`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
---

# –ú–æ–¥—É–ª—å "`Ansible`" - `ANS-18 - –õ–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ—Ç–ª–∞–¥–∫–∞ –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è`

 ### üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞
–õ–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ—Ç–ª–∞–¥–∫–∞ –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è Ansible

---

 ## üìò –¢–µ–æ—Ä–∏—è (–∫—Ä–∞—Ç–∫–æ)

üîπ –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?
	‚Ä¢	–û—Ç–ª–∞–¥–∫–∞ –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–Ω—è—Ç—å, –≥–¥–µ –∏ –ø–æ—á–µ–º—É ‚Äú–ø–∞–¥–∞–µ—Ç‚Äù –ø–ª–µ–π–±—É–∫
	‚Ä¢	–õ–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ (–æ—Å–æ–±–µ–Ω–Ω–æ –≤ CI/CD)
	‚Ä¢	–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ—Ä—è–¥–∫–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ —Ö–æ—Å—Ç–æ–≤

‚∏ª

üî∏ –£—Ä–æ–≤–Ω–∏ –≤—ã–≤–æ–¥–∞ (verbosity)
-v –ë–∞–∑–æ–≤–∞—è –æ—Ç–ª–∞–¥–∫–∞ (—á—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è)
-vvv –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞ –º–æ–¥—É–ª–µ–π
-vvvv –ü–æ–ª–Ω—ã–π SSH-–æ—Ç–ª–∞–¥–æ—á–Ω—ã–π –≤—ã–≤–æ–¥

ansible-playbook playbook.yml -vvv

üî∏ debug: –∏ pause: –º–æ–¥—É–ª–∏

–î–ª—è –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–π –æ—Ç–ª–∞–¥–∫–∏:
- name: –ü–æ–∫–∞–∑–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
  debug:
    var: ansible_facts['os_family']

- name: –ü–∞—É–∑–∞ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
  pause:
    prompt: "–ù–∞–∂–º–∏ Enter –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è"

üî∏ –õ–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª (ansible.cfg)
[defaults]
log_path = logs/ansible.log
–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∫–∞–∂–¥—ã–π –∑–∞–ø—É—Å–∫ –ø–ª–µ–π–±—É–∫–∞ –±—É–¥–µ—Ç –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –≤ —Ñ–∞–π–ª.

‚∏ª

üî∏ –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

Ansible –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—é linear:
	‚Ä¢	–û–¥–∏–Ω —Ç–∞—Å–∫ ‚Äî –Ω–∞ –≤—Å–µ —Ö–æ—Å—Ç—ã
	‚Ä¢	–ó–∞—Ç–µ–º —Å–ª–µ–¥—É—é—â–∏–π —Ç–∞—Å–∫ ‚Äî –Ω–∞ –≤—Å–µ —Ö–æ—Å—Ç—ã

–ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å:
strategy: free
	‚Ä¢	–ü–æ–∑–≤–æ–ª—è–µ—Ç —Ö–æ—Å—Ç–∞–º –≤—ã–ø–æ–ª–Ω—è—Ç—å –≤—Å–µ –∑–∞–¥–∞—á–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞

 ## –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã:


---

### –ó–∞–¥–∞–Ω–∏–µ

1. `–í ansible.cfg –¥–æ–±–∞–≤—å:`

```
[defaults]
log_path = logs/ansible.log
```
2. `–í –æ–¥–Ω–æ–º –∏–∑ –ø–ª–µ–π–±—É–∫–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, install_nginx_role.yml) –¥–æ–±–∞–≤—å: ‚Ä¢	debug: ‚Üí –ø–æ–∫–∞–∂–∏ ansible_hostname ‚Ä¢	pause: ‚Üí –ø–æ—Å—Ç–∞–≤—å –ø–∞—É–∑—É –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ ‚Ä¢	strategy: free ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ —É —Ç–µ–±—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ö–æ—Å—Ç–æ–≤`

```

```
3. `–ó–∞–ø—É—Å—Ç–∏ playbook —Å -vvv`

```
- name: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ nginx —á–µ—Ä–µ–∑ —Ä–æ–ª—å
  hosts: web
  become: true
  roles:
    - role: nginx
      tags: [install, config]
  tasks:
    - name: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
      debug:
        var: ansible_hostname
    - name: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
      pause:
        prompt: "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π ansible_hostname"

```

`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
---


# –ú–æ–¥—É–ª—å "`Ansible`" - `ANS-19 - –õ—É—á—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ production playbook`

 ### üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞
–õ—É—á—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ production playbook

---

 ## üìò –¢–µ–æ—Ä–∏—è (–∫—Ä–∞—Ç–∫–æ)

–°–æ–∑–¥–∞—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–π, –º–æ–¥—É–ª—å–Ω—ã–π, –±–µ–∑–æ–ø–∞—Å–Ω—ã–π, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π Ansible-–ø—Ä–æ–µ–∫—Ç.
–¢–∞–∫–æ–π, –∫–æ—Ç–æ—Ä—ã–π:
	‚Ä¢	–î–µ–ª–∏—Ç—Å—è –ø–æ —Ä–æ–ª—è–º
	‚Ä¢	–†–∞–±–æ—Ç–∞–µ—Ç —Å vault
	‚Ä¢	–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Ç–µ–≥–∏
	‚Ä¢	–õ–æ–≥–∏—Ä—É–µ—Ç –∏ –æ—Ç–ª–∞–∂–∏–≤–∞–µ—Ç—Å—è
	‚Ä¢	–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏–∑ CI/CD
	‚Ä¢	–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç –≤–µ—Å—å –ø—É—Ç—å –æ—Ç –∫–æ–¥–∞ –¥–æ –∑–∞–ø—É—â–µ–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞

‚∏ª

üî∏ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ production-–ø–ª–µ–π–±—É–∫–∞
project/
‚îú‚îÄ‚îÄ ansible.cfg
‚îú‚îÄ‚îÄ inventory.ini
‚îú‚îÄ‚îÄ group_vars/
‚îÇ   ‚îú‚îÄ‚îÄ web.yml
‚îÇ   ‚îî‚îÄ‚îÄ docker.yml
‚îú‚îÄ‚îÄ secrets/
‚îÇ   ‚îî‚îÄ‚îÄ vault.yml
‚îú‚îÄ‚îÄ playbooks/
‚îÇ   ‚îú‚îÄ‚îÄ deploy.yml
‚îÇ   ‚îî‚îÄ‚îÄ check.yml
‚îú‚îÄ‚îÄ roles/
‚îÇ   ‚îú‚îÄ‚îÄ nginx/
‚îÇ   ‚îî‚îÄ‚îÄ docker/
‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îî‚îÄ‚îÄ nginx.conf.j2
‚îú‚îÄ‚îÄ logs/
‚îÇ   ‚îî‚îÄ‚îÄ ansible.log
‚îú‚îÄ‚îÄ .github/
‚îÇ   ‚îî‚îÄ‚îÄ workflows/
‚îÇ       ‚îî‚îÄ‚îÄ deploy.yml
‚îî‚îÄ‚îÄ README.md

üîπ –ß—Ç–æ –≤–∫–ª—é—á–∞—Ç—å –≤ production playbook:
–†–æ–ª–∏ nginx, docker, monitoring
–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ group_vars, host_vars, defaults, vault
–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ansible-vault –¥–ª—è —Ç–æ–∫–µ–Ω–æ–≤ –∏ –ø–∞—Ä–æ–ª–µ–π
–£—Å–ª–æ–≤–Ω–æ—Å—Ç–∏ when, tags, loop, handlers
CI/CD –∑–∞–ø—É—Å–∫ –∏–∑ GitHub Actions, Jenkins –∏–ª–∏ GitLab
–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ log_path + -vvv + debug
–ü—Ä–æ–≤–µ—Ä–∫–∏ check.yml ‚Äî –¥–ª—è dry-run –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º (--check)


 ## –ö–æ–Ω—Å–ø–µ–∫—Ç :

- `ansible-playbook playbooks/deploy.yml --tags install --vault-password-file ~/.vault_pass.txt -vvv`


---

### –ó–∞–¥–∞–Ω–∏–µ

1. `–°–æ–∑–¥–∞–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞, –∫–∞–∫ –≤—ã—à–µ`

```

```
2. `–í playbooks/deploy.yml –ø–æ–¥–∫–ª—é—á–∏: ‚Ä¢	–†–æ–ª—å nginx ‚Üí —É—Å—Ç–∞–Ω–æ–≤–∫–∞ + –∫–æ–Ω—Ñ–∏–≥ ‚Ä¢	–†–æ–ª—å docker ‚Üí —É—Å—Ç–∞–Ω–æ–≤–∫–∞ + –∑–∞–ø—É—Å–∫ test-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ ‚Ä¢	–ó–∞–≥—Ä—É–∑–∫—É vault.yml ‚Ä¢	–ò—Å–ø–æ–ª—å–∑—É–π tags (install, config, restart)`

```

```
3. `–í ansible.cfg: ‚Ä¢	inventory = inventory.ini ‚Ä¢	log_path = logs/ansible.log ‚Ä¢	remote_user = vagrant, private_key_file = ...`

```

```
4. `–í group_vars/docker.yml:`

```
docker_test_image: hello-world
```
5. `–í secrets/vault.yml:`

```
dockerhub_token: mySuperSecret
```
6. `–í roles/nginx/tasks/main.yml –∏ –¥—Ä—É–≥–∏—Ö —Ä–æ–ª—è—Ö ‚Äî –¥–æ–±–∞–≤—å tags, handlers, debug, pause –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏`

```

```

`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
---

# –ú–æ–¥—É–ª—å "`Ansible`" - `DOC-10 –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å`

 ### üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞
–ù–∞—É—á–∏—Ç—å—Å—è —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å Docker, –∑–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, —É–ø—Ä–∞–≤–ª—è—Ç—å –∏–º–∏ –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∏—Ö —Å—Ç–∞—Ç—É—Å.

---

 ## üìò –¢–µ–æ—Ä–∏—è (–∫—Ä–∞—Ç–∫–æ)

Docker ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π —É–ø–∞–∫–æ–≤—ã–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –µ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –µ–¥–∏–Ω—ã–π –æ–±—Ä–∞–∑.

 ## –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã:

- `docker run`, `docker ps`, `docker stop`, `docker rm`
- `docker images`, `docker exec`

---

### –ó–∞–¥–∞–Ω–∏–µ

1. –£—Å—Ç–∞–Ω–æ–≤–∏ Docker (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
2. –ó–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å NGINX –Ω–∞ –ø–æ—Ä—Ç—É 8080
3. –ó–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å PostgreSQL
4. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
5. –û—Å—Ç–∞–Ω–æ–≤–∏ –∏ —É–¥–∞–ª–∏ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö

1. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
2. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
3. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
4. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
5. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
6. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```

`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
---

# –ú–æ–¥—É–ª—å "`Ansible`" - `DOC-01 –ß—Ç–æ —Ç–∞–∫–æ–µ Docker: –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞`

 ### üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞
–ù–∞—É—á–∏—Ç—å—Å—è —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å Docker, –∑–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, —É–ø—Ä–∞–≤–ª—è—Ç—å –∏–º–∏ –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∏—Ö —Å—Ç–∞—Ç—É—Å.

---

 ## üìò –¢–µ–æ—Ä–∏—è (–∫—Ä–∞—Ç–∫–æ)

Docker ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π —É–ø–∞–∫–æ–≤—ã–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –µ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –µ–¥–∏–Ω—ã–π –æ–±—Ä–∞–∑.

 ## –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã:

- `docker run`, `docker ps`, `docker stop`, `docker rm`
- `docker images`, `docker exec`

---

### –ó–∞–¥–∞–Ω–∏–µ

1. –£—Å—Ç–∞–Ω–æ–≤–∏ Docker (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
2. –ó–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å NGINX –Ω–∞ –ø–æ—Ä—Ç—É 8080
3. –ó–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å PostgreSQL
4. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
5. –û—Å—Ç–∞–Ω–æ–≤–∏ –∏ —É–¥–∞–ª–∏ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö

1. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
2. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
3. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
4. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
5. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
6. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```

`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
---



# –ú–æ–¥—É–ª—å "`Ansible`" - `DOC-02 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker –Ω–∞ macOS (M4)`

 ### üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞
–ù–∞—É—á–∏—Ç—å—Å—è —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å Docker, –∑–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, —É–ø—Ä–∞–≤–ª—è—Ç—å –∏–º–∏ –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∏—Ö —Å—Ç–∞—Ç—É—Å.

---

 ## üìò –¢–µ–æ—Ä–∏—è (–∫—Ä–∞—Ç–∫–æ)

Docker ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π —É–ø–∞–∫–æ–≤—ã–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –µ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –µ–¥–∏–Ω—ã–π –æ–±—Ä–∞–∑.

 ## –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã:

- `docker run`, `docker ps`, `docker stop`, `docker rm`
- `docker images`, `docker exec`

---

### –ó–∞–¥–∞–Ω–∏–µ

1. –£—Å—Ç–∞–Ω–æ–≤–∏ Docker (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
2. –ó–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å NGINX –Ω–∞ –ø–æ—Ä—Ç—É 8080
3. –ó–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å PostgreSQL
4. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
5. –û—Å—Ç–∞–Ω–æ–≤–∏ –∏ —É–¥–∞–ª–∏ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö

1. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
2. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
3. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
4. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
5. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
6. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```

`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
---


# –ú–æ–¥—É–ª—å "`Ansible`" - `DOC-03 Docker CLI: –∫–æ–º–∞–Ω–¥—ã, –æ–±—Ä–∞–∑—ã, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã`

 ### üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞
–ù–∞—É—á–∏—Ç—å—Å—è —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å Docker, –∑–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, —É–ø—Ä–∞–≤–ª—è—Ç—å –∏–º–∏ –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∏—Ö —Å—Ç–∞—Ç—É—Å.

---

 ## üìò –¢–µ–æ—Ä–∏—è (–∫—Ä–∞—Ç–∫–æ)

Docker ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π —É–ø–∞–∫–æ–≤—ã–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –µ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –µ–¥–∏–Ω—ã–π –æ–±—Ä–∞–∑.

 ## –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã:

- `docker run`, `docker ps`, `docker stop`, `docker rm`
- `docker images`, `docker exec`

---

### –ó–∞–¥–∞–Ω–∏–µ

1. –£—Å—Ç–∞–Ω–æ–≤–∏ Docker (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
2. –ó–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å NGINX –Ω–∞ –ø–æ—Ä—Ç—É 8080
3. –ó–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å PostgreSQL
4. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
5. –û—Å—Ç–∞–Ω–æ–≤–∏ –∏ —É–¥–∞–ª–∏ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö

1. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
2. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
3. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
4. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
5. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
6. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```

`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
---

# –ú–æ–¥—É–ª—å "`Ansible`" - `DOC-04 Dockerfile –∏ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ–±—Ä–∞–∑–∞`

 ### üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞
–ù–∞—É—á–∏—Ç—å—Å—è —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å Docker, –∑–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, —É–ø—Ä–∞–≤–ª—è—Ç—å –∏–º–∏ –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∏—Ö —Å—Ç–∞—Ç—É—Å.

---

 ## üìò –¢–µ–æ—Ä–∏—è (–∫—Ä–∞—Ç–∫–æ)

Docker ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π —É–ø–∞–∫–æ–≤—ã–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –µ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –µ–¥–∏–Ω—ã–π –æ–±—Ä–∞–∑.

 ## –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã:

- `docker run`, `docker ps`, `docker stop`, `docker rm`
- `docker images`, `docker exec`

---

### –ó–∞–¥–∞–Ω–∏–µ

1. –£—Å—Ç–∞–Ω–æ–≤–∏ Docker (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
2. –ó–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å NGINX –Ω–∞ –ø–æ—Ä—Ç—É 8080
3. –ó–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å PostgreSQL
4. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
5. –û—Å—Ç–∞–Ω–æ–≤–∏ –∏ —É–¥–∞–ª–∏ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö

1. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
2. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
3. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
4. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
5. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
6. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```

`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
---


# –ú–æ–¥—É–ª—å "`Ansible`" - `DOC-05 Docker Compose: –º–Ω–æ–≥–æ–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è`

 ### üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞
–ù–∞—É—á–∏—Ç—å—Å—è —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å Docker, –∑–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, —É–ø—Ä–∞–≤–ª—è—Ç—å –∏–º–∏ –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∏—Ö —Å—Ç–∞—Ç—É—Å.

---

 ## üìò –¢–µ–æ—Ä–∏—è (–∫—Ä–∞—Ç–∫–æ)

Docker ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π —É–ø–∞–∫–æ–≤—ã–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –µ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –µ–¥–∏–Ω—ã–π –æ–±—Ä–∞–∑.

 ## –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã:

- `docker run`, `docker ps`, `docker stop`, `docker rm`
- `docker images`, `docker exec`

---

### –ó–∞–¥–∞–Ω–∏–µ

1. –£—Å—Ç–∞–Ω–æ–≤–∏ Docker (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
2. –ó–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å NGINX –Ω–∞ –ø–æ—Ä—Ç—É 8080
3. –ó–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å PostgreSQL
4. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
5. –û—Å—Ç–∞–Ω–æ–≤–∏ –∏ —É–¥–∞–ª–∏ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö

1. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
2. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
3. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
4. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
5. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
6. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```

`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
---

# –ú–æ–¥—É–ª—å "`Ansible`" - `DOC-06 Volumes –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏`

 ### üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞
–ù–∞—É—á–∏—Ç—å—Å—è —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å Docker, –∑–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, —É–ø—Ä–∞–≤–ª—è—Ç—å –∏–º–∏ –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∏—Ö —Å—Ç–∞—Ç—É—Å.

---

 ## üìò –¢–µ–æ—Ä–∏—è (–∫—Ä–∞—Ç–∫–æ)

Docker ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π —É–ø–∞–∫–æ–≤—ã–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –µ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –µ–¥–∏–Ω—ã–π –æ–±—Ä–∞–∑.

 ## –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã:

- `docker run`, `docker ps`, `docker stop`, `docker rm`
- `docker images`, `docker exec`

---

### –ó–∞–¥–∞–Ω–∏–µ

1. –£—Å—Ç–∞–Ω–æ–≤–∏ Docker (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
2. –ó–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å NGINX –Ω–∞ –ø–æ—Ä—Ç—É 8080
3. –ó–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å PostgreSQL
4. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
5. –û—Å—Ç–∞–Ω–æ–≤–∏ –∏ —É–¥–∞–ª–∏ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö

1. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
2. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
3. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
4. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
5. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
6. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```

`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
---


# –ú–æ–¥—É–ª—å "`Ansible`" - `DOC-07 –°–µ—Ç–µ–≤—ã–µ —Ä–µ–∂–∏–º—ã Docker`

 ### üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞
–ù–∞—É—á–∏—Ç—å—Å—è —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å Docker, –∑–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, —É–ø—Ä–∞–≤–ª—è—Ç—å –∏–º–∏ –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∏—Ö —Å—Ç–∞—Ç—É—Å.

---

 ## üìò –¢–µ–æ—Ä–∏—è (–∫—Ä–∞—Ç–∫–æ)

Docker ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π —É–ø–∞–∫–æ–≤—ã–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –µ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –µ–¥–∏–Ω—ã–π –æ–±—Ä–∞–∑.

 ## –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã:

- `docker run`, `docker ps`, `docker stop`, `docker rm`
- `docker images`, `docker exec`

---

### –ó–∞–¥–∞–Ω–∏–µ

1. –£—Å—Ç–∞–Ω–æ–≤–∏ Docker (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
2. –ó–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å NGINX –Ω–∞ –ø–æ—Ä—Ç—É 8080
3. –ó–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å PostgreSQL
4. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
5. –û—Å—Ç–∞–Ω–æ–≤–∏ –∏ —É–¥–∞–ª–∏ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö

1. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
2. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
3. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
4. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
5. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
6. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```

`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
---

# –ú–æ–¥—É–ª—å "`Ansible`" - `DOC-08 –ü—Ä–∞–∫—Ç–∏–∫–∞: —Å–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è`

 ### üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞
–ù–∞—É—á–∏—Ç—å—Å—è —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å Docker, –∑–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, —É–ø—Ä–∞–≤–ª—è—Ç—å –∏–º–∏ –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∏—Ö —Å—Ç–∞—Ç—É—Å.

---

 ## üìò –¢–µ–æ—Ä–∏—è (–∫—Ä–∞—Ç–∫–æ)

Docker ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π —É–ø–∞–∫–æ–≤—ã–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –µ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –µ–¥–∏–Ω—ã–π –æ–±—Ä–∞–∑.

 ## –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã:

- `docker run`, `docker ps`, `docker stop`, `docker rm`
- `docker images`, `docker exec`

---

### –ó–∞–¥–∞–Ω–∏–µ

1. –£—Å—Ç–∞–Ω–æ–≤–∏ Docker (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
2. –ó–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å NGINX –Ω–∞ –ø–æ—Ä—Ç—É 8080
3. –ó–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å PostgreSQL
4. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
5. –û—Å—Ç–∞–Ω–æ–≤–∏ –∏ —É–¥–∞–ª–∏ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö

1. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
2. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
3. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
4. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
5. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
6. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```

`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
---


# –ú–æ–¥—É–ª—å "`Ansible`" - `DOC-09 Docker Registry: —Ä–∞–±–æ—Ç–∞ —Å DockerHub –∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º —Ä–µ–µ—Å—Ç—Ä–æ–º`

 ### üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞
–ù–∞—É—á–∏—Ç—å—Å—è —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å Docker, –∑–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, —É–ø—Ä–∞–≤–ª—è—Ç—å –∏–º–∏ –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∏—Ö —Å—Ç–∞—Ç—É—Å.

---

 ## üìò –¢–µ–æ—Ä–∏—è (–∫—Ä–∞—Ç–∫–æ)

Docker ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π —É–ø–∞–∫–æ–≤—ã–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –µ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –µ–¥–∏–Ω—ã–π –æ–±—Ä–∞–∑.

 ## –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã:

- `docker run`, `docker ps`, `docker stop`, `docker rm`
- `docker images`, `docker exec`

---

### –ó–∞–¥–∞–Ω–∏–µ

1. –£—Å—Ç–∞–Ω–æ–≤–∏ Docker (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
2. –ó–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å NGINX –Ω–∞ –ø–æ—Ä—Ç—É 8080
3. –ó–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å PostgreSQL
4. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
5. –û—Å—Ç–∞–Ω–æ–≤–∏ –∏ —É–¥–∞–ª–∏ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö

1. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
2. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
3. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
4. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
5. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
6. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```

`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
---

# –ú–æ–¥—É–ª—å "`Ansible`" - `DOC-10 –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å`

 ### üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞
–ù–∞—É—á–∏—Ç—å—Å—è —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å Docker, –∑–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, —É–ø—Ä–∞–≤–ª—è—Ç—å –∏–º–∏ –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∏—Ö —Å—Ç–∞—Ç—É—Å.

---

 ## üìò –¢–µ–æ—Ä–∏—è (–∫—Ä–∞—Ç–∫–æ)

Docker ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π —É–ø–∞–∫–æ–≤—ã–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –µ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –µ–¥–∏–Ω—ã–π –æ–±—Ä–∞–∑.

 ## –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã:

- `docker run`, `docker ps`, `docker stop`, `docker rm`
- `docker images`, `docker exec`

---

### –ó–∞–¥–∞–Ω–∏–µ

1. –£—Å—Ç–∞–Ω–æ–≤–∏ Docker (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
2. –ó–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å NGINX –Ω–∞ –ø–æ—Ä—Ç—É 8080
3. –ó–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å PostgreSQL
4. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
5. –û—Å—Ç–∞–Ω–æ–≤–∏ –∏ —É–¥–∞–ª–∏ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö

1. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
2. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
3. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
4. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
5. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```
6. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```

`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`
---
