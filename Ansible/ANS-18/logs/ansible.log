2025-05-21 21:00:58,196 p=31420 u=sergeylapshov n=ansible INFO| PLAY [Установка nginx через роль] **********************************************
2025-05-21 21:00:58,203 p=31420 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] *********************************************************
2025-05-21 21:00:59,621 p=31420 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python
interpreter at /usr/bin/python3.10, but future installation of another Python
interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-21 21:00:59,621 p=31420 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-21 21:00:59,625 p=31420 u=sergeylapshov n=ansible INFO| TASK [nginx : Установка пакетов nginx] *****************************************
2025-05-21 21:01:00,510 p=31420 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-21 21:01:00,519 p=31420 u=sergeylapshov n=ansible INFO| TASK [Проверка значение переменной] ********************************************
2025-05-21 21:01:00,533 p=31420 u=sergeylapshov n=ansible INFO| ok: [web1] => {
    "ansible_hostname": "ubuntu-node-1"
}
2025-05-21 21:01:00,542 p=31420 u=sergeylapshov n=ansible INFO| TASK [Проверка значение переменной] ********************************************
2025-05-21 21:01:00,558 p=31420 u=sergeylapshov n=ansible INFO| [Проверка значение переменной]
Проверить значение переменной ansible_hostname:
2025-05-21 21:01:03,380 p=31420 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-21 21:01:03,382 p=31420 u=sergeylapshov n=ansible INFO| PLAY RECAP *********************************************************************
2025-05-21 21:01:03,382 p=31420 u=sergeylapshov n=ansible INFO| web1                       : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-05-21 21:04:08,280 p=32095 u=sergeylapshov n=ansible INFO| ansible-playbook [core 2.18.5]
  config file = /Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-18/ansible.cfg
  configured module search path = ['/Users/sergeylapshov/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /opt/homebrew/Cellar/ansible/11.5.0/libexec/lib/python3.13/site-packages/ansible
  ansible collection location = /Users/sergeylapshov/.ansible/collections:/usr/share/ansible/collections
  executable location = /opt/homebrew/bin/ansible-playbook
  python version = 3.13.3 (main, Apr  8 2025, 13:54:08) [Clang 16.0.0 (clang-1600.0.26.6)] (/opt/homebrew/Cellar/ansible/11.5.0/libexec/bin/python)
  jinja version = 3.1.6
  libyaml = True
2025-05-21 21:04:08,280 p=32095 u=sergeylapshov n=ansible INFO| Using /Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-18/ansible.cfg as config file
2025-05-21 21:04:08,353 p=32095 u=sergeylapshov n=ansible INFO| host_list declined parsing /Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-10/inventory.ini as it did not pass its verify_file() method
2025-05-21 21:04:08,353 p=32095 u=sergeylapshov n=ansible INFO| script declined parsing /Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-10/inventory.ini as it did not pass its verify_file() method
2025-05-21 21:04:08,353 p=32095 u=sergeylapshov n=ansible INFO| auto declined parsing /Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-10/inventory.ini as it did not pass its verify_file() method
2025-05-21 21:04:08,353 p=32095 u=sergeylapshov n=ansible INFO| yaml declined parsing /Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-10/inventory.ini as it did not pass its verify_file() method
2025-05-21 21:04:08,354 p=32095 u=sergeylapshov n=ansible INFO| Parsed /Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-10/inventory.ini inventory source with ini plugin
2025-05-21 21:04:08,533 p=32095 u=sergeylapshov n=ansible INFO| Skipping callback 'default', as we already have a stdout callback.
2025-05-21 21:04:08,533 p=32095 u=sergeylapshov n=ansible INFO| Skipping callback 'minimal', as we already have a stdout callback.
2025-05-21 21:04:08,533 p=32095 u=sergeylapshov n=ansible INFO| Skipping callback 'oneline', as we already have a stdout callback.
2025-05-21 21:04:08,533 p=32095 u=sergeylapshov n=ansible INFO| PLAYBOOK: install_nginx_role.yml ***********************************************
2025-05-21 21:04:08,533 p=32095 u=sergeylapshov n=ansible INFO| 1 plays in install_nginx_role.yml
2025-05-21 21:04:08,534 p=32095 u=sergeylapshov n=ansible INFO| PLAY [Установка nginx через роль] **********************************************
2025-05-21 21:04:08,541 p=32095 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] *********************************************************
2025-05-21 21:04:08,541 p=32095 u=sergeylapshov n=ansible INFO| task path: /Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-18/install_nginx_role.yml:1
2025-05-21 21:04:08,553 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> ESTABLISH SSH CONNECTION FOR USER: vagrant
2025-05-21 21:04:08,554 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> SSH: EXEC ssh -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/Users/sergeylapshov/Documents/Devops/docker/Ansible/.vagrant/machines/node1/parallels/private_key"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="vagrant"' -o ConnectTimeout=10 -o 'ControlPath="/Users/sergeylapshov/.ansible/cp/8c6de76e1b"' 10.37.129.5 '/bin/sh -c '"'"'echo ~vagrant && sleep 0'"'"''
2025-05-21 21:04:09,936 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> (0, b'/home/vagrant\n', b'OpenSSH_9.9p2, LibreSSL 3.3.6\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug3: /etc/ssh/ssh_config line 22: Including file /etc/ssh/ssh_config.d/100-macos.conf depth 0\r\ndebug1: Reading configuration data /etc/ssh/ssh_config.d/100-macos.conf\r\ndebug1: /etc/ssh/ssh_config.d/100-macos.conf line 1: Applying options for *\r\ndebug3: /etc/ssh/ssh_config.d/100-macos.conf line 3: Including file /etc/ssh/crypto.conf depth 1\r\ndebug1: Reading configuration data /etc/ssh/crypto.conf\r\ndebug3: kex names ok: [ecdh-sha2-nistp256]\r\ndebug2: resolve_canonicalize: hostname 10.37.129.5 is address\r\ndebug3: expanded UserKnownHostsFile \'~/.ssh/known_hosts\' -> \'/Users/sergeylapshov/.ssh/known_hosts\'\r\ndebug3: expanded UserKnownHostsFile \'~/.ssh/known_hosts2\' -> \'/Users/sergeylapshov/.ssh/known_hosts2\'\r\ndebug1: Authenticator provider $SSH_SK_PROVIDER did not resolve; disabling\r\ndebug1: auto-mux: Trying existing master at \'/Users/sergeylapshov/.ansible/cp/8c6de76e1b\'\r\ndebug1: Control socket "/Users/sergeylapshov/.ansible/cp/8c6de76e1b" does not exist\r\ndebug3: channel_clear_timeouts: clearing\r\ndebug3: ssh_connect_direct: entering\r\ndebug1: Connecting to 10.37.129.5 [10.37.129.5] port 22.\r\ndebug3: set_sock_tos: set socket 3 IP_TOS 0x48\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug1: fd 3 clearing O_NONBLOCK\r\ndebug1: Connection established.\r\ndebug3: timeout: 10000 ms remain after connect\r\ndebug1: identity file /Users/sergeylapshov/Documents/Devops/docker/Ansible/.vagrant/machines/node1/parallels/private_key type 3\r\ndebug1: identity file /Users/sergeylapshov/Documents/Devops/docker/Ansible/.vagrant/machines/node1/parallels/private_key-cert type -1\r\ndebug1: Local version string SSH-2.0-OpenSSH_9.9\r\ndebug1: Remote protocol version 2.0, remote software version OpenSSH_8.9p1 Ubuntu-3ubuntu0.11\r\ndebug1: compat_banner: match: OpenSSH_8.9p1 Ubuntu-3ubuntu0.11 pat OpenSSH* compat 0x04000000\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug1: Authenticating to 10.37.129.5:22 as \'vagrant\'\r\ndebug3: record_hostkey: found key type ED25519 in file /Users/sergeylapshov/.ssh/known_hosts:21\r\ndebug3: load_hostkeys_file: loaded 1 keys from 10.37.129.5\r\ndebug1: load_hostkeys: fopen /Users/sergeylapshov/.ssh/known_hosts2: No such file or directory\r\ndebug1: load_hostkeys: fopen /etc/ssh/ssh_known_hosts: No such file or directory\r\ndebug1: load_hostkeys: fopen /etc/ssh/ssh_known_hosts2: No such file or directory\r\ndebug3: order_hostkeyalgs: have matching best-preference key type ssh-ed25519-cert-v01@openssh.com, using HostkeyAlgorithms verbatim\r\ndebug3: send packet: type 20\r\ndebug1: SSH2_MSG_KEXINIT sent\r\ndebug3: receive packet: type 20\r\ndebug1: SSH2_MSG_KEXINIT received\r\ndebug2: local client KEXINIT proposal\r\ndebug2: KEX algorithms: ecdh-sha2-nistp256,sntrup761x25519-sha512,sntrup761x25519-sha512@openssh.com,mlkem768x25519-sha256,curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256,ext-info-c,kex-strict-c-v00@openssh.com\r\ndebug2: host key algorithms: ssh-ed25519-cert-v01@openssh.com,ecdsa-sha2-nistp256-cert-v01@openssh.com,ecdsa-sha2-nistp384-cert-v01@openssh.com,ecdsa-sha2-nistp521-cert-v01@openssh.com,sk-ssh-ed25519-cert-v01@openssh.com,sk-ecdsa-sha2-nistp256-cert-v01@openssh.com,rsa-sha2-512-cert-v01@openssh.com,rsa-sha2-256-cert-v01@openssh.com,ssh-ed25519,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,sk-ssh-ed25519@openssh.com,sk-ecdsa-sha2-nistp256@openssh.com,rsa-sha2-512,rsa-sha2-256\r\ndebug2: ciphers ctos: aes128-gcm@openssh.com,aes256-gcm@openssh.com,chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr\r\ndebug2: ciphers stoc: aes128-gcm@openssh.com,aes256-gcm@openssh.com,chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr\r\ndebug2: MACs ctos: hmac-sha2-256-etm@openssh.com,hmac-sha2-256,umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-512,hmac-sha1\r\ndebug2: MACs stoc: hmac-sha2-256-etm@openssh.com,hmac-sha2-256,umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-512,hmac-sha1\r\ndebug2: compression ctos: zlib@openssh.com,none\r\ndebug2: compression stoc: zlib@openssh.com,none\r\ndebug2: languages ctos: \r\ndebug2: languages stoc: \r\ndebug2: first_kex_follows 0 \r\ndebug2: reserved 0 \r\ndebug2: peer server KEXINIT proposal\r\ndebug2: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,sntrup761x25519-sha512@openssh.com,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256,kex-strict-s-v00@openssh.com\r\ndebug2: host key algorithms: rsa-sha2-512,rsa-sha2-256,ecdsa-sha2-nistp256,ssh-ed25519\r\ndebug2: ciphers ctos: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\ndebug2: ciphers stoc: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\ndebug2: MACs ctos: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\ndebug2: MACs stoc: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\ndebug2: compression ctos: none,zlib@openssh.com\r\ndebug2: compression stoc: none,zlib@openssh.com\r\ndebug2: languages ctos: \r\ndebug2: languages stoc: \r\ndebug2: first_kex_follows 0 \r\ndebug2: reserved 0 \r\ndebug3: kex_choose_conf: will use strict KEX ordering\r\ndebug1: kex: algorithm: ecdh-sha2-nistp256\r\ndebug1: kex: host key algorithm: ssh-ed25519\r\ndebug1: kex: server->client cipher: aes128-gcm@openssh.com MAC: <implicit> compression: zlib@openssh.com\r\ndebug1: kex: client->server cipher: aes128-gcm@openssh.com MAC: <implicit> compression: zlib@openssh.com\r\ndebug3: send packet: type 30\r\ndebug1: expecting SSH2_MSG_KEX_ECDH_REPLY\r\ndebug3: receive packet: type 31\r\ndebug1: SSH2_MSG_KEX_ECDH_REPLY received\r\ndebug1: Server host key: ssh-ed25519 SHA256:tc7TkA0+TybXuwr3ALfTFJgRfuvn+jnBocRm2UELoKo\r\ndebug3: record_hostkey: found key type ED25519 in file /Users/sergeylapshov/.ssh/known_hosts:21\r\ndebug3: load_hostkeys_file: loaded 1 keys from 10.37.129.5\r\ndebug1: load_hostkeys: fopen /Users/sergeylapshov/.ssh/known_hosts2: No such file or directory\r\ndebug1: load_hostkeys: fopen /etc/ssh/ssh_known_hosts: No such file or directory\r\ndebug1: load_hostkeys: fopen /etc/ssh/ssh_known_hosts2: No such file or directory\r\ndebug1: Host \'10.37.129.5\' is known and matches the ED25519 host key.\r\ndebug1: Found key in /Users/sergeylapshov/.ssh/known_hosts:21\r\ndebug3: send packet: type 21\r\ndebug1: ssh_packet_send2_wrapped: resetting send seqnr 3\r\ndebug2: ssh_set_newkeys: mode 1\r\ndebug1: rekey out after 4294967296 blocks\r\ndebug1: SSH2_MSG_NEWKEYS sent\r\ndebug1: expecting SSH2_MSG_NEWKEYS\r\ndebug3: receive packet: type 21\r\ndebug1: ssh_packet_read_poll2: resetting read seqnr 3\r\ndebug1: SSH2_MSG_NEWKEYS received\r\ndebug2: ssh_set_newkeys: mode 0\r\ndebug1: rekey in after 4294967296 blocks\r\ndebug2: KEX algorithms: ecdh-sha2-nistp256,sntrup761x25519-sha512,sntrup761x25519-sha512@openssh.com,mlkem768x25519-sha256,curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256,ext-info-c,kex-strict-c-v00@openssh.com\r\ndebug2: host key algorithms: ssh-ed25519-cert-v01@openssh.com,ecdsa-sha2-nistp256-cert-v01@openssh.com,ecdsa-sha2-nistp384-cert-v01@openssh.com,ecdsa-sha2-nistp521-cert-v01@openssh.com,sk-ssh-ed25519-cert-v01@openssh.com,sk-ecdsa-sha2-nistp256-cert-v01@openssh.com,rsa-sha2-512-cert-v01@openssh.com,rsa-sha2-256-cert-v01@openssh.com,ssh-ed25519,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,sk-ssh-ed25519@openssh.com,sk-ecdsa-sha2-nistp256@openssh.com,rsa-sha2-512,rsa-sha2-256\r\ndebug2: ciphers ctos: aes128-gcm@openssh.com,aes256-gcm@openssh.com,chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr\r\ndebug2: ciphers stoc: aes128-gcm@openssh.com,aes256-gcm@openssh.com,chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr\r\ndebug2: MACs ctos: hmac-sha2-256-etm@openssh.com,hmac-sha2-256,umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-512,hmac-sha1\r\ndebug2: MACs stoc: hmac-sha2-256-etm@openssh.com,hmac-sha2-256,umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-512,hmac-sha1\r\ndebug2: compression ctos: zlib@openssh.com,none\r\ndebug2: compression stoc: zlib@openssh.com,none\r\ndebug2: languages ctos: \r\ndebug2: languages stoc: \r\ndebug2: first_kex_follows 0 \r\ndebug2: reserved 0 \r\ndebug3: send packet: type 5\r\ndebug3: receive packet: type 7\r\ndebug1: SSH2_MSG_EXT_INFO received\r\ndebug3: kex_input_ext_info: extension server-sig-algs\r\ndebug1: kex_ext_info_client_parse: server-sig-algs=<ssh-ed25519,sk-ssh-ed25519@openssh.com,ssh-rsa,rsa-sha2-256,rsa-sha2-512,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,sk-ecdsa-sha2-nistp256@openssh.com,webauthn-sk-ecdsa-sha2-nistp256@openssh.com>\r\ndebug3: kex_input_ext_info: extension publickey-hostbound@openssh.com\r\ndebug1: kex_ext_info_check_ver: publickey-hostbound@openssh.com=<0>\r\ndebug3: receive packet: type 6\r\ndebug2: service_accept: ssh-userauth\r\ndebug1: SSH2_MSG_SERVICE_ACCEPT received\r\ndebug3: send packet: type 50\r\ndebug3: receive packet: type 51\r\ndebug1: Authentications that can continue: publickey,password\r\ndebug3: start over, passed a different list publickey,password\r\ndebug3: preferred gssapi-with-mic,gssapi-keyex,hostbased,publickey\r\ndebug3: authmethod_lookup publickey\r\ndebug3: remaining preferred: ,gssapi-keyex,hostbased,publickey\r\ndebug3: authmethod_is_enabled publickey\r\ndebug1: Next authentication method: publickey\r\ndebug3: ssh_get_authentication_socket_path: path \'/private/tmp/com.apple.launchd.GYaqa1Ityo/Listeners\'\r\ndebug1: get_agent_identities: bound agent to hostkey\r\ndebug1: get_agent_identities: ssh_fetch_identitylist: agent contains no identities\r\ndebug1: Will attempt key: /Users/sergeylapshov/Documents/Devops/docker/Ansible/.vagrant/machines/node1/parallels/private_key ED25519 SHA256:k5JoZJr8RyZ88pBItKWAYRtlm8LY6AVTAQfgocnNyFs explicit\r\ndebug2: pubkey_prepare: done\r\ndebug1: Offering public key: /Users/sergeylapshov/Documents/Devops/docker/Ansible/.vagrant/machines/node1/parallels/private_key ED25519 SHA256:k5JoZJr8RyZ88pBItKWAYRtlm8LY6AVTAQfgocnNyFs explicit\r\ndebug3: send packet: type 50\r\ndebug2: we sent a publickey packet, wait for reply\r\ndebug3: receive packet: type 60\r\ndebug1: Server accepts key: /Users/sergeylapshov/Documents/Devops/docker/Ansible/.vagrant/machines/node1/parallels/private_key ED25519 SHA256:k5JoZJr8RyZ88pBItKWAYRtlm8LY6AVTAQfgocnNyFs explicit\r\ndebug3: sign_and_send_pubkey: using publickey-hostbound-v00@openssh.com with ED25519 SHA256:k5JoZJr8RyZ88pBItKWAYRtlm8LY6AVTAQfgocnNyFs\r\ndebug3: sign_and_send_pubkey: signing using ssh-ed25519 SHA256:k5JoZJr8RyZ88pBItKWAYRtlm8LY6AVTAQfgocnNyFs\r\ndebug3: send packet: type 50\r\ndebug3: receive packet: type 52\r\ndebug1: Enabling compression at level 6.\r\nAuthenticated to 10.37.129.5 ([10.37.129.5]:22) using "publickey".\r\ndebug1: setting up multiplex master socket\r\ndebug3: muxserver_listen: temporary control path /Users/sergeylapshov/.ansible/cp/8c6de76e1b.YmZBbXXu3Fg8e8MS\r\ndebug2: fd 4 setting O_NONBLOCK\r\ndebug3: fd 4 is O_NONBLOCK\r\ndebug3: fd 4 is O_NONBLOCK\r\ndebug1: channel 0: new mux listener [/Users/sergeylapshov/.ansible/cp/8c6de76e1b] (inactive timeout: 0)\r\ndebug3: muxserver_listen: mux listener channel 0 fd 4\r\ndebug2: fd 3 setting TCP_NODELAY\r\ndebug3: set_sock_tos: set socket 3 IP_TOS 0x20\r\ndebug1: control_persist_detach: backgrounding master process\r\ndebug2: control_persist_detach: background process is 32102\r\ndebug2: fd 4 setting O_NONBLOCK\r\ndebug1: forking to background\r\ndebug1: Entering interactive session.\r\ndebug1: pledge: id\r\ndebug3: client_repledge: enter\r\ndebug2: set_control_persist_exit_time: schedule exit in 60 seconds\r\ndebug1: multiplexing control connection\r\ndebug3: fd 5 is O_NONBLOCK\r\ndebug3: fd 5 is O_NONBLOCK\r\ndebug1: channel 1: new mux-control [mux-control] (inactive timeout: 0)\r\ndebug3: channel_post_mux_listener: new mux channel 1 fd 5\r\ndebug3: mux_master_read_cb: channel 1: hello sent\r\ndebug2: set_control_persist_exit_time: cancel scheduled exit\r\ndebug3: mux_master_read_cb: channel 1 packet type 0x00000001 len 4\r\ndebug2: mux_master_process_hello: channel 1 client version 4\r\ndebug2: mux_client_hello_exchange: master version 4\r\ndebug3: mux_client_forwards: request forwardings: 0 local, 0 remote\r\ndebug3: mux_client_request_session: entering\r\ndebug3: mux_client_request_alive: entering\r\ndebug3: mux_master_read_cb: channel 1 packet type 0x10000004 len 4\r\ndebug2: mux_master_process_alive_check: channel 1: alive check\r\ndebug3: mux_client_request_alive: done pid = 32104\r\ndebug3: mux_client_request_session: session request sent\r\ndebug3: mux_master_read_cb: channel 1 packet type 0x10000002 len 107\r\ndebug2: mux_master_process_new_session: channel 1: request tty 0, X 0, agent 0, subsys 0, term "xterm-256color", cmd "/bin/sh -c \'echo ~vagrant && sleep 0\'", env 1\r\ndebug3: mux_master_process_new_session: got fds stdin 6, stdout 7, stderr 8\r\ndebug2: fd 7 setting O_NONBLOCK\r\ndebug2: fd 8 setting O_NONBLOCK\r\ndebug1: channel 2: new session [client-session] (inactive timeout: 0)\r\ndebug2: mux_master_process_new_session: channel_new: 2 linked to control channel 1\r\ndebug2: channel 2: send open\r\ndebug3: send packet: type 90\r\ndebug3: receive packet: type 80\r\ndebug1: client_input_global_request: rtype hostkeys-00@openssh.com want_reply 0\r\ndebug3: client_input_hostkeys: received RSA key SHA256:OurjqqC/+pKMATI/LRh1J9633szktlcNLOX8X/qT7VU\r\ndebug3: client_input_hostkeys: received ECDSA key SHA256:eXSyUINbV44El9Vwi2DF9O/B/5z2359blV/eZ4+DJYw\r\ndebug3: client_input_hostkeys: received ED25519 key SHA256:tc7TkA0+TybXuwr3ALfTFJgRfuvn+jnBocRm2UELoKo\r\ndebug1: client_input_hostkeys: searching /Users/sergeylapshov/.ssh/known_hosts for 10.37.129.5 / (none)\r\ndebug3: hostkeys_foreach: reading file "/Users/sergeylapshov/.ssh/known_hosts"\r\ndebug3: hostkeys_find: found ssh-ed25519 key under different name/addr at /Users/sergeylapshov/.ssh/known_hosts:18\r\ndebug3: hostkeys_find: found ssh-ed25519 key under different name/addr at /Users/sergeylapshov/.ssh/known_hosts:19\r\ndebug3: hostkeys_find: found ssh-ed25519 key under different name/addr at /Users/sergeylapshov/.ssh/known_hosts:20\r\ndebug3: hostkeys_find: found ssh-ed25519 key at /Users/sergeylapshov/.ssh/known_hosts:21\r\ndebug1: client_input_hostkeys: searching /Users/sergeylapshov/.ssh/known_hosts2 for 10.37.129.5 / (none)\r\ndebug1: client_input_hostkeys: hostkeys file /Users/sergeylapshov/.ssh/known_hosts2 does not exist\r\ndebug3: client_input_hostkeys: 3 server keys: 2 new, 18446744073709551615 retained, 2 incomplete match. 0 to remove\r\ndebug1: client_input_hostkeys: host key found matching a different name/address, skipping UserKnownHostsFile update\r\ndebug3: client_repledge: enter\r\ndebug3: receive packet: type 4\r\ndebug1: Remote: /home/vagrant/.ssh/authorized_keys:1: key options: agent-forwarding port-forwarding pty user-rc x11-forwarding\r\ndebug3: receive packet: type 4\r\ndebug1: Remote: /home/vagrant/.ssh/authorized_keys:1: key options: agent-forwarding port-forwarding pty user-rc x11-forwarding\r\ndebug3: receive packet: type 91\r\ndebug2: channel_input_open_confirmation: channel 2: callback start\r\ndebug2: client_session2_setup: id 2\r\ndebug1: Sending environment.\r\ndebug1: channel 2: setting env LANG = "ru_RU.UTF-8"\r\ndebug2: channel 2: request env confirm 0\r\ndebug3: send packet: type 98\r\ndebug1: Sending command: /bin/sh -c \'echo ~vagrant && sleep 0\'\r\ndebug2: channel 2: request exec confirm 1\r\ndebug3: send packet: type 98\r\ndebug3: client_repledge: enter\r\ndebug3: mux_session_confirm: sending success reply\r\ndebug2: channel_input_open_confirmation: channel 2: callback done\r\ndebug2: channel 2: open confirm rwindow 0 rmax 32768\r\ndebug1: mux_client_request_session: master session id: 2\r\ndebug2: channel 2: rcvd adjust 2097152\r\ndebug3: receive packet: type 99\r\ndebug2: channel_input_status_confirm: type 99 id 2\r\ndebug2: exec request accepted on channel 2\r\ndebug3: receive packet: type 96\r\ndebug2: channel 2: rcvd eof\r\ndebug2: channel 2: output open -> drain\r\ndebug2: channel 2: obuf empty\r\ndebug2: chan_shutdown_write: channel 2: (i0 o1 sock -1 wfd 7 efd 8 [write])\r\ndebug2: channel 2: output drain -> closed\r\ndebug3: receive packet: type 98\r\ndebug1: client_input_channel_req: channel 2 rtype exit-status reply 0\r\ndebug3: mux_exit_message: channel 2: exit message, exitval 0\r\ndebug3: receive packet: type 98\r\ndebug1: client_input_channel_req: channel 2 rtype eow@openssh.com reply 0\r\ndebug2: channel 2: rcvd eow\r\ndebug2: chan_shutdown_read: channel 2: (i0 o3 sock -1 wfd 6 efd 8 [write])\r\ndebug2: channel 2: input open -> closed\r\ndebug3: receive packet: type 97\r\ndebug2: channel 2: rcvd close\r\ndebug3: channel 2: will not send data after close\r\ndebug2: channel 2: send_close2\r\ndebug2: channel 2: send close for remote id 0\r\ndebug3: send packet: type 97\r\ndebug2: channel 2: is dead\r\ndebug2: channel 2: gc: notify user\r\ndebug3: mux_master_session_cleanup_cb: entering for channel 2\r\ndebug2: channel 1: rcvd close\r\ndebug2: channel 1: output open -> drain\r\ndebug2: chan_shutdown_read: channel 1: (i0 o1 sock 5 wfd 5 efd -1 [closed])\r\ndebug2: channel 1: input open -> closed\r\ndebug2: channel 2: gc: user detached\r\ndebug2: channel 2: is dead\r\ndebug2: channel 2: garbage collecting\r\ndebug1: channel 2: free: client-session, nchannels 3\r\ndebug3: channel 2: status: The following connections are open:\r\n  #1 mux-control (t16 [mux-control] nr0 m0 i3/0 o1/16 e[closed]/0 fd 5/5/-1 sock 5 cc -1 nc0 io 0x03/0x00)\r\n  #2 client-session (t4 [session] r0 nm0 i3/0 o3/0 e[write]/0 fd -1/-1/8 sock -1 cc -1 nc0 io 0x00/0x00)\r\n\r\ndebug2: channel 1: obuf empty\r\ndebug2: chan_shutdown_write: channel 1: (i3 o1 sock 5 wfd 5 efd -1 [closed])\r\ndebug2: channel 1: output drain -> closed\r\ndebug2: channel 1: is dead (local)\r\ndebug2: channel 1: gc: notify user\r\ndebug3: mux_master_control_cleanup_cb: entering for channel 1\r\ndebug2: channel 1: gc: user detached\r\ndebug2: channel 1: is dead (local)\r\ndebug3: mux_client_read_packet_timeout: read header failed: Broken pipe\r\ndebug2: channel 1: garbage collecting\r\ndebug1: channel 1: free: mux-control, nchannels 2\r\ndebug3: channel 1: status: The following connections are open:\r\n  #1 mux-control (t16 [mux-control] nr0 nm0 i3/0 o3/0 e[closed]/0 fd 5/5/-1 sock 5 cc -1 nc0 io 0x00/0x00)\r\n\r\ndebug2: Received exit status from master 0\r\ndebug2: set_control_persist_exit_time: schedule exit in 60 seconds\r\n')
2025-05-21 21:04:09,937 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> ESTABLISH SSH CONNECTION FOR USER: vagrant
2025-05-21 21:04:09,937 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> SSH: EXEC ssh -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/Users/sergeylapshov/Documents/Devops/docker/Ansible/.vagrant/machines/node1/parallels/private_key"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="vagrant"' -o ConnectTimeout=10 -o 'ControlPath="/Users/sergeylapshov/.ansible/cp/8c6de76e1b"' 10.37.129.5 '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/vagrant/.ansible/tmp `"&& mkdir "` echo /home/vagrant/.ansible/tmp/ansible-tmp-1747850649.9358761-32099-157244387882092 `" && echo ansible-tmp-1747850649.9358761-32099-157244387882092="` echo /home/vagrant/.ansible/tmp/ansible-tmp-1747850649.9358761-32099-157244387882092 `" ) && sleep 0'"'"''
2025-05-21 21:04:09,961 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> (0, b'ansible-tmp-1747850649.9358761-32099-157244387882092=/home/vagrant/.ansible/tmp/ansible-tmp-1747850649.9358761-32099-157244387882092\n', b"OpenSSH_9.9p2, LibreSSL 3.3.6\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug3: /etc/ssh/ssh_config line 22: Including file /etc/ssh/ssh_config.d/100-macos.conf depth 0\r\ndebug1: Reading configuration data /etc/ssh/ssh_config.d/100-macos.conf\r\ndebug1: /etc/ssh/ssh_config.d/100-macos.conf line 1: Applying options for *\r\ndebug3: /etc/ssh/ssh_config.d/100-macos.conf line 3: Including file /etc/ssh/crypto.conf depth 1\r\ndebug1: Reading configuration data /etc/ssh/crypto.conf\r\ndebug3: kex names ok: [ecdh-sha2-nistp256]\r\ndebug2: resolve_canonicalize: hostname 10.37.129.5 is address\r\ndebug3: expanded UserKnownHostsFile '~/.ssh/known_hosts' -> '/Users/sergeylapshov/.ssh/known_hosts'\r\ndebug3: expanded UserKnownHostsFile '~/.ssh/known_hosts2' -> '/Users/sergeylapshov/.ssh/known_hosts2'\r\ndebug1: Authenticator provider $SSH_SK_PROVIDER did not resolve; disabling\r\ndebug1: auto-mux: Trying existing master at '/Users/sergeylapshov/.ansible/cp/8c6de76e1b'\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug2: mux_client_hello_exchange: master version 4\r\ndebug3: mux_client_forwards: request forwardings: 0 local, 0 remote\r\ndebug3: mux_client_request_session: entering\r\ndebug3: mux_client_request_alive: entering\r\ndebug3: mux_client_request_alive: done pid = 32104\r\ndebug3: mux_client_request_session: session request sent\r\ndebug1: mux_client_request_session: master session id: 2\r\ndebug3: mux_client_read_packet_timeout: read header failed: Broken pipe\r\ndebug2: Received exit status from master 0\r\n")
2025-05-21 21:04:10,117 p=32095 u=sergeylapshov n=ansible INFO| <web1> Attempting python interpreter discovery
2025-05-21 21:04:10,117 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> ESTABLISH SSH CONNECTION FOR USER: vagrant
2025-05-21 21:04:10,117 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> SSH: EXEC ssh -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/Users/sergeylapshov/Documents/Devops/docker/Ansible/.vagrant/machines/node1/parallels/private_key"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="vagrant"' -o ConnectTimeout=10 -o 'ControlPath="/Users/sergeylapshov/.ansible/cp/8c6de76e1b"' 10.37.129.5 '/bin/sh -c '"'"'echo PLATFORM; uname; echo FOUND; command -v '"'"'"'"'"'"'"'"'python3.13'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python3.12'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python3.11'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python3.10'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python3.9'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python3.8'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'/usr/bin/python3'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python3'"'"'"'"'"'"'"'"'; echo ENDFOUND && sleep 0'"'"''
2025-05-21 21:04:10,131 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> (0, b'PLATFORM\nLinux\nFOUND\n/usr/bin/python3.10\n/usr/bin/python3\n/usr/bin/python3\nENDFOUND\n', b"OpenSSH_9.9p2, LibreSSL 3.3.6\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug3: /etc/ssh/ssh_config line 22: Including file /etc/ssh/ssh_config.d/100-macos.conf depth 0\r\ndebug1: Reading configuration data /etc/ssh/ssh_config.d/100-macos.conf\r\ndebug1: /etc/ssh/ssh_config.d/100-macos.conf line 1: Applying options for *\r\ndebug3: /etc/ssh/ssh_config.d/100-macos.conf line 3: Including file /etc/ssh/crypto.conf depth 1\r\ndebug1: Reading configuration data /etc/ssh/crypto.conf\r\ndebug3: kex names ok: [ecdh-sha2-nistp256]\r\ndebug2: resolve_canonicalize: hostname 10.37.129.5 is address\r\ndebug3: expanded UserKnownHostsFile '~/.ssh/known_hosts' -> '/Users/sergeylapshov/.ssh/known_hosts'\r\ndebug3: expanded UserKnownHostsFile '~/.ssh/known_hosts2' -> '/Users/sergeylapshov/.ssh/known_hosts2'\r\ndebug1: Authenticator provider $SSH_SK_PROVIDER did not resolve; disabling\r\ndebug1: auto-mux: Trying existing master at '/Users/sergeylapshov/.ansible/cp/8c6de76e1b'\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug2: mux_client_hello_exchange: master version 4\r\ndebug3: mux_client_forwards: request forwardings: 0 local, 0 remote\r\ndebug3: mux_client_request_session: entering\r\ndebug3: mux_client_request_alive: entering\r\ndebug3: mux_client_request_alive: done pid = 32104\r\ndebug3: mux_client_request_session: session request sent\r\ndebug1: mux_client_request_session: master session id: 2\r\ndebug3: mux_client_read_packet_timeout: read header failed: Broken pipe\r\ndebug2: Received exit status from master 0\r\n")
2025-05-21 21:04:10,132 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> ESTABLISH SSH CONNECTION FOR USER: vagrant
2025-05-21 21:04:10,133 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> SSH: EXEC ssh -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/Users/sergeylapshov/Documents/Devops/docker/Ansible/.vagrant/machines/node1/parallels/private_key"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="vagrant"' -o ConnectTimeout=10 -o 'ControlPath="/Users/sergeylapshov/.ansible/cp/8c6de76e1b"' 10.37.129.5 '/bin/sh -c '"'"'/usr/bin/python3.10 && sleep 0'"'"''
2025-05-21 21:04:10,174 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> (0, b'{"platform_dist_result": [], "osrelease_content": "PRETTY_NAME=\\"Ubuntu 22.04.5 LTS\\"\\nNAME=\\"Ubuntu\\"\\nVERSION_ID=\\"22.04\\"\\nVERSION=\\"22.04.5 LTS (Jammy Jellyfish)\\"\\nVERSION_CODENAME=jammy\\nID=ubuntu\\nID_LIKE=debian\\nHOME_URL=\\"https://www.ubuntu.com/\\"\\nSUPPORT_URL=\\"https://help.ubuntu.com/\\"\\nBUG_REPORT_URL=\\"https://bugs.launchpad.net/ubuntu/\\"\\nPRIVACY_POLICY_URL=\\"https://www.ubuntu.com/legal/terms-and-policies/privacy-policy\\"\\nUBUNTU_CODENAME=jammy\\n"}\n', b"OpenSSH_9.9p2, LibreSSL 3.3.6\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug3: /etc/ssh/ssh_config line 22: Including file /etc/ssh/ssh_config.d/100-macos.conf depth 0\r\ndebug1: Reading configuration data /etc/ssh/ssh_config.d/100-macos.conf\r\ndebug1: /etc/ssh/ssh_config.d/100-macos.conf line 1: Applying options for *\r\ndebug3: /etc/ssh/ssh_config.d/100-macos.conf line 3: Including file /etc/ssh/crypto.conf depth 1\r\ndebug1: Reading configuration data /etc/ssh/crypto.conf\r\ndebug3: kex names ok: [ecdh-sha2-nistp256]\r\ndebug2: resolve_canonicalize: hostname 10.37.129.5 is address\r\ndebug3: expanded UserKnownHostsFile '~/.ssh/known_hosts' -> '/Users/sergeylapshov/.ssh/known_hosts'\r\ndebug3: expanded UserKnownHostsFile '~/.ssh/known_hosts2' -> '/Users/sergeylapshov/.ssh/known_hosts2'\r\ndebug1: Authenticator provider $SSH_SK_PROVIDER did not resolve; disabling\r\ndebug1: auto-mux: Trying existing master at '/Users/sergeylapshov/.ansible/cp/8c6de76e1b'\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug2: mux_client_hello_exchange: master version 4\r\ndebug3: mux_client_forwards: request forwardings: 0 local, 0 remote\r\ndebug3: mux_client_request_session: entering\r\ndebug3: mux_client_request_alive: entering\r\ndebug3: mux_client_request_alive: done pid = 32104\r\ndebug3: mux_client_request_session: session request sent\r\ndebug1: mux_client_request_session: master session id: 2\r\ndebug3: mux_client_read_packet_timeout: read header failed: Broken pipe\r\ndebug2: Received exit status from master 0\r\n")
2025-05-21 21:04:10,175 p=32095 u=sergeylapshov n=ansible INFO| <web1> Python interpreter discovery fallback (unsupported Linux distribution: ubuntu)
2025-05-21 21:04:10,176 p=32095 u=sergeylapshov n=ansible INFO| Using module file /opt/homebrew/Cellar/ansible/11.5.0/libexec/lib/python3.13/site-packages/ansible/modules/setup.py
2025-05-21 21:04:10,177 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> PUT /Users/sergeylapshov/.ansible/tmp/ansible-local-32095uoitlc2f/tmpilhin6re TO /home/vagrant/.ansible/tmp/ansible-tmp-1747850649.9358761-32099-157244387882092/AnsiballZ_setup.py
2025-05-21 21:04:10,177 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> SSH: EXEC sftp -b - -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/Users/sergeylapshov/Documents/Devops/docker/Ansible/.vagrant/machines/node1/parallels/private_key"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="vagrant"' -o ConnectTimeout=10 -o 'ControlPath="/Users/sergeylapshov/.ansible/cp/8c6de76e1b"' '[10.37.129.5]'
2025-05-21 21:04:10,213 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> (0, b'sftp> put /Users/sergeylapshov/.ansible/tmp/ansible-local-32095uoitlc2f/tmpilhin6re /home/vagrant/.ansible/tmp/ansible-tmp-1747850649.9358761-32099-157244387882092/AnsiballZ_setup.py\n', b'OpenSSH_9.9p2, LibreSSL 3.3.6\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug3: /etc/ssh/ssh_config line 22: Including file /etc/ssh/ssh_config.d/100-macos.conf depth 0\r\ndebug1: Reading configuration data /etc/ssh/ssh_config.d/100-macos.conf\r\ndebug1: /etc/ssh/ssh_config.d/100-macos.conf line 1: Applying options for *\r\ndebug3: /etc/ssh/ssh_config.d/100-macos.conf line 3: Including file /etc/ssh/crypto.conf depth 1\r\ndebug1: Reading configuration data /etc/ssh/crypto.conf\r\ndebug3: kex names ok: [ecdh-sha2-nistp256]\r\ndebug2: resolve_canonicalize: hostname 10.37.129.5 is address\r\ndebug3: expanded UserKnownHostsFile \'~/.ssh/known_hosts\' -> \'/Users/sergeylapshov/.ssh/known_hosts\'\r\ndebug3: expanded UserKnownHostsFile \'~/.ssh/known_hosts2\' -> \'/Users/sergeylapshov/.ssh/known_hosts2\'\r\ndebug1: Authenticator provider $SSH_SK_PROVIDER did not resolve; disabling\r\ndebug1: auto-mux: Trying existing master at \'/Users/sergeylapshov/.ansible/cp/8c6de76e1b\'\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug2: mux_client_hello_exchange: master version 4\r\ndebug3: mux_client_forwards: request forwardings: 0 local, 0 remote\r\ndebug3: mux_client_request_session: entering\r\ndebug3: mux_client_request_alive: entering\r\ndebug3: mux_client_request_alive: done pid = 32104\r\ndebug3: mux_client_request_session: session request sent\r\ndebug1: mux_client_request_session: master session id: 2\r\ndebug2: Remote version: 3\r\ndebug2: Server supports extension "posix-rename@openssh.com" revision 1\r\ndebug2: Server supports extension "statvfs@openssh.com" revision 2\r\ndebug2: Server supports extension "fstatvfs@openssh.com" revision 2\r\ndebug2: Server supports extension "hardlink@openssh.com" revision 1\r\ndebug2: Server supports extension "fsync@openssh.com" revision 1\r\ndebug2: Server supports extension "lsetstat@openssh.com" revision 1\r\ndebug2: Server supports extension "limits@openssh.com" revision 1\r\ndebug2: Server supports extension "expand-path@openssh.com" revision 1\r\ndebug3: Sent message limits@openssh.com I:1\r\ndebug3: Received limits reply T:201 I:1\r\ndebug3: server upload/download buffer sizes 261120 / 261120; using 261120 / 261120\r\ndebug3: server handle limit 1019; using 64\r\ndebug2: Sending SSH2_FXP_REALPATH "."\r\ndebug3: Sent message fd 3 T:16 I:2\r\ndebug3: SSH2_FXP_REALPATH . -> /home/vagrant\r\ndebug3: Looking up /Users/sergeylapshov/.ansible/tmp/ansible-local-32095uoitlc2f/tmpilhin6re\r\ndebug2: Sending SSH2_FXP_STAT "/home/vagrant/.ansible/tmp/ansible-tmp-1747850649.9358761-32099-157244387882092/AnsiballZ_setup.py"\r\ndebug3: Sent message fd 3 T:17 I:3\r\ndebug1: stat remote: No such file or directory\r\ndebug2: sftp_upload: upload local "/Users/sergeylapshov/.ansible/tmp/ansible-local-32095uoitlc2f/tmpilhin6re" to remote "/home/vagrant/.ansible/tmp/ansible-tmp-1747850649.9358761-32099-157244387882092/AnsiballZ_setup.py"\r\ndebug2: Sending SSH2_FXP_OPEN "/home/vagrant/.ansible/tmp/ansible-tmp-1747850649.9358761-32099-157244387882092/AnsiballZ_setup.py"\r\ndebug3: Sent dest message SSH2_FXP_OPEN I:4 P:/home/vagrant/.ansible/tmp/ansible-tmp-1747850649.9358761-32099-157244387882092/AnsiballZ_setup.py M:0x001a\r\ndebug3: Sent message SSH2_FXP_WRITE I:6 O:0 S:261120\r\ndebug3: SSH2_FXP_STATUS 0\r\ndebug3: In write loop, ack for 6 261120 bytes at 0\r\ndebug3: Sent message SSH2_FXP_WRITE I:7 O:261120 S:27220\r\ndebug3: SSH2_FXP_STATUS 0\r\ndebug3: In write loop, ack for 7 27220 bytes at 261120\r\ndebug3: Sent message SSH2_FXP_CLOSE I:5\r\ndebug3: SSH2_FXP_STATUS 0\r\ndebug3: mux_client_read_packet_timeout: read header failed: Broken pipe\r\ndebug2: Received exit status from master 0\r\n')
2025-05-21 21:04:10,214 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> ESTABLISH SSH CONNECTION FOR USER: vagrant
2025-05-21 21:04:10,214 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> SSH: EXEC ssh -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/Users/sergeylapshov/Documents/Devops/docker/Ansible/.vagrant/machines/node1/parallels/private_key"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="vagrant"' -o ConnectTimeout=10 -o 'ControlPath="/Users/sergeylapshov/.ansible/cp/8c6de76e1b"' 10.37.129.5 '/bin/sh -c '"'"'chmod u+x /home/vagrant/.ansible/tmp/ansible-tmp-1747850649.9358761-32099-157244387882092/ /home/vagrant/.ansible/tmp/ansible-tmp-1747850649.9358761-32099-157244387882092/AnsiballZ_setup.py && sleep 0'"'"''
2025-05-21 21:04:10,226 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> (0, b'', b"OpenSSH_9.9p2, LibreSSL 3.3.6\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug3: /etc/ssh/ssh_config line 22: Including file /etc/ssh/ssh_config.d/100-macos.conf depth 0\r\ndebug1: Reading configuration data /etc/ssh/ssh_config.d/100-macos.conf\r\ndebug1: /etc/ssh/ssh_config.d/100-macos.conf line 1: Applying options for *\r\ndebug3: /etc/ssh/ssh_config.d/100-macos.conf line 3: Including file /etc/ssh/crypto.conf depth 1\r\ndebug1: Reading configuration data /etc/ssh/crypto.conf\r\ndebug3: kex names ok: [ecdh-sha2-nistp256]\r\ndebug2: resolve_canonicalize: hostname 10.37.129.5 is address\r\ndebug3: expanded UserKnownHostsFile '~/.ssh/known_hosts' -> '/Users/sergeylapshov/.ssh/known_hosts'\r\ndebug3: expanded UserKnownHostsFile '~/.ssh/known_hosts2' -> '/Users/sergeylapshov/.ssh/known_hosts2'\r\ndebug1: Authenticator provider $SSH_SK_PROVIDER did not resolve; disabling\r\ndebug1: auto-mux: Trying existing master at '/Users/sergeylapshov/.ansible/cp/8c6de76e1b'\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug2: mux_client_hello_exchange: master version 4\r\ndebug3: mux_client_forwards: request forwardings: 0 local, 0 remote\r\ndebug3: mux_client_request_session: entering\r\ndebug3: mux_client_request_alive: entering\r\ndebug3: mux_client_request_alive: done pid = 32104\r\ndebug3: mux_client_request_session: session request sent\r\ndebug1: mux_client_request_session: master session id: 2\r\ndebug3: mux_client_read_packet_timeout: read header failed: Broken pipe\r\ndebug2: Received exit status from master 0\r\n")
2025-05-21 21:04:10,226 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> ESTABLISH SSH CONNECTION FOR USER: vagrant
2025-05-21 21:04:10,226 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> SSH: EXEC ssh -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/Users/sergeylapshov/Documents/Devops/docker/Ansible/.vagrant/machines/node1/parallels/private_key"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="vagrant"' -o ConnectTimeout=10 -o 'ControlPath="/Users/sergeylapshov/.ansible/cp/8c6de76e1b"' -tt 10.37.129.5 '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-hkiymdudleuuqktzdortlidbgimjxmck ; /usr/bin/python3.10 /home/vagrant/.ansible/tmp/ansible-tmp-1747850649.9358761-32099-157244387882092/AnsiballZ_setup.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
2025-05-21 21:04:10,246 p=32095 u=sergeylapshov n=ansible INFO| Escalation succeeded
2025-05-21 21:04:10,963 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> (0, b'\r\n{"ansible_facts": {"ansible_iscsi_iqn": "iqn.2004-10.com.ubuntu:01:90df1e7ad8", "ansible_ssh_host_key_rsa_public": "AAAAB3NzaC1yc2EAAAADAQABAAABgQCU+0blNR+mPlgSTGjmFoIOhZBWHvhSTUcv7ZV1swGlHISTc8H4/jfDPbzRxUmqQgl4nMmQWFZmG7mZWGNIO+IH3qwLKPuskX0sA9yv8cO9Psvn27QIqoWa7XhaWxhJUyqIyHcujplCvwXTSHOZNCz1vjIPkft6AdeMpxHEbJCWUkd8hD8Ty9rxFyrU2mGIsnVYgibdeRUtPnsUTsTRRq7olvcvPf5DtAuRugNA0Uisqtq0S+kPZXkwvJQeWkneGgKeByfeFO3bFUdR0+24yZ11sdzRdNWUsGSYz6luGtlG33tGSh07tARnlTn/c3uPi62X4fD4wmRuh9PmiPQC5wmMyx6kD2LviLK4jAr+7TiVOL2GrJs3I43s0Zo3OnhcsPWpuxEHa/9UOQzv0qdIOUSAtZltwyo610mJfjOvaV2a4Pb5LvInJulvR9UN28YWcYs9V8Sv8fQsXCLobIm/8l1N00z0Y6+lVagANgqgN6NntLCPqjH1j8lZY86VHdomDOU=", "ansible_ssh_host_key_rsa_public_keytype": "ssh-rsa", "ansible_ssh_host_key_ecdsa_public": "AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBAvj2IKE6cH9XV9RAWKi9iGiqQ0yuf5M2h4yGi/fjtfNp7B9PMhwbLpaYrcQqqwOQG/ABYzGx3/Z51zEv+u1NhI=", "ansible_ssh_host_key_ecdsa_public_keytype": "ecdsa-sha2-nistp256", "ansible_ssh_host_key_ed25519_public": "AAAAC3NzaC1lZDI1NTE5AAAAIDXtIe+PxNNyn0RJA56z3OPyTNjEP01lVn//AwuLZ3lg", "ansible_ssh_host_key_ed25519_public_keytype": "ssh-ed25519", "ansible_is_chroot": false, "ansible_system": "Linux", "ansible_kernel": "5.15.0-133-generic", "ansible_kernel_version": "#144-Ubuntu SMP Sat Feb 8 14:13:21 UTC 2025", "ansible_machine": "aarch64", "ansible_python_version": "3.10.12", "ansible_fqdn": "ubuntu-node-1", "ansible_hostname": "ubuntu-node-1", "ansible_nodename": "ubuntu-node-1", "ansible_domain": "", "ansible_userspace_bits": "64", "ansible_architecture": "aarch64", "ansible_machine_id": "82d6f8c2f4954ea8a1282ffd38240aab", "ansible_user_id": "root", "ansible_user_uid": 0, "ansible_user_gid": 0, "ansible_user_gecos": "root", "ansible_user_dir": "/root", "ansible_user_shell": "/bin/bash", "ansible_real_user_id": 0, "ansible_effective_user_id": 0, "ansible_real_group_id": 0, "ansible_effective_group_id": 0, "ansible_dns": {"nameservers": ["127.0.0.53"], "options": {"edns0": true, "trust-ad": true}, "search": ["localdomain"]}, "ansible_distribution": "Ubuntu", "ansible_distribution_release": "jammy", "ansible_distribution_version": "22.04", "ansible_distribution_major_version": "22", "ansible_distribution_file_path": "/etc/os-release", "ansible_distribution_file_variety": "Debian", "ansible_distribution_file_parsed": true, "ansible_os_family": "Debian", "ansible_interfaces": ["eth0", "eth1", "lo"], "ansible_eth0": {"device": "eth0", "macaddress": "00:1c:42:ea:28:35", "mtu": 1500, "active": true, "module": "virtio_net", "type": "ether", "pciid": "virtio1", "speed": -1, "promisc": false, "ipv4": {"address": "10.211.55.7", "broadcast": "", "netmask": "255.255.255.0", "network": "10.211.55.0", "prefix": "24"}, "ipv6": [{"address": "fdb2:2c26:f4e4:0:21c:42ff:feea:2835", "prefix": "64", "scope": "global"}, {"address": "fe80::21c:42ff:feea:2835", "prefix": "64", "scope": "link"}], "features": {"rx_checksumming": "on [fixed]", "tx_checksumming": "on", "tx_checksum_ipv4": "off [fixed]", "tx_checksum_ip_generic": "on", "tx_checksum_ipv6": "off [fixed]", "tx_checksum_fcoe_crc": "off [fixed]", "tx_checksum_sctp": "off [fixed]", "scatter_gather": "on", "tx_scatter_gather": "on", "tx_scatter_gather_fraglist": "off [fixed]", "tcp_segmentation_offload": "on", "tx_tcp_segmentation": "on", "tx_tcp_ecn_segmentation": "on", "tx_tcp_mangleid_segmentation": "off", "tx_tcp6_segmentation": "on", "generic_segmentation_offload": "on", "generic_receive_offload": "on", "large_receive_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "tx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "receive_hashing": "off [fixed]", "highdma": "on [fixed]", "rx_vlan_filter": "off [fixed]", "vlan_challenged": "off [fixed]", "tx_lockless": "off [fixed]", "netns_local": "off [fixed]", "tx_gso_robust": "on [fixed]", "tx_fcoe_segmentation": "off [fixed]", "tx_gre_segmentation": "off [fixed]", "tx_gre_csum_segmentation": "off [fixed]", "tx_ipxip4_segmentation": "off [fixed]", "tx_ipxip6_segmentation": "off [fixed]", "tx_udp_tnl_segmentation": "off [fixed]", "tx_udp_tnl_csum_segmentation": "off [fixed]", "tx_gso_partial": "off [fixed]", "tx_tunnel_remcsum_segmentation": "off [fixed]", "tx_sctp_segmentation": "off [fixed]", "tx_esp_segmentation": "off [fixed]", "tx_udp_segmentation": "off [fixed]", "tx_gso_list": "off [fixed]", "fcoe_mtu": "off [fixed]", "tx_nocache_copy": "off", "loopback": "off [fixed]", "rx_fcs": "off [fixed]", "rx_all": "off [fixed]", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "l2_fwd_offload": "off [fixed]", "hw_tc_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "esp_tx_csum_hw_offload": "off [fixed]", "rx_udp_tunnel_port_offload": "off [fixed]", "tls_hw_tx_offload": "off [fixed]", "tls_hw_rx_offload": "off [fixed]", "rx_gro_hw": "on [fixed]", "tls_hw_record": "off [fixed]", "rx_gro_list": "off", "macsec_hw_offload": "off [fixed]", "rx_udp_gro_forwarding": "off", "hsr_tag_ins_offload": "off [fixed]", "hsr_tag_rm_offload": "off [fixed]", "hsr_fwd_offload": "off [fixed]", "hsr_dup_offload": "off [fixed]"}, "timestamping": [], "hw_timestamp_filters": []}, "ansible_lo": {"device": "lo", "mtu": 65536, "active": true, "type": "loopback", "promisc": false, "ipv4": {"address": "127.0.0.1", "broadcast": "", "netmask": "255.0.0.0", "network": "127.0.0.0", "prefix": "8"}, "ipv6": [{"address": "::1", "prefix": "128", "scope": "host"}], "features": {"rx_checksumming": "on [fixed]", "tx_checksumming": "on", "tx_checksum_ipv4": "off [fixed]", "tx_checksum_ip_generic": "on [fixed]", "tx_checksum_ipv6": "off [fixed]", "tx_checksum_fcoe_crc": "off [fixed]", "tx_checksum_sctp": "on [fixed]", "scatter_gather": "on", "tx_scatter_gather": "on [fixed]", "tx_scatter_gather_fraglist": "on [fixed]", "tcp_segmentation_offload": "on", "tx_tcp_segmentation": "on", "tx_tcp_ecn_segmentation": "on", "tx_tcp_mangleid_segmentation": "on", "tx_tcp6_segmentation": "on", "generic_segmentation_offload": "on", "generic_receive_offload": "on", "large_receive_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "tx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "receive_hashing": "off [fixed]", "highdma": "on [fixed]", "rx_vlan_filter": "off [fixed]", "vlan_challenged": "on [fixed]", "tx_lockless": "on [fixed]", "netns_local": "on [fixed]", "tx_gso_robust": "off [fixed]", "tx_fcoe_segmentation": "off [fixed]", "tx_gre_segmentation": "off [fixed]", "tx_gre_csum_segmentation": "off [fixed]", "tx_ipxip4_segmentation": "off [fixed]", "tx_ipxip6_segmentation": "off [fixed]", "tx_udp_tnl_segmentation": "off [fixed]", "tx_udp_tnl_csum_segmentation": "off [fixed]", "tx_gso_partial": "off [fixed]", "tx_tunnel_remcsum_segmentation": "off [fixed]", "tx_sctp_segmentation": "on", "tx_esp_segmentation": "off [fixed]", "tx_udp_segmentation": "on", "tx_gso_list": "on", "fcoe_mtu": "off [fixed]", "tx_nocache_copy": "off [fixed]", "loopback": "on [fixed]", "rx_fcs": "off [fixed]", "rx_all": "off [fixed]", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "l2_fwd_offload": "off [fixed]", "hw_tc_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "esp_tx_csum_hw_offload": "off [fixed]", "rx_udp_tunnel_port_offload": "off [fixed]", "tls_hw_tx_offload": "off [fixed]", "tls_hw_rx_offload": "off [fixed]", "rx_gro_hw": "off [fixed]", "tls_hw_record": "off [fixed]", "rx_gro_list": "off", "macsec_hw_offload": "off [fixed]", "rx_udp_gro_forwarding": "off", "hsr_tag_ins_offload": "off [fixed]", "hsr_tag_rm_offload": "off [fixed]", "hsr_fwd_offload": "off [fixed]", "hsr_dup_offload": "off [fixed]"}, "timestamping": [], "hw_timestamp_filters": []}, "ansible_eth1": {"device": "eth1", "macaddress": "00:1c:42:cd:30:87", "mtu": 1500, "active": true, "module": "virtio_net", "type": "ether", "pciid": "virtio2", "speed": -1, "promisc": false, "ipv4": {"address": "10.37.129.5", "broadcast": "", "netmask": "255.255.255.0", "network": "10.37.129.0", "prefix": "24"}, "ipv6": [{"address": "fdb2:2c26:f4e4:1:21c:42ff:fecd:3087", "prefix": "64", "scope": "global"}, {"address": "fe80::21c:42ff:fecd:3087", "prefix": "64", "scope": "link"}], "features": {"rx_checksumming": "on [fixed]", "tx_checksumming": "on", "tx_checksum_ipv4": "off [fixed]", "tx_checksum_ip_generic": "on", "tx_checksum_ipv6": "off [fixed]", "tx_checksum_fcoe_crc": "off [fixed]", "tx_checksum_sctp": "off [fixed]", "scatter_gather": "on", "tx_scatter_gather": "on", "tx_scatter_gather_fraglist": "off [fixed]", "tcp_segmentation_offload": "on", "tx_tcp_segmentation": "on", "tx_tcp_ecn_segmentation": "on", "tx_tcp_mangleid_segmentation": "off", "tx_tcp6_segmentation": "on", "generic_segmentation_offload": "on", "generic_receive_offload": "on", "large_receive_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "tx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "receive_hashing": "off [fixed]", "highdma": "on [fixed]", "rx_vlan_filter": "off [fixed]", "vlan_challenged": "off [fixed]", "tx_lockless": "off [fixed]", "netns_local": "off [fixed]", "tx_gso_robust": "on [fixed]", "tx_fcoe_segmentation": "off [fixed]", "tx_gre_segmentation": "off [fixed]", "tx_gre_csum_segmentation": "off [fixed]", "tx_ipxip4_segmentation": "off [fixed]", "tx_ipxip6_segmentation": "off [fixed]", "tx_udp_tnl_segmentation": "off [fixed]", "tx_udp_tnl_csum_segmentation": "off [fixed]", "tx_gso_partial": "off [fixed]", "tx_tunnel_remcsum_segmentation": "off [fixed]", "tx_sctp_segmentation": "off [fixed]", "tx_esp_segmentation": "off [fixed]", "tx_udp_segmentation": "off [fixed]", "tx_gso_list": "off [fixed]", "fcoe_mtu": "off [fixed]", "tx_nocache_copy": "off", "loopback": "off [fixed]", "rx_fcs": "off [fixed]", "rx_all": "off [fixed]", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "l2_fwd_offload": "off [fixed]", "hw_tc_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "esp_tx_csum_hw_offload": "off [fixed]", "rx_udp_tunnel_port_offload": "off [fixed]", "tls_hw_tx_offload": "off [fixed]", "tls_hw_rx_offload": "off [fixed]", "rx_gro_hw": "on [fixed]", "tls_hw_record": "off [fixed]", "rx_gro_list": "off", "macsec_hw_offload": "off [fixed]", "rx_udp_gro_forwarding": "off", "hsr_tag_ins_offload": "off [fixed]", "hsr_tag_rm_offload": "off [fixed]", "hsr_fwd_offload": "off [fixed]", "hsr_dup_offload": "off [fixed]"}, "timestamping": [], "hw_timestamp_filters": []}, "ansible_default_ipv4": {"gateway": "10.211.55.1", "interface": "eth0", "address": "10.211.55.7", "broadcast": "", "netmask": "255.255.255.0", "network": "10.211.55.0", "prefix": "24", "macaddress": "00:1c:42:ea:28:35", "mtu": 1500, "type": "ether", "alias": "eth0"}, "ansible_default_ipv6": {}, "ansible_all_ipv4_addresses": ["10.211.55.7", "10.37.129.5"], "ansible_all_ipv6_addresses": ["fdb2:2c26:f4e4:0:21c:42ff:feea:2835", "fe80::21c:42ff:feea:2835", "fdb2:2c26:f4e4:1:21c:42ff:fecd:3087", "fe80::21c:42ff:fecd:3087"], "ansible_locally_reachable_ips": {"ipv4": ["10.37.129.5", "10.211.55.7", "127.0.0.0/8", "127.0.0.1"], "ipv6": ["::1", "fdb2:2c26:f4e4:0:21c:42ff:feea:2835", "fdb2:2c26:f4e4:1:21c:42ff:fecd:3087", "fe80::21c:42ff:fecd:3087", "fe80::21c:42ff:feea:2835"]}, "ansible_virtualization_type": "NA", "ansible_virtualization_role": "NA", "ansible_virtualization_tech_guest": [], "ansible_virtualization_tech_host": [], "ansible_processor": ["0"], "ansible_processor_count": 1, "ansible_processor_cores": 1, "ansible_processor_threads_per_core": 1, "ansible_processor_vcpus": 1, "ansible_processor_nproc": 1, "ansible_memtotal_mb": 962, "ansible_memfree_mb": 119, "ansible_swaptotal_mb": 3909, "ansible_swapfree_mb": 3906, "ansible_memory_mb": {"real": {"total": 962, "used": 843, "free": 119}, "nocache": {"free": 682, "used": 280}, "swap": {"total": 3909, "free": 3906, "used": 3, "cached": 0}}, "ansible_bios_date": "Thu, 10 Apr 2025 14:41:08", "ansible_bios_vendor": "Parallels International GmbH.", "ansible_bios_version": "20.3.0 (55895)", "ansible_board_asset_tag": "None", "ansible_board_name": "Parallels ARM Virtual Platform", "ansible_board_serial": "None", "ansible_board_vendor": "Parallels ARM Virtual Machine", "ansible_board_version": "0.1", "ansible_chassis_asset_tag": "NA", "ansible_chassis_serial": "NA", "ansible_chassis_vendor": "Parallels International GmbH.", "ansible_chassis_version": "NA", "ansible_form_factor": "Unknown", "ansible_product_name": "Parallels ARM Virtual Machine", "ansible_product_serial": "Parallels-EF 7A 7A 74 42 54 40 E8 B9 B8 FA 36 B6 48 7E 0A", "ansible_product_uuid": "ef7a7a74-4254-40e8-b9b8-fa36b6487e0a", "ansible_product_version": "0.1", "ansible_system_vendor": "Parallels International GmbH.", "ansible_devices": {"loop1": {"virtual": 1, "links": {"ids": [], "uuids": [], "labels": [], "masters": []}, "vendor": null, "model": null, "sas_address": null, "sas_device_handle": null, "removable": "0", "support_discard": "4096", "partitions": {}, "rotational": "0", "scheduler_mode": "none", "sectorsize": "512", "sectors": 122368, "size": "59.75 MB", "host": "", "holders": []}, "loop6": {"virtual": 1, "links": {"ids": [], "uuids": [], "labels": [], "masters": []}, "vendor": null, "model": null, "sas_address": null, "sas_device_handle": null, "removable": "0", "support_discard": "0", "partitions": {}, "rotational": "1", "scheduler_mode": "none", "sectorsize": "512", "sectors": 0, "size": "0.00 Bytes", "host": "", "holders": []}, "loop4": {"virtual": 1, "links": {"ids": [], "uuids": [], "labels": [], "masters": []}, "vendor": null, "model": null, "sas_address": null, "sas_device_handle": null, "removable": "0", "support_discard": "4096", "partitions": {}, "rotational": "0", "scheduler_mode": "none", "sectorsize": "512", "sectors": 121968, "size": "59.55 MB", "host": "", "holders": []}, "sr0": {"virtual": 1, "links": {"ids": ["ata-Virtual_DVD-ROM__1__-_31415B265"], "uuids": [], "labels": [], "masters": []}, "vendor": null, "model": "Virtual DVD-ROM", "sas_address": null, "sas_device_handle": null, "removable": "1", "support_discard": "0", "partitions": {}, "rotational": "1", "scheduler_mode": "mq-deadline", "sectorsize": "512", "sectors": 2097151, "size": "1024.00 MB", "host": "", "holders": []}, "loop2": {"virtual": 1, "links": {"ids": [], "uuids": [], "labels": [], "masters": []}, "vendor": null, "model": null, "sas_address": null, "sas_device_handle": null, "removable": "0", "support_discard": "4096", "partitions": {}, "rotational": "0", "scheduler_mode": "none", "sectorsize": "512", "sectors": 69032, "size": "33.71 MB", "host": "", "holders": []}, "loop0": {"virtual": 1, "links": {"ids": [], "uuids": [], "labels": [], "masters": []}, "vendor": null, "model": null, "sas_address": null, "sas_device_handle": null, "removable": "0", "support_discard": "4096", "partitions": {}, "rotational": "0", "scheduler_mode": "none", "sectorsize": "512", "sectors": 158472, "size": "77.38 MB", "host": "", "holders": []}, "dm-0": {"virtual": 1, "links": {"ids": ["dm-name-ubuntu--vg-ubuntu--lv", "dm-uuid-LVM-lJ7o2hNZsBbXDOGl0XInafKgOgbEeUOdhFdw5C7pSQWC3zpK14LHNUIzS8GyrxgR"], "uuids": ["1df5f55d-4ea3-46f3-aa78-3e9ad49590a3"], "labels": [], "masters": []}, "vendor": null, "model": null, "sas_address": null, "sas_device_handle": null, "serial": "KZN1RT51THTM7FNTJCSP", "removable": "0", "support_discard": "4096", "partitions": {}, "rotational": "0", "scheduler_mode": "", "sectorsize": "512", "sectors": 63905792, "size": "30.47 GB", "host": "", "holders": []}, "loop7": {"virtual": 1, "links": {"ids": [], "uuids": [], "labels": [], "masters": []}, "vendor": null, "model": null, "sas_address": null, "sas_device_handle": null, "removable": "0", "support_discard": "0", "partitions": {}, "rotational": "1", "scheduler_mode": "none", "sectorsize": "512", "sectors": 0, "size": "0.00 Bytes", "host": "", "holders": []}, "sda": {"virtual": 1, "links": {"ids": ["ata-harddisk1_SSD_KZN1RT51THTM7FNTJCSP", "scsi-0ATA_harddisk1_SSD_KZN1RT51THTM7FNTJCSP", "scsi-1ATA_harddisk1_SSD_KZN1RT51THTM7FNTJCSP", "scsi-SATA_harddisk1_SSD_KZN1RT51THTM7FNTJCSP"], "uuids": [], "labels": [], "masters": []}, "vendor": "ATA", "model": "harddisk1 SSD", "sas_address": null, "sas_device_handle": null, "serial": "KZN1RT51THTM7FNTJCSP", "removable": "0", "support_discard": "4096", "partitions": {"sda2": {"links": {"ids": ["ata-harddisk1_SSD_KZN1RT51THTM7FNTJCSP-part2", "scsi-0ATA_harddisk1_SSD_KZN1RT51THTM7FNTJCSP-part2", "scsi-1ATA_harddisk1_SSD_KZN1RT51THTM7FNTJCSP-part2", "scsi-SATA_harddisk1_SSD_KZN1RT51THTM7FNTJCSP-part2"], "uuids": ["0c7d5094-e06f-43ed-9ea9-5c75aa0b6f39"], "labels": [], "masters": []}, "start": "2203648", "sectorsize": 512, "sectors": 4194304, "size": "2.00 GB", "uuid": "0c7d5094-e06f-43ed-9ea9-5c75aa0b6f39", "holders": []}, "sda3": {"links": {"ids": ["ata-harddisk1_SSD_KZN1RT51THTM7FNTJCSP-part3", "lvm-pv-uuid-7jI2ZV-cSS5-eP3s-QZes-AuZV-W4d7-WpkZOL", "scsi-0ATA_harddisk1_SSD_KZN1RT51THTM7FNTJCSP-part3", "scsi-1ATA_harddisk1_SSD_KZN1RT51THTM7FNTJCSP-part3", "scsi-SATA_harddisk1_SSD_KZN1RT51THTM7FNTJCSP-part3"], "uuids": [], "labels": [], "masters": ["dm-0"]}, "start": "6397952", "sectorsize": 512, "sectors": 127817728, "size": "60.95 GB", "uuid": null, "holders": ["ubuntu--vg-ubuntu--lv"]}, "sda1": {"links": {"ids": ["ata-harddisk1_SSD_KZN1RT51THTM7FNTJCSP-part1", "scsi-0ATA_harddisk1_SSD_KZN1RT51THTM7FNTJCSP-part1", "scsi-1ATA_harddisk1_SSD_KZN1RT51THTM7FNTJCSP-part1", "scsi-SATA_harddisk1_SSD_KZN1RT51THTM7FNTJCSP-part1"], "uuids": ["9105-8075"], "labels": [], "masters": []}, "start": "2048", "sectorsize": 512, "sectors": 2201600, "size": "1.05 GB", "uuid": "9105-8075", "holders": []}}, "rotational": "0", "scheduler_mode": "mq-deadline", "sectorsize": "512", "sectors": 134217728, "size": "64.00 GB", "host": "", "holders": []}, "loop5": {"virtual": 1, "links": {"ids": [], "uuids": [], "labels": [], "masters": []}, "vendor": null, "model": null, "sas_address": null, "sas_device_handle": null, "removable": "0", "support_discard": "4096", "partitions": {}, "rotational": "0", "scheduler_mode": "none", "sectorsize": "512", "sectors": 162888, "size": "79.54 MB", "host": "", "holders": []}, "loop3": {"virtual": 1, "links": {"ids": [], "uuids": [], "labels": [], "masters": []}, "vendor": null, "model": null, "sas_address": null, "sas_device_handle": null, "removable": "0", "support_discard": "4096", "partitions": {}, "rotational": "0", "scheduler_mode": "none", "sectorsize": "512", "sectors": 90640, "size": "44.26 MB", "host": "", "holders": []}}, "ansible_device_links": {"ids": {"sda2": ["ata-harddisk1_SSD_KZN1RT51THTM7FNTJCSP-part2", "scsi-0ATA_harddisk1_SSD_KZN1RT51THTM7FNTJCSP-part2", "scsi-1ATA_harddisk1_SSD_KZN1RT51THTM7FNTJCSP-part2", "scsi-SATA_harddisk1_SSD_KZN1RT51THTM7FNTJCSP-part2"], "sda1": ["ata-harddisk1_SSD_KZN1RT51THTM7FNTJCSP-part1", "scsi-0ATA_harddisk1_SSD_KZN1RT51THTM7FNTJCSP-part1", "scsi-1ATA_harddisk1_SSD_KZN1RT51THTM7FNTJCSP-part1", "scsi-SATA_harddisk1_SSD_KZN1RT51THTM7FNTJCSP-part1"], "sda3": ["ata-harddisk1_SSD_KZN1RT51THTM7FNTJCSP-part3", "lvm-pv-uuid-7jI2ZV-cSS5-eP3s-QZes-AuZV-W4d7-WpkZOL", "scsi-0ATA_harddisk1_SSD_KZN1RT51THTM7FNTJCSP-part3", "scsi-1ATA_harddisk1_SSD_KZN1RT51THTM7FNTJCSP-part3", "scsi-SATA_harddisk1_SSD_KZN1RT51THTM7FNTJCSP-part3"], "dm-0": ["dm-name-ubuntu--vg-ubuntu--lv", "dm-uuid-LVM-lJ7o2hNZsBbXDOGl0XInafKgOgbEeUOdhFdw5C7pSQWC3zpK14LHNUIzS8GyrxgR"], "sda": ["ata-harddisk1_SSD_KZN1RT51THTM7FNTJCSP", "scsi-0ATA_harddisk1_SSD_KZN1RT51THTM7FNTJCSP", "scsi-1ATA_harddisk1_SSD_KZN1RT51THTM7FNTJCSP", "scsi-SATA_harddisk1_SSD_KZN1RT51THTM7FNTJCSP"], "sr0": ["ata-Virtual_DVD-ROM__1__-_31415B265"]}, "uuids": {"sda2": ["0c7d5094-e06f-43ed-9ea9-5c75aa0b6f39"], "sda1": ["9105-8075"], "dm-0": ["1df5f55d-4ea3-46f3-aa78-3e9ad49590a3"]}, "labels": {}, "masters": {"sda3": ["dm-0"]}}, "ansible_uptime_seconds": 18930, "ansible_lvm": {"lvs": {"ubuntu-lv": {"size_g": "30.47", "vg": "ubuntu-vg"}}, "vgs": {"ubuntu-vg": {"size_g": "60.95", "free_g": "30.47", "num_lvs": "1", "num_pvs": "1"}}, "pvs": {"/dev/sda3": {"size_g": "60.95", "free_g": "30.47", "vg": "ubuntu-vg"}}}, "ansible_mounts": [{"mount": "/", "device": "/dev/mapper/ubuntu--vg-ubuntu--lv", "fstype": "ext4", "options": "rw,relatime", "dump": 0, "passno": 0, "size_total": 32021266432, "size_available": 23722807296, "block_size": 4096, "block_total": 7817692, "block_available": 5791701, "block_used": 2025991, "inode_total": 1998848, "inode_available": 1913634, "inode_used": 85214, "uuid": "1df5f55d-4ea3-46f3-aa78-3e9ad49590a3"}, {"mount": "/snap/snapd/21761", "device": "/dev/loop2", "fstype": "squashfs", "options": "ro,nodev,relatime,errors=continue", "dump": 0, "passno": 0, "size_total": 35389440, "size_available": 0, "block_size": 131072, "block_total": 270, "block_available": 0, "block_used": 270, "inode_total": 648, "inode_available": 0, "inode_used": 648, "uuid": "N/A"}, {"mount": "/snap/core20/2321", "device": "/dev/loop1", "fstype": "squashfs", "options": "ro,nodev,relatime,errors=continue", "dump": 0, "passno": 0, "size_total": 62652416, "size_available": 0, "block_size": 131072, "block_total": 478, "block_available": 0, "block_used": 478, "inode_total": 12028, "inode_available": 0, "inode_used": 12028, "uuid": "N/A"}, {"mount": "/snap/lxd/29353", "device": "/dev/loop0", "fstype": "squashfs", "options": "ro,nodev,relatime,errors=continue", "dump": 0, "passno": 0, "size_total": 81264640, "size_available": 0, "block_size": 131072, "block_total": 620, "block_available": 0, "block_used": 620, "inode_total": 954, "inode_available": 0, "inode_used": 954, "uuid": "N/A"}, {"mount": "/boot", "device": "/dev/sda2", "fstype": "ext4", "options": "rw,relatime", "dump": 0, "passno": 0, "size_total": 2040373248, "size_available": 1786941440, "block_size": 4096, "block_total": 498138, "block_available": 436265, "block_used": 61873, "inode_total": 131072, "inode_available": 130816, "inode_used": 256, "uuid": "0c7d5094-e06f-43ed-9ea9-5c75aa0b6f39"}, {"mount": "/boot/efi", "device": "/dev/sda1", "fstype": "vfat", "options": "rw,relatime,fmask=0022,dmask=0022,codepage=437,iocharset=iso8859-1,shortname=mixed,errors=remount-ro", "dump": 0, "passno": 0, "size_total": 1124995072, "size_available": 1118380032, "block_size": 4096, "block_total": 274657, "block_available": 273042, "block_used": 1615, "inode_total": 0, "inode_available": 0, "inode_used": 0, "uuid": "9105-8075"}, {"mount": "/snap/snapd/24509", "device": "/dev/loop3", "fstype": "squashfs", "options": "ro,nodev,relatime,errors=continue", "dump": 0, "passno": 0, "size_total": 46530560, "size_available": 0, "block_size": 131072, "block_total": 355, "block_available": 0, "block_used": 355, "inode_total": 607, "inode_available": 0, "inode_used": 607, "uuid": "N/A"}, {"mount": "/snap/core20/2573", "device": "/dev/loop4", "fstype": "squashfs", "options": "ro,nodev,relatime,errors=continue", "dump": 0, "passno": 0, "size_total": 62521344, "size_available": 0, "block_size": 131072, "block_total": 477, "block_available": 0, "block_used": 477, "inode_total": 11873, "inode_available": 0, "inode_used": 11873, "uuid": "N/A"}, {"mount": "/snap/lxd/31335", "device": "/dev/loop5", "fstype": "squashfs", "options": "ro,nodev,relatime,errors=continue", "dump": 0, "passno": 0, "size_total": 83492864, "size_available": 0, "block_size": 131072, "block_total": 637, "block_available": 0, "block_used": 637, "inode_total": 956, "inode_available": 0, "inode_used": 956, "uuid": "N/A"}], "ansible_system_capabilities_enforced": "False", "ansible_system_capabilities": [], "ansible_lsb": {"id": "Ubuntu", "description": "Ubuntu 22.04.5 LTS", "release": "22.04", "codename": "jammy", "major_release": "22"}, "ansible_service_mgr": "systemd", "ansible_loadavg": {"1m": 0.00634765625, "5m": 0.01611328125, "15m": 0.0}, "ansible_hostnqn": "", "ansible_date_time": {"year": "2025", "month": "05", "weekday": "Wednesday", "weekday_number": "3", "weeknumber": "20", "day": "21", "hour": "10", "minute": "00", "second": "36", "epoch": "1747839636", "epoch_int": "1747839636", "date": "2025-05-21", "time": "10:00:36", "iso8601_micro": "2025-05-21T15:00:36.160858Z", "iso8601": "2025-05-21T15:00:36Z", "iso8601_basic": "20250521T100036160858", "iso8601_basic_short": "20250521T100036", "tz": "CDT", "tz_dst": "CDT", "tz_offset": "-0500"}, "ansible_pkg_mgr": "apt", "ansible_fips": false, "ansible_python": {"version": {"major": 3, "minor": 10, "micro": 12, "releaselevel": "final", "serial": 0}, "version_info": [3, 10, 12, "final", 0], "executable": "/usr/bin/python3.10", "has_sslcontext": true, "type": "cpython"}, "ansible_selinux_python_present": true, "ansible_selinux": {"status": "disabled"}, "ansible_apparmor": {"status": "enabled"}, "ansible_env": {"SUDO_GID": "1000", "MAIL": "/var/mail/root", "USER": "root", "HOME": "/root", "SUDO_UID": "1000", "LOGNAME": "root", "TERM": "xterm-256color", "PATH": "/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin", "LANG": "en_US.UTF-8", "SUDO_COMMAND": "/bin/sh -c echo BECOME-SUCCESS-hkiymdudleuuqktzdortlidbgimjxmck ; /usr/bin/python3.10 /home/vagrant/.ansible/tmp/ansible-tmp-1747850649.9358761-32099-157244387882092/AnsiballZ_setup.py", "SHELL": "/bin/bash", "SUDO_USER": "vagrant", "PWD": "/home/vagrant"}, "ansible_fibre_channel_wwn": [], "ansible_cmdline": {"BOOT_IMAGE": "/vmlinuz-5.15.0-133-generic", "root": "/dev/mapper/ubuntu--vg-ubuntu--lv", "ro": true, "net.ifnames": "0", "biosdevname": "0", "autoinstall": true, "ds": "nocloud-net"}, "ansible_proc_cmdline": {"BOOT_IMAGE": "/vmlinuz-5.15.0-133-generic", "root": "/dev/mapper/ubuntu--vg-ubuntu--lv", "ro": true, "net.ifnames": "0", "biosdevname": "0", "autoinstall": true, "ds": "nocloud-net"}, "ansible_local": {}, "ansible_systemd": {"features": "+PAM +AUDIT +SELINUX +APPARMOR +IMA +SMACK +SECCOMP +GCRYPT +GNUTLS +OPENSSL +ACL +BLKID +CURL +ELFUTILS +FIDO2 +IDN2 -IDN +IPTC +KMOD +LIBCRYPTSETUP +LIBFDISK +PCRE2 -PWQUALITY -P11KIT -QRENCODE +BZIP2 +LZ4 +XZ +ZLIB +ZSTD -XKBCOMMON +UTMP +SYSVINIT default-hierarchy=unified", "version": 249}, "gather_subset": ["all"], "module_setup": true}, "invocation": {"module_args": {"gather_subset": ["all"], "gather_timeout": 10, "filter": [], "fact_path": "/etc/ansible/facts.d"}}}\r\n', b"OpenSSH_9.9p2, LibreSSL 3.3.6\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug3: /etc/ssh/ssh_config line 22: Including file /etc/ssh/ssh_config.d/100-macos.conf depth 0\r\ndebug1: Reading configuration data /etc/ssh/ssh_config.d/100-macos.conf\r\ndebug1: /etc/ssh/ssh_config.d/100-macos.conf line 1: Applying options for *\r\ndebug3: /etc/ssh/ssh_config.d/100-macos.conf line 3: Including file /etc/ssh/crypto.conf depth 1\r\ndebug1: Reading configuration data /etc/ssh/crypto.conf\r\ndebug3: kex names ok: [ecdh-sha2-nistp256]\r\ndebug2: resolve_canonicalize: hostname 10.37.129.5 is address\r\ndebug3: expanded UserKnownHostsFile '~/.ssh/known_hosts' -> '/Users/sergeylapshov/.ssh/known_hosts'\r\ndebug3: expanded UserKnownHostsFile '~/.ssh/known_hosts2' -> '/Users/sergeylapshov/.ssh/known_hosts2'\r\ndebug1: Authenticator provider $SSH_SK_PROVIDER did not resolve; disabling\r\ndebug1: auto-mux: Trying existing master at '/Users/sergeylapshov/.ansible/cp/8c6de76e1b'\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug2: mux_client_hello_exchange: master version 4\r\ndebug3: mux_client_forwards: request forwardings: 0 local, 0 remote\r\ndebug3: mux_client_request_session: entering\r\ndebug3: mux_client_request_alive: entering\r\ndebug3: mux_client_request_alive: done pid = 32104\r\ndebug3: mux_client_request_session: session request sent\r\ndebug1: mux_client_request_session: master session id: 2\r\ndebug3: mux_client_read_packet_timeout: read header failed: Broken pipe\r\ndebug2: Received exit status from master 0\r\nShared connection to 10.37.129.5 closed.\r\n")
2025-05-21 21:04:10,968 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> ESTABLISH SSH CONNECTION FOR USER: vagrant
2025-05-21 21:04:10,968 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> SSH: EXEC ssh -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/Users/sergeylapshov/Documents/Devops/docker/Ansible/.vagrant/machines/node1/parallels/private_key"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="vagrant"' -o ConnectTimeout=10 -o 'ControlPath="/Users/sergeylapshov/.ansible/cp/8c6de76e1b"' 10.37.129.5 '/bin/sh -c '"'"'rm -f -r /home/vagrant/.ansible/tmp/ansible-tmp-1747850649.9358761-32099-157244387882092/ > /dev/null 2>&1 && sleep 0'"'"''
2025-05-21 21:04:10,989 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> (0, b'', b"OpenSSH_9.9p2, LibreSSL 3.3.6\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug3: /etc/ssh/ssh_config line 22: Including file /etc/ssh/ssh_config.d/100-macos.conf depth 0\r\ndebug1: Reading configuration data /etc/ssh/ssh_config.d/100-macos.conf\r\ndebug1: /etc/ssh/ssh_config.d/100-macos.conf line 1: Applying options for *\r\ndebug3: /etc/ssh/ssh_config.d/100-macos.conf line 3: Including file /etc/ssh/crypto.conf depth 1\r\ndebug1: Reading configuration data /etc/ssh/crypto.conf\r\ndebug3: kex names ok: [ecdh-sha2-nistp256]\r\ndebug2: resolve_canonicalize: hostname 10.37.129.5 is address\r\ndebug3: expanded UserKnownHostsFile '~/.ssh/known_hosts' -> '/Users/sergeylapshov/.ssh/known_hosts'\r\ndebug3: expanded UserKnownHostsFile '~/.ssh/known_hosts2' -> '/Users/sergeylapshov/.ssh/known_hosts2'\r\ndebug1: Authenticator provider $SSH_SK_PROVIDER did not resolve; disabling\r\ndebug1: auto-mux: Trying existing master at '/Users/sergeylapshov/.ansible/cp/8c6de76e1b'\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug2: mux_client_hello_exchange: master version 4\r\ndebug3: mux_client_forwards: request forwardings: 0 local, 0 remote\r\ndebug3: mux_client_request_session: entering\r\ndebug3: mux_client_request_alive: entering\r\ndebug3: mux_client_request_alive: done pid = 32104\r\ndebug3: mux_client_request_session: session request sent\r\ndebug1: mux_client_request_session: master session id: 2\r\ndebug3: mux_client_read_packet_timeout: read header failed: Broken pipe\r\ndebug2: Received exit status from master 0\r\n")
2025-05-21 21:04:11,031 p=32095 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python
interpreter at /usr/bin/python3.10, but future installation of another Python
interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-21 21:04:11,031 p=32095 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-21 21:04:11,035 p=32095 u=sergeylapshov n=ansible INFO| TASK [nginx : Установка пакетов nginx] *****************************************
2025-05-21 21:04:11,035 p=32095 u=sergeylapshov n=ansible INFO| task path: /Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-18/roles/nginx/tasks/main.yml:4
2025-05-21 21:04:11,049 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> ESTABLISH SSH CONNECTION FOR USER: vagrant
2025-05-21 21:04:11,049 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> SSH: EXEC ssh -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/Users/sergeylapshov/Documents/Devops/docker/Ansible/.vagrant/machines/node1/parallels/private_key"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="vagrant"' -o ConnectTimeout=10 -o 'ControlPath="/Users/sergeylapshov/.ansible/cp/8c6de76e1b"' 10.37.129.5 '/bin/sh -c '"'"'echo ~vagrant && sleep 0'"'"''
2025-05-21 21:04:11,060 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> (0, b'/home/vagrant\n', b"OpenSSH_9.9p2, LibreSSL 3.3.6\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug3: /etc/ssh/ssh_config line 22: Including file /etc/ssh/ssh_config.d/100-macos.conf depth 0\r\ndebug1: Reading configuration data /etc/ssh/ssh_config.d/100-macos.conf\r\ndebug1: /etc/ssh/ssh_config.d/100-macos.conf line 1: Applying options for *\r\ndebug3: /etc/ssh/ssh_config.d/100-macos.conf line 3: Including file /etc/ssh/crypto.conf depth 1\r\ndebug1: Reading configuration data /etc/ssh/crypto.conf\r\ndebug3: kex names ok: [ecdh-sha2-nistp256]\r\ndebug2: resolve_canonicalize: hostname 10.37.129.5 is address\r\ndebug3: expanded UserKnownHostsFile '~/.ssh/known_hosts' -> '/Users/sergeylapshov/.ssh/known_hosts'\r\ndebug3: expanded UserKnownHostsFile '~/.ssh/known_hosts2' -> '/Users/sergeylapshov/.ssh/known_hosts2'\r\ndebug1: Authenticator provider $SSH_SK_PROVIDER did not resolve; disabling\r\ndebug1: auto-mux: Trying existing master at '/Users/sergeylapshov/.ansible/cp/8c6de76e1b'\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug2: mux_client_hello_exchange: master version 4\r\ndebug3: mux_client_forwards: request forwardings: 0 local, 0 remote\r\ndebug3: mux_client_request_session: entering\r\ndebug3: mux_client_request_alive: entering\r\ndebug3: mux_client_request_alive: done pid = 32104\r\ndebug3: mux_client_request_session: session request sent\r\ndebug1: mux_client_request_session: master session id: 2\r\ndebug3: mux_client_read_packet_timeout: read header failed: Broken pipe\r\ndebug2: Received exit status from master 0\r\n")
2025-05-21 21:04:11,060 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> ESTABLISH SSH CONNECTION FOR USER: vagrant
2025-05-21 21:04:11,060 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> SSH: EXEC ssh -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/Users/sergeylapshov/Documents/Devops/docker/Ansible/.vagrant/machines/node1/parallels/private_key"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="vagrant"' -o ConnectTimeout=10 -o 'ControlPath="/Users/sergeylapshov/.ansible/cp/8c6de76e1b"' 10.37.129.5 '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/vagrant/.ansible/tmp `"&& mkdir "` echo /home/vagrant/.ansible/tmp/ansible-tmp-1747850651.060278-32120-89249664262121 `" && echo ansible-tmp-1747850651.060278-32120-89249664262121="` echo /home/vagrant/.ansible/tmp/ansible-tmp-1747850651.060278-32120-89249664262121 `" ) && sleep 0'"'"''
2025-05-21 21:04:11,073 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> (0, b'ansible-tmp-1747850651.060278-32120-89249664262121=/home/vagrant/.ansible/tmp/ansible-tmp-1747850651.060278-32120-89249664262121\n', b"OpenSSH_9.9p2, LibreSSL 3.3.6\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug3: /etc/ssh/ssh_config line 22: Including file /etc/ssh/ssh_config.d/100-macos.conf depth 0\r\ndebug1: Reading configuration data /etc/ssh/ssh_config.d/100-macos.conf\r\ndebug1: /etc/ssh/ssh_config.d/100-macos.conf line 1: Applying options for *\r\ndebug3: /etc/ssh/ssh_config.d/100-macos.conf line 3: Including file /etc/ssh/crypto.conf depth 1\r\ndebug1: Reading configuration data /etc/ssh/crypto.conf\r\ndebug3: kex names ok: [ecdh-sha2-nistp256]\r\ndebug2: resolve_canonicalize: hostname 10.37.129.5 is address\r\ndebug3: expanded UserKnownHostsFile '~/.ssh/known_hosts' -> '/Users/sergeylapshov/.ssh/known_hosts'\r\ndebug3: expanded UserKnownHostsFile '~/.ssh/known_hosts2' -> '/Users/sergeylapshov/.ssh/known_hosts2'\r\ndebug1: Authenticator provider $SSH_SK_PROVIDER did not resolve; disabling\r\ndebug1: auto-mux: Trying existing master at '/Users/sergeylapshov/.ansible/cp/8c6de76e1b'\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug2: mux_client_hello_exchange: master version 4\r\ndebug3: mux_client_forwards: request forwardings: 0 local, 0 remote\r\ndebug3: mux_client_request_session: entering\r\ndebug3: mux_client_request_alive: entering\r\ndebug3: mux_client_request_alive: done pid = 32104\r\ndebug3: mux_client_request_session: session request sent\r\ndebug1: mux_client_request_session: master session id: 2\r\ndebug3: mux_client_read_packet_timeout: read header failed: Broken pipe\r\ndebug2: Received exit status from master 0\r\n")
2025-05-21 21:04:11,150 p=32095 u=sergeylapshov n=ansible INFO| Using module file /opt/homebrew/Cellar/ansible/11.5.0/libexec/lib/python3.13/site-packages/ansible/modules/apt.py
2025-05-21 21:04:11,150 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> PUT /Users/sergeylapshov/.ansible/tmp/ansible-local-32095uoitlc2f/tmp1_j1ai2_ TO /home/vagrant/.ansible/tmp/ansible-tmp-1747850651.060278-32120-89249664262121/AnsiballZ_apt.py
2025-05-21 21:04:11,151 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> SSH: EXEC sftp -b - -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/Users/sergeylapshov/Documents/Devops/docker/Ansible/.vagrant/machines/node1/parallels/private_key"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="vagrant"' -o ConnectTimeout=10 -o 'ControlPath="/Users/sergeylapshov/.ansible/cp/8c6de76e1b"' '[10.37.129.5]'
2025-05-21 21:04:11,183 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> (0, b'sftp> put /Users/sergeylapshov/.ansible/tmp/ansible-local-32095uoitlc2f/tmp1_j1ai2_ /home/vagrant/.ansible/tmp/ansible-tmp-1747850651.060278-32120-89249664262121/AnsiballZ_apt.py\n', b'OpenSSH_9.9p2, LibreSSL 3.3.6\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug3: /etc/ssh/ssh_config line 22: Including file /etc/ssh/ssh_config.d/100-macos.conf depth 0\r\ndebug1: Reading configuration data /etc/ssh/ssh_config.d/100-macos.conf\r\ndebug1: /etc/ssh/ssh_config.d/100-macos.conf line 1: Applying options for *\r\ndebug3: /etc/ssh/ssh_config.d/100-macos.conf line 3: Including file /etc/ssh/crypto.conf depth 1\r\ndebug1: Reading configuration data /etc/ssh/crypto.conf\r\ndebug3: kex names ok: [ecdh-sha2-nistp256]\r\ndebug2: resolve_canonicalize: hostname 10.37.129.5 is address\r\ndebug3: expanded UserKnownHostsFile \'~/.ssh/known_hosts\' -> \'/Users/sergeylapshov/.ssh/known_hosts\'\r\ndebug3: expanded UserKnownHostsFile \'~/.ssh/known_hosts2\' -> \'/Users/sergeylapshov/.ssh/known_hosts2\'\r\ndebug1: Authenticator provider $SSH_SK_PROVIDER did not resolve; disabling\r\ndebug1: auto-mux: Trying existing master at \'/Users/sergeylapshov/.ansible/cp/8c6de76e1b\'\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug2: mux_client_hello_exchange: master version 4\r\ndebug3: mux_client_forwards: request forwardings: 0 local, 0 remote\r\ndebug3: mux_client_request_session: entering\r\ndebug3: mux_client_request_alive: entering\r\ndebug3: mux_client_request_alive: done pid = 32104\r\ndebug3: mux_client_request_session: session request sent\r\ndebug1: mux_client_request_session: master session id: 2\r\ndebug2: Remote version: 3\r\ndebug2: Server supports extension "posix-rename@openssh.com" revision 1\r\ndebug2: Server supports extension "statvfs@openssh.com" revision 2\r\ndebug2: Server supports extension "fstatvfs@openssh.com" revision 2\r\ndebug2: Server supports extension "hardlink@openssh.com" revision 1\r\ndebug2: Server supports extension "fsync@openssh.com" revision 1\r\ndebug2: Server supports extension "lsetstat@openssh.com" revision 1\r\ndebug2: Server supports extension "limits@openssh.com" revision 1\r\ndebug2: Server supports extension "expand-path@openssh.com" revision 1\r\ndebug3: Sent message limits@openssh.com I:1\r\ndebug3: Received limits reply T:201 I:1\r\ndebug3: server upload/download buffer sizes 261120 / 261120; using 261120 / 261120\r\ndebug3: server handle limit 1019; using 64\r\ndebug2: Sending SSH2_FXP_REALPATH "."\r\ndebug3: Sent message fd 3 T:16 I:2\r\ndebug3: SSH2_FXP_REALPATH . -> /home/vagrant\r\ndebug3: Looking up /Users/sergeylapshov/.ansible/tmp/ansible-local-32095uoitlc2f/tmp1_j1ai2_\r\ndebug2: Sending SSH2_FXP_STAT "/home/vagrant/.ansible/tmp/ansible-tmp-1747850651.060278-32120-89249664262121/AnsiballZ_apt.py"\r\ndebug3: Sent message fd 3 T:17 I:3\r\ndebug1: stat remote: No such file or directory\r\ndebug2: sftp_upload: upload local "/Users/sergeylapshov/.ansible/tmp/ansible-local-32095uoitlc2f/tmp1_j1ai2_" to remote "/home/vagrant/.ansible/tmp/ansible-tmp-1747850651.060278-32120-89249664262121/AnsiballZ_apt.py"\r\ndebug2: Sending SSH2_FXP_OPEN "/home/vagrant/.ansible/tmp/ansible-tmp-1747850651.060278-32120-89249664262121/AnsiballZ_apt.py"\r\ndebug3: Sent dest message SSH2_FXP_OPEN I:4 P:/home/vagrant/.ansible/tmp/ansible-tmp-1747850651.060278-32120-89249664262121/AnsiballZ_apt.py M:0x001a\r\ndebug3: Sent message SSH2_FXP_WRITE I:6 O:0 S:157434\r\ndebug3: SSH2_FXP_STATUS 0\r\ndebug3: In write loop, ack for 6 157434 bytes at 0\r\ndebug3: Sent message SSH2_FXP_CLOSE I:5\r\ndebug3: SSH2_FXP_STATUS 0\r\ndebug3: mux_client_read_packet_timeout: read header failed: Broken pipe\r\ndebug2: Received exit status from master 0\r\n')
2025-05-21 21:04:11,183 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> ESTABLISH SSH CONNECTION FOR USER: vagrant
2025-05-21 21:04:11,184 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> SSH: EXEC ssh -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/Users/sergeylapshov/Documents/Devops/docker/Ansible/.vagrant/machines/node1/parallels/private_key"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="vagrant"' -o ConnectTimeout=10 -o 'ControlPath="/Users/sergeylapshov/.ansible/cp/8c6de76e1b"' 10.37.129.5 '/bin/sh -c '"'"'chmod u+x /home/vagrant/.ansible/tmp/ansible-tmp-1747850651.060278-32120-89249664262121/ /home/vagrant/.ansible/tmp/ansible-tmp-1747850651.060278-32120-89249664262121/AnsiballZ_apt.py && sleep 0'"'"''
2025-05-21 21:04:11,199 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> (0, b'', b"OpenSSH_9.9p2, LibreSSL 3.3.6\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug3: /etc/ssh/ssh_config line 22: Including file /etc/ssh/ssh_config.d/100-macos.conf depth 0\r\ndebug1: Reading configuration data /etc/ssh/ssh_config.d/100-macos.conf\r\ndebug1: /etc/ssh/ssh_config.d/100-macos.conf line 1: Applying options for *\r\ndebug3: /etc/ssh/ssh_config.d/100-macos.conf line 3: Including file /etc/ssh/crypto.conf depth 1\r\ndebug1: Reading configuration data /etc/ssh/crypto.conf\r\ndebug3: kex names ok: [ecdh-sha2-nistp256]\r\ndebug2: resolve_canonicalize: hostname 10.37.129.5 is address\r\ndebug3: expanded UserKnownHostsFile '~/.ssh/known_hosts' -> '/Users/sergeylapshov/.ssh/known_hosts'\r\ndebug3: expanded UserKnownHostsFile '~/.ssh/known_hosts2' -> '/Users/sergeylapshov/.ssh/known_hosts2'\r\ndebug1: Authenticator provider $SSH_SK_PROVIDER did not resolve; disabling\r\ndebug1: auto-mux: Trying existing master at '/Users/sergeylapshov/.ansible/cp/8c6de76e1b'\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug2: mux_client_hello_exchange: master version 4\r\ndebug3: mux_client_forwards: request forwardings: 0 local, 0 remote\r\ndebug3: mux_client_request_session: entering\r\ndebug3: mux_client_request_alive: entering\r\ndebug3: mux_client_request_alive: done pid = 32104\r\ndebug3: mux_client_request_session: session request sent\r\ndebug1: mux_client_request_session: master session id: 2\r\ndebug3: mux_client_read_packet_timeout: read header failed: Broken pipe\r\ndebug2: Received exit status from master 0\r\n")
2025-05-21 21:04:11,200 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> ESTABLISH SSH CONNECTION FOR USER: vagrant
2025-05-21 21:04:11,200 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> SSH: EXEC ssh -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/Users/sergeylapshov/Documents/Devops/docker/Ansible/.vagrant/machines/node1/parallels/private_key"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="vagrant"' -o ConnectTimeout=10 -o 'ControlPath="/Users/sergeylapshov/.ansible/cp/8c6de76e1b"' -tt 10.37.129.5 '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-intemxrclcvywjfbkeayfefjjnxdibtx ; /usr/bin/python3.10 /home/vagrant/.ansible/tmp/ansible-tmp-1747850651.060278-32120-89249664262121/AnsiballZ_apt.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
2025-05-21 21:04:11,226 p=32095 u=sergeylapshov n=ansible INFO| Escalation succeeded
2025-05-21 21:04:11,938 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> (0, b'\r\n{"changed": false, "cache_updated": false, "cache_update_time": 1740085625, "invocation": {"module_args": {"name": "nginx", "state": "present", "package": ["nginx"], "update_cache_retries": 5, "update_cache_retry_max_delay": 12, "cache_valid_time": 0, "purge": false, "force": false, "upgrade": null, "dpkg_options": "force-confdef,force-confold", "autoremove": false, "autoclean": false, "fail_on_autoremove": false, "only_upgrade": false, "force_apt_get": false, "clean": false, "allow_unauthenticated": false, "allow_downgrade": false, "allow_change_held_packages": false, "lock_timeout": 60, "update_cache": null, "deb": null, "default_release": null, "install_recommends": null, "policy_rc_d": null}}}\r\n', b"OpenSSH_9.9p2, LibreSSL 3.3.6\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug3: /etc/ssh/ssh_config line 22: Including file /etc/ssh/ssh_config.d/100-macos.conf depth 0\r\ndebug1: Reading configuration data /etc/ssh/ssh_config.d/100-macos.conf\r\ndebug1: /etc/ssh/ssh_config.d/100-macos.conf line 1: Applying options for *\r\ndebug3: /etc/ssh/ssh_config.d/100-macos.conf line 3: Including file /etc/ssh/crypto.conf depth 1\r\ndebug1: Reading configuration data /etc/ssh/crypto.conf\r\ndebug3: kex names ok: [ecdh-sha2-nistp256]\r\ndebug2: resolve_canonicalize: hostname 10.37.129.5 is address\r\ndebug3: expanded UserKnownHostsFile '~/.ssh/known_hosts' -> '/Users/sergeylapshov/.ssh/known_hosts'\r\ndebug3: expanded UserKnownHostsFile '~/.ssh/known_hosts2' -> '/Users/sergeylapshov/.ssh/known_hosts2'\r\ndebug1: Authenticator provider $SSH_SK_PROVIDER did not resolve; disabling\r\ndebug1: auto-mux: Trying existing master at '/Users/sergeylapshov/.ansible/cp/8c6de76e1b'\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug2: mux_client_hello_exchange: master version 4\r\ndebug3: mux_client_forwards: request forwardings: 0 local, 0 remote\r\ndebug3: mux_client_request_session: entering\r\ndebug3: mux_client_request_alive: entering\r\ndebug3: mux_client_request_alive: done pid = 32104\r\ndebug3: mux_client_request_session: session request sent\r\ndebug1: mux_client_request_session: master session id: 2\r\ndebug3: mux_client_read_packet_timeout: read header failed: Broken pipe\r\ndebug2: Received exit status from master 0\r\nShared connection to 10.37.129.5 closed.\r\n")
2025-05-21 21:04:11,939 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> ESTABLISH SSH CONNECTION FOR USER: vagrant
2025-05-21 21:04:11,940 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> SSH: EXEC ssh -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o 'IdentityFile="/Users/sergeylapshov/Documents/Devops/docker/Ansible/.vagrant/machines/node1/parallels/private_key"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="vagrant"' -o ConnectTimeout=10 -o 'ControlPath="/Users/sergeylapshov/.ansible/cp/8c6de76e1b"' 10.37.129.5 '/bin/sh -c '"'"'rm -f -r /home/vagrant/.ansible/tmp/ansible-tmp-1747850651.060278-32120-89249664262121/ > /dev/null 2>&1 && sleep 0'"'"''
2025-05-21 21:04:11,959 p=32095 u=sergeylapshov n=ansible INFO| <10.37.129.5> (0, b'', b"OpenSSH_9.9p2, LibreSSL 3.3.6\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug3: /etc/ssh/ssh_config line 22: Including file /etc/ssh/ssh_config.d/100-macos.conf depth 0\r\ndebug1: Reading configuration data /etc/ssh/ssh_config.d/100-macos.conf\r\ndebug1: /etc/ssh/ssh_config.d/100-macos.conf line 1: Applying options for *\r\ndebug3: /etc/ssh/ssh_config.d/100-macos.conf line 3: Including file /etc/ssh/crypto.conf depth 1\r\ndebug1: Reading configuration data /etc/ssh/crypto.conf\r\ndebug3: kex names ok: [ecdh-sha2-nistp256]\r\ndebug2: resolve_canonicalize: hostname 10.37.129.5 is address\r\ndebug3: expanded UserKnownHostsFile '~/.ssh/known_hosts' -> '/Users/sergeylapshov/.ssh/known_hosts'\r\ndebug3: expanded UserKnownHostsFile '~/.ssh/known_hosts2' -> '/Users/sergeylapshov/.ssh/known_hosts2'\r\ndebug1: Authenticator provider $SSH_SK_PROVIDER did not resolve; disabling\r\ndebug1: auto-mux: Trying existing master at '/Users/sergeylapshov/.ansible/cp/8c6de76e1b'\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug2: mux_client_hello_exchange: master version 4\r\ndebug3: mux_client_forwards: request forwardings: 0 local, 0 remote\r\ndebug3: mux_client_request_session: entering\r\ndebug3: mux_client_request_alive: entering\r\ndebug3: mux_client_request_alive: done pid = 32104\r\ndebug3: mux_client_request_session: session request sent\r\ndebug1: mux_client_request_session: master session id: 2\r\ndebug3: mux_client_read_packet_timeout: read header failed: Broken pipe\r\ndebug2: Received exit status from master 0\r\n")
2025-05-21 21:04:11,961 p=32095 u=sergeylapshov n=ansible INFO| ok: [web1] => {
    "cache_update_time": 1740085625,
    "cache_updated": false,
    "changed": false,
    "invocation": {
        "module_args": {
            "allow_change_held_packages": false,
            "allow_downgrade": false,
            "allow_unauthenticated": false,
            "autoclean": false,
            "autoremove": false,
            "cache_valid_time": 0,
            "clean": false,
            "deb": null,
            "default_release": null,
            "dpkg_options": "force-confdef,force-confold",
            "fail_on_autoremove": false,
            "force": false,
            "force_apt_get": false,
            "install_recommends": null,
            "lock_timeout": 60,
            "name": "nginx",
            "only_upgrade": false,
            "package": [
                "nginx"
            ],
            "policy_rc_d": null,
            "purge": false,
            "state": "present",
            "update_cache": null,
            "update_cache_retries": 5,
            "update_cache_retry_max_delay": 12,
            "upgrade": null
        }
    }
}
2025-05-21 21:04:11,971 p=32095 u=sergeylapshov n=ansible INFO| TASK [Проверка значение переменной] ********************************************
2025-05-21 21:04:11,971 p=32095 u=sergeylapshov n=ansible INFO| task path: /Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-18/install_nginx_role.yml:8
2025-05-21 21:04:11,982 p=32095 u=sergeylapshov n=ansible INFO| ok: [web1] => {
    "ansible_hostname": "ubuntu-node-1"
}
2025-05-21 21:04:11,989 p=32095 u=sergeylapshov n=ansible INFO| TASK [Проверка значение переменной] ********************************************
2025-05-21 21:04:11,989 p=32095 u=sergeylapshov n=ansible INFO| task path: /Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-18/install_nginx_role.yml:11
2025-05-21 21:04:11,997 p=32095 u=sergeylapshov n=ansible INFO| [Проверка значение переменной]
Проверить значение переменной ansible_hostname:
2025-05-21 21:04:13,405 p=32095 u=sergeylapshov n=ansible INFO| ok: [web1] => {
    "changed": false,
    "delta": 1,
    "echo": true,
    "rc": 0,
    "start": "2025-05-21 21:04:11.997053",
    "stderr": "",
    "stdout": "Paused for 0.02 minutes",
    "stop": "2025-05-21 21:04:13.400877",
    "user_input": ""
}
2025-05-21 21:04:13,407 p=32095 u=sergeylapshov n=ansible INFO| PLAY RECAP *********************************************************************
2025-05-21 21:04:13,407 p=32095 u=sergeylapshov n=ansible INFO| web1                       : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-05-21 22:03:53,070 p=44796 u=sergeylapshov n=ansible INFO| ansible-playbook [core 2.18.5]
  config file = /Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-19/ansible.cfg
  configured module search path = ['/Users/sergeylapshov/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /opt/homebrew/Cellar/ansible/11.5.0/libexec/lib/python3.13/site-packages/ansible
  ansible collection location = /Users/sergeylapshov/.ansible/collections:/usr/share/ansible/collections
  executable location = /opt/homebrew/bin/ansible-playbook
  python version = 3.13.3 (main, Apr  8 2025, 13:54:08) [Clang 16.0.0 (clang-1600.0.26.6)] (/opt/homebrew/Cellar/ansible/11.5.0/libexec/bin/python)
  jinja version = 3.1.6
  libyaml = True
2025-05-21 22:03:53,070 p=44796 u=sergeylapshov n=ansible INFO| Using /Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-19/ansible.cfg as config file
2025-05-21 22:03:53,070 p=44796 u=sergeylapshov n=ansible WARNING| [WARNING]: Error getting vault password file (default): The vault password file
/Users/sergeylapshov/.vault_pass.txt was not found

2025-05-21 22:03:53,070 p=44796 u=sergeylapshov n=ansible ERROR| ERROR! The vault password file /Users/sergeylapshov/.vault_pass.txt was not found
2025-05-21 22:05:21,597 p=45425 u=sergeylapshov n=ansible INFO| ansible-playbook [core 2.18.5]
  config file = /Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-19/ansible.cfg
  configured module search path = ['/Users/sergeylapshov/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /opt/homebrew/Cellar/ansible/11.5.0/libexec/lib/python3.13/site-packages/ansible
  ansible collection location = /Users/sergeylapshov/.ansible/collections:/usr/share/ansible/collections
  executable location = /opt/homebrew/bin/ansible-playbook
  python version = 3.13.3 (main, Apr  8 2025, 13:54:08) [Clang 16.0.0 (clang-1600.0.26.6)] (/opt/homebrew/Cellar/ansible/11.5.0/libexec/bin/python)
  jinja version = 3.1.6
  libyaml = True
2025-05-21 22:05:21,597 p=45425 u=sergeylapshov n=ansible INFO| Using /Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-19/ansible.cfg as config file
2025-05-21 22:05:21,598 p=45425 u=sergeylapshov n=ansible WARNING| [WARNING]: Error getting vault password file (default): The vault password file
/Users/sergeylapshov/.vault_pass.txt was not found

2025-05-21 22:05:21,598 p=45425 u=sergeylapshov n=ansible ERROR| ERROR! The vault password file /Users/sergeylapshov/.vault_pass.txt was not found
2025-05-21 22:05:47,668 p=45618 u=sergeylapshov n=ansible ERROR| ERROR! the role 'nginx' was not found in /Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-19/playbooks/roles:/Users/sergeylapshov/.ansible/roles:/usr/share/ansible/roles:/etc/ansible/roles:/Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-19/playbooks

The error appears to be in '/Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-19/playbooks/deploy.yml': line 5, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

  roles:
    - role: nginx
      ^ here

2025-05-21 22:06:42,074 p=45963 u=sergeylapshov n=ansible INFO| ansible-playbook [core 2.18.5]
  config file = /Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-19/ansible.cfg
  configured module search path = ['/Users/sergeylapshov/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /opt/homebrew/Cellar/ansible/11.5.0/libexec/lib/python3.13/site-packages/ansible
  ansible collection location = /Users/sergeylapshov/.ansible/collections:/usr/share/ansible/collections
  executable location = /opt/homebrew/bin/ansible-playbook
  python version = 3.13.3 (main, Apr  8 2025, 13:54:08) [Clang 16.0.0 (clang-1600.0.26.6)] (/opt/homebrew/Cellar/ansible/11.5.0/libexec/bin/python)
  jinja version = 3.1.6
  libyaml = True
2025-05-21 22:06:42,074 p=45963 u=sergeylapshov n=ansible INFO| Using /Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-19/ansible.cfg as config file
2025-05-21 22:06:42,075 p=45963 u=sergeylapshov n=ansible WARNING| [WARNING]: Error getting vault password file (default): The vault password file
/Users/sergeylapshov/.vault_pass.txt was not found

2025-05-21 22:06:42,075 p=45963 u=sergeylapshov n=ansible ERROR| ERROR! The vault password file /Users/sergeylapshov/.vault_pass.txt was not found
2025-05-21 22:07:54,620 p=46492 u=sergeylapshov n=ansible INFO| ansible-playbook [core 2.18.5]
  config file = /Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-19/ansible.cfg
  configured module search path = ['/Users/sergeylapshov/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /opt/homebrew/Cellar/ansible/11.5.0/libexec/lib/python3.13/site-packages/ansible
  ansible collection location = /Users/sergeylapshov/.ansible/collections:/usr/share/ansible/collections
  executable location = /opt/homebrew/bin/ansible-playbook
  python version = 3.13.3 (main, Apr  8 2025, 13:54:08) [Clang 16.0.0 (clang-1600.0.26.6)] (/opt/homebrew/Cellar/ansible/11.5.0/libexec/bin/python)
  jinja version = 3.1.6
  libyaml = True
2025-05-21 22:07:54,621 p=46492 u=sergeylapshov n=ansible INFO| Using /Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-19/ansible.cfg as config file
2025-05-21 22:07:54,694 p=46492 u=sergeylapshov n=ansible INFO| host_list declined parsing /Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-10/inventory.ini as it did not pass its verify_file() method
2025-05-21 22:07:54,695 p=46492 u=sergeylapshov n=ansible INFO| script declined parsing /Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-10/inventory.ini as it did not pass its verify_file() method
2025-05-21 22:07:54,695 p=46492 u=sergeylapshov n=ansible INFO| auto declined parsing /Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-10/inventory.ini as it did not pass its verify_file() method
2025-05-21 22:07:54,695 p=46492 u=sergeylapshov n=ansible INFO| yaml declined parsing /Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-10/inventory.ini as it did not pass its verify_file() method
2025-05-21 22:07:54,696 p=46492 u=sergeylapshov n=ansible INFO| Parsed /Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-10/inventory.ini inventory source with ini plugin
2025-05-21 22:07:54,835 p=46492 u=sergeylapshov n=ansible ERROR| ERROR! the role 'nginx' was not found in /Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-19/playbooks/roles:/Users/sergeylapshov/.ansible/roles:/usr/share/ansible/roles:/etc/ansible/roles:/Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-19/playbooks

The error appears to be in '/Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-19/playbooks/deploy.yml': line 5, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

  roles:
    - role: nginx
      ^ here

2025-05-21 22:07:59,939 p=46633 u=sergeylapshov n=ansible ERROR| ERROR! the role 'nginx' was not found in /Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-19/playbooks/roles:/Users/sergeylapshov/.ansible/roles:/usr/share/ansible/roles:/etc/ansible/roles:/Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-19/playbooks

The error appears to be in '/Users/sergeylapshov/Documents/Devops/docker/Ansible/ANS-19/playbooks/deploy.yml': line 5, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

  roles:
    - role: nginx
      ^ here

2025-05-21 22:09:09,059 p=46949 u=sergeylapshov n=ansible ERROR| ERROR! the playbook: playbooks/deploy.yml could not be found
2025-05-21 22:09:16,051 p=47086 u=sergeylapshov n=ansible INFO| PLAY [Установка nginx через роль] **********************************************
2025-05-21 22:09:16,058 p=47086 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] *********************************************************
2025-05-21 22:09:17,624 p=47086 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python
interpreter at /usr/bin/python3.10, but future installation of another Python
interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-21 22:09:17,624 p=47086 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-21 22:09:17,629 p=47086 u=sergeylapshov n=ansible INFO| TASK [nginx : Установка пакетов nginx] *****************************************
2025-05-21 22:09:18,692 p=47086 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-21 22:09:18,701 p=47086 u=sergeylapshov n=ansible INFO| TASK [nginx : Копировать конфиг nginx] *****************************************
2025-05-21 22:09:19,306 p=47086 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-21 22:09:19,319 p=47086 u=sergeylapshov n=ansible INFO| RUNNING HANDLER [nginx : restart nginx] ****************************************
2025-05-21 22:09:19,888 p=47086 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-21 22:09:19,890 p=47086 u=sergeylapshov n=ansible WARNING| [WARNING]: Could not match supplied host pattern, ignoring: docker

2025-05-21 22:09:19,891 p=47086 u=sergeylapshov n=ansible INFO| PLAY [Установка Docker и запуск тест-контейнера] *******************************
2025-05-21 22:09:19,891 p=47086 u=sergeylapshov n=ansible INFO| skipping: no hosts matched
2025-05-21 22:09:19,891 p=47086 u=sergeylapshov n=ansible INFO| PLAY RECAP *********************************************************************
2025-05-21 22:09:19,891 p=47086 u=sergeylapshov n=ansible INFO| web1                       : ok=4    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-05-22 07:49:41,531 p=58127 u=sergeylapshov n=ansible INFO| PLAY [Установка зависимостей] *******************************************************************************************
2025-05-22 07:49:41,538 p=58127 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 07:49:43,110 p=58127 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 07:49:43,110 p=58127 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 07:49:43,114 p=58127 u=sergeylapshov n=ansible INFO| TASK [Установка необходимых пакетов] ************************************************************************************
2025-05-22 07:49:49,738 p=58127 u=sergeylapshov n=ansible INFO| changed: [web1] => (item=apt-transport-https)
2025-05-22 07:49:50,659 p=58127 u=sergeylapshov n=ansible INFO| ok: [web1] => (item=ca-certificates)
2025-05-22 07:49:51,505 p=58127 u=sergeylapshov n=ansible INFO| ok: [web1] => (item=curl)
2025-05-22 07:49:52,311 p=58127 u=sergeylapshov n=ansible INFO| ok: [web1] => (item=gnupg)
2025-05-22 07:49:52,319 p=58127 u=sergeylapshov n=ansible INFO| TASK [Добавление ключа GPG Docker] **************************************************************************************
2025-05-22 07:49:54,893 p=58127 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 07:49:54,899 p=58127 u=sergeylapshov n=ansible INFO| TASK [Добавление репозитория Docker] ************************************************************************************
2025-05-22 07:51:06,893 p=58127 u=sergeylapshov n=ansible WARNING| [WARNING]: Failed to update cache after 1 due to W:https://download.docker.com/linux/ubuntu/dists/jammy/InRelease: Key
is stored in legacy trusted.gpg keyring (/etc/apt/trusted.gpg), see the DEPRECATION section in apt-key(8) for details.,
E:Release file for http://ports.ubuntu.com/ubuntu-ports/dists/jammy-updates/InRelease is not valid yet (invalid for
another 9h 21min 0s). Updates for this repository will not be applied., E:Release file for
http://ports.ubuntu.com/ubuntu-ports/dists/jammy-backports/InRelease is not valid yet (invalid for another 9h 24min
18s). Updates for this repository will not be applied., E:Release file for http://ports.ubuntu.com/ubuntu-
ports/dists/jammy-security/InRelease is not valid yet (invalid for another 9h 18min 24s). Updates for this repository
will not be applied. retry, retrying

2025-05-22 07:51:06,894 p=58127 u=sergeylapshov n=ansible WARNING| [WARNING]: Sleeping for 1 seconds, before attempting to update the cache again

2025-05-22 07:51:06,895 p=58127 u=sergeylapshov n=ansible WARNING| [WARNING]: Failed to update cache after 2 due to W:https://download.docker.com/linux/ubuntu/dists/jammy/InRelease: Key
is stored in legacy trusted.gpg keyring (/etc/apt/trusted.gpg), see the DEPRECATION section in apt-key(8) for details.,
E:Release file for http://ports.ubuntu.com/ubuntu-ports/dists/jammy-updates/InRelease is not valid yet (invalid for
another 9h 20min 51s). Updates for this repository will not be applied., E:Release file for
http://ports.ubuntu.com/ubuntu-ports/dists/jammy-backports/InRelease is not valid yet (invalid for another 9h 24min 9s).
Updates for this repository will not be applied., E:Release file for http://ports.ubuntu.com/ubuntu-ports/dists/jammy-
security/InRelease is not valid yet (invalid for another 9h 18min 15s). Updates for this repository will not be applied.
retry, retrying

2025-05-22 07:51:06,895 p=58127 u=sergeylapshov n=ansible WARNING| [WARNING]: Sleeping for 2 seconds, before attempting to update the cache again

2025-05-22 07:51:06,895 p=58127 u=sergeylapshov n=ansible WARNING| [WARNING]: Failed to update cache after 3 due to W:https://download.docker.com/linux/ubuntu/dists/jammy/InRelease: Key
is stored in legacy trusted.gpg keyring (/etc/apt/trusted.gpg), see the DEPRECATION section in apt-key(8) for details.,
E:Release file for http://ports.ubuntu.com/ubuntu-ports/dists/jammy-updates/InRelease is not valid yet (invalid for
another 9h 20min 41s). Updates for this repository will not be applied., E:Release file for
http://ports.ubuntu.com/ubuntu-ports/dists/jammy-backports/InRelease is not valid yet (invalid for another 9h 23min
59s). Updates for this repository will not be applied., E:Release file for http://ports.ubuntu.com/ubuntu-
ports/dists/jammy-security/InRelease is not valid yet (invalid for another 9h 18min 5s). Updates for this repository
will not be applied. retry, retrying

2025-05-22 07:51:06,895 p=58127 u=sergeylapshov n=ansible WARNING| [WARNING]: Sleeping for 4 seconds, before attempting to update the cache again

2025-05-22 07:51:06,895 p=58127 u=sergeylapshov n=ansible WARNING| [WARNING]: Failed to update cache after 4 due to W:https://download.docker.com/linux/ubuntu/dists/jammy/InRelease: Key
is stored in legacy trusted.gpg keyring (/etc/apt/trusted.gpg), see the DEPRECATION section in apt-key(8) for details.,
E:Release file for http://ports.ubuntu.com/ubuntu-ports/dists/jammy-updates/InRelease is not valid yet (invalid for
another 9h 20min 28s). Updates for this repository will not be applied., E:Release file for
http://ports.ubuntu.com/ubuntu-ports/dists/jammy-backports/InRelease is not valid yet (invalid for another 9h 23min
43s). Updates for this repository will not be applied., E:Release file for http://ports.ubuntu.com/ubuntu-
ports/dists/jammy-security/InRelease is not valid yet (invalid for another 9h 17min 49s). Updates for this repository
will not be applied. retry, retrying

2025-05-22 07:51:06,895 p=58127 u=sergeylapshov n=ansible WARNING| [WARNING]: Sleeping for 8 seconds, before attempting to update the cache again

2025-05-22 07:51:06,895 p=58127 u=sergeylapshov n=ansible WARNING| [WARNING]: Failed to update cache after 5 due to W:https://download.docker.com/linux/ubuntu/dists/jammy/InRelease: Key
is stored in legacy trusted.gpg keyring (/etc/apt/trusted.gpg), see the DEPRECATION section in apt-key(8) for details.,
E:Release file for http://ports.ubuntu.com/ubuntu-ports/dists/jammy-updates/InRelease is not valid yet (invalid for
another 9h 20min 9s). Updates for this repository will not be applied., E:Release file for
http://ports.ubuntu.com/ubuntu-ports/dists/jammy-backports/InRelease is not valid yet (invalid for another 9h 23min
26s). Updates for this repository will not be applied., E:Release file for http://ports.ubuntu.com/ubuntu-
ports/dists/jammy-security/InRelease is not valid yet (invalid for another 9h 17min 32s). Updates for this repository
will not be applied. retry, retrying

2025-05-22 07:51:06,895 p=58127 u=sergeylapshov n=ansible WARNING| [WARNING]: Sleeping for 12 seconds, before attempting to update the cache again

2025-05-22 07:51:06,896 p=58127 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "msg": "Failed to update apt cache after 5 retries: W:https://download.docker.com/linux/ubuntu/dists/jammy/InRelease: Key is stored in legacy trusted.gpg keyring (/etc/apt/trusted.gpg), see the DEPRECATION section in apt-key(8) for details., E:Release file for http://ports.ubuntu.com/ubuntu-ports/dists/jammy-updates/InRelease is not valid yet (invalid for another 9h 20min 9s). Updates for this repository will not be applied., E:Release file for http://ports.ubuntu.com/ubuntu-ports/dists/jammy-backports/InRelease is not valid yet (invalid for another 9h 23min 26s). Updates for this repository will not be applied., E:Release file for http://ports.ubuntu.com/ubuntu-ports/dists/jammy-security/InRelease is not valid yet (invalid for another 9h 17min 32s). Updates for this repository will not be applied."}
2025-05-22 07:51:06,896 p=58127 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 07:51:06,896 p=58127 u=sergeylapshov n=ansible INFO| web1                       : ok=3    changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 07:52:24,484 p=58769 u=sergeylapshov n=ansible INFO| PLAY [Установка зависимостей] *******************************************************************************************
2025-05-22 07:52:24,490 p=58769 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 07:52:25,969 p=58769 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 07:52:25,969 p=58769 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 07:52:25,973 p=58769 u=sergeylapshov n=ansible INFO| TASK [Установка необходимых пакетов] ************************************************************************************
2025-05-22 07:52:27,882 p=58769 u=sergeylapshov n=ansible INFO| ok: [web1] => (item=apt-transport-https)
2025-05-22 07:52:28,761 p=58769 u=sergeylapshov n=ansible INFO| ok: [web1] => (item=ca-certificates)
2025-05-22 07:52:29,596 p=58769 u=sergeylapshov n=ansible INFO| ok: [web1] => (item=curl)
2025-05-22 07:52:30,421 p=58769 u=sergeylapshov n=ansible INFO| ok: [web1] => (item=gnupg)
2025-05-22 07:52:30,429 p=58769 u=sergeylapshov n=ansible INFO| TASK [Добавление ключа GPG Docker] **************************************************************************************
2025-05-22 07:52:32,475 p=58769 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 07:52:32,481 p=58769 u=sergeylapshov n=ansible INFO| TASK [Добавление репозитория Docker] ************************************************************************************
2025-05-22 07:52:32,949 p=58769 u=sergeylapshov n=ansible INFO| An exception occurred during task execution. To see the full traceback, use -vvv. The error was: apt_pkg.Error: E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read.
2025-05-22 07:52:32,950 p=58769 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "module_stderr": "Shared connection to 10.37.129.5 closed.\r\n", "module_stdout": "Traceback (most recent call last):\r\n  File \"/home/vagrant/.ansible/tmp/ansible-tmp-1747889552.511159-58846-137696193815004/AnsiballZ_apt_repository.py\", line 107, in <module>\r\n    _ansiballz_main()\r\n  File \"/home/vagrant/.ansible/tmp/ansible-tmp-1747889552.511159-58846-137696193815004/AnsiballZ_apt_repository.py\", line 99, in _ansiballz_main\r\n    invoke_module(zipped_mod, temp_path, ANSIBALLZ_PARAMS)\r\n  File \"/home/vagrant/.ansible/tmp/ansible-tmp-1747889552.511159-58846-137696193815004/AnsiballZ_apt_repository.py\", line 47, in invoke_module\r\n    runpy.run_module(mod_name='ansible.modules.apt_repository', init_globals=dict(_module_fqn='ansible.modules.apt_repository', _modlib_path=modlib_path),\r\n  File \"/usr/lib/python3.10/runpy.py\", line 224, in run_module\r\n    return _run_module_code(code, init_globals, run_name, mod_spec)\r\n  File \"/usr/lib/python3.10/runpy.py\", line 96, in _run_module_code\r\n    _run_code(code, mod_globals, init_globals,\r\n  File \"/usr/lib/python3.10/runpy.py\", line 86, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/tmp/ansible_apt_repository_payload_yo13tdl9/ansible_apt_repository_payload.zip/ansible/modules/apt_repository.py\", line 782, in <module>\r\n  File \"/tmp/ansible_apt_repository_payload_yo13tdl9/ansible_apt_repository_payload.zip/ansible/modules/apt_repository.py\", line 748, in main\r\n  File \"/usr/lib/python3/dist-packages/apt/cache.py\", line 152, in __init__\r\n    self.open(progress)\r\n  File \"/usr/lib/python3/dist-packages/apt/cache.py\", line 214, in open\r\n    self._cache = apt_pkg.Cache(progress)\r\napt_pkg.Error: E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read.\r\n", "msg": "MODULE FAILURE: No start of json char found\nSee stdout/stderr for the exact error", "rc": 1}
2025-05-22 07:52:32,952 p=58769 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 07:52:32,952 p=58769 u=sergeylapshov n=ansible INFO| web1                       : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 07:52:53,373 p=59047 u=sergeylapshov n=ansible INFO| PLAY [Установка зависимостей] *******************************************************************************************
2025-05-22 07:52:53,379 p=59047 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 07:52:54,498 p=59047 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 07:52:54,498 p=59047 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 07:52:54,502 p=59047 u=sergeylapshov n=ansible INFO| TASK [Установка необходимых пакетов] ************************************************************************************
2025-05-22 07:52:54,910 p=59047 u=sergeylapshov n=ansible INFO| failed: [web1] (item=apt-transport-https) => {"ansible_loop_var": "item", "changed": false, "item": "apt-transport-https", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:52:55,203 p=59047 u=sergeylapshov n=ansible INFO| failed: [web1] (item=ca-certificates) => {"ansible_loop_var": "item", "changed": false, "item": "ca-certificates", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:52:55,508 p=59047 u=sergeylapshov n=ansible INFO| failed: [web1] (item=curl) => {"ansible_loop_var": "item", "changed": false, "item": "curl", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:52:55,807 p=59047 u=sergeylapshov n=ansible INFO| failed: [web1] (item=gnupg) => {"ansible_loop_var": "item", "changed": false, "item": "gnupg", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:52:55,810 p=59047 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 07:52:55,811 p=59047 u=sergeylapshov n=ansible INFO| web1                       : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 07:53:16,117 p=59282 u=sergeylapshov n=ansible INFO| PLAY [Установка зависимостей] *******************************************************************************************
2025-05-22 07:53:16,121 p=59282 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 07:53:17,238 p=59282 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 07:53:17,238 p=59282 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 07:53:17,242 p=59282 u=sergeylapshov n=ansible INFO| TASK [Установка необходимых пакетов] ************************************************************************************
2025-05-22 07:53:17,637 p=59282 u=sergeylapshov n=ansible INFO| failed: [web1] (item=apt-transport-https) => {"ansible_loop_var": "item", "changed": false, "item": "apt-transport-https", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:53:17,941 p=59282 u=sergeylapshov n=ansible INFO| failed: [web1] (item=ca-certificates) => {"ansible_loop_var": "item", "changed": false, "item": "ca-certificates", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:53:18,246 p=59282 u=sergeylapshov n=ansible INFO| failed: [web1] (item=curl) => {"ansible_loop_var": "item", "changed": false, "item": "curl", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:53:18,559 p=59282 u=sergeylapshov n=ansible INFO| failed: [web1] (item=gnupg) => {"ansible_loop_var": "item", "changed": false, "item": "gnupg", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:53:18,562 p=59282 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 07:53:18,562 p=59282 u=sergeylapshov n=ansible INFO| web1                       : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 07:53:58,844 p=59580 u=sergeylapshov n=ansible INFO| PLAY [Установка зависимостей] *******************************************************************************************
2025-05-22 07:53:58,848 p=59580 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 07:53:59,953 p=59580 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 07:53:59,953 p=59580 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 07:53:59,957 p=59580 u=sergeylapshov n=ansible INFO| TASK [Установка необходимых пакетов] ************************************************************************************
2025-05-22 07:54:00,368 p=59580 u=sergeylapshov n=ansible INFO| failed: [web1] (item=apt-transport-https) => {"ansible_loop_var": "item", "changed": false, "item": "apt-transport-https", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:54:00,678 p=59580 u=sergeylapshov n=ansible INFO| failed: [web1] (item=ca-certificates) => {"ansible_loop_var": "item", "changed": false, "item": "ca-certificates", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:54:00,974 p=59580 u=sergeylapshov n=ansible INFO| failed: [web1] (item=curl) => {"ansible_loop_var": "item", "changed": false, "item": "curl", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:54:01,285 p=59580 u=sergeylapshov n=ansible INFO| failed: [web1] (item=gnupg) => {"ansible_loop_var": "item", "changed": false, "item": "gnupg", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:54:01,288 p=59580 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 07:54:01,289 p=59580 u=sergeylapshov n=ansible INFO| web1                       : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 07:54:32,114 p=59853 u=sergeylapshov n=ansible INFO| PLAY [Установка зависимостей] *******************************************************************************************
2025-05-22 07:54:32,119 p=59853 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 07:54:33,233 p=59853 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 07:54:33,234 p=59853 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 07:54:33,237 p=59853 u=sergeylapshov n=ansible INFO| TASK [Установка необходимых пакетов] ************************************************************************************
2025-05-22 07:54:33,632 p=59853 u=sergeylapshov n=ansible INFO| failed: [web1] (item=apt-transport-https) => {"ansible_loop_var": "item", "changed": false, "item": "apt-transport-https", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:54:33,923 p=59853 u=sergeylapshov n=ansible INFO| failed: [web1] (item=ca-certificates) => {"ansible_loop_var": "item", "changed": false, "item": "ca-certificates", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:54:34,234 p=59853 u=sergeylapshov n=ansible INFO| failed: [web1] (item=curl) => {"ansible_loop_var": "item", "changed": false, "item": "curl", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:54:34,539 p=59853 u=sergeylapshov n=ansible INFO| failed: [web1] (item=gnupg) => {"ansible_loop_var": "item", "changed": false, "item": "gnupg", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:54:34,543 p=59853 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 07:54:34,543 p=59853 u=sergeylapshov n=ansible INFO| web1                       : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 07:55:04,130 p=60126 u=sergeylapshov n=ansible INFO| PLAY [Установка зависимостей] *******************************************************************************************
2025-05-22 07:55:04,136 p=60126 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 07:55:05,262 p=60126 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 07:55:05,262 p=60126 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 07:55:05,266 p=60126 u=sergeylapshov n=ansible INFO| TASK [Установка необходимых пакетов] ************************************************************************************
2025-05-22 07:55:05,689 p=60126 u=sergeylapshov n=ansible INFO| failed: [web1] (item=apt-transport-https) => {"ansible_loop_var": "item", "changed": false, "item": "apt-transport-https", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:55:05,997 p=60126 u=sergeylapshov n=ansible INFO| failed: [web1] (item=ca-certificates) => {"ansible_loop_var": "item", "changed": false, "item": "ca-certificates", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:55:06,306 p=60126 u=sergeylapshov n=ansible INFO| failed: [web1] (item=curl) => {"ansible_loop_var": "item", "changed": false, "item": "curl", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:55:06,601 p=60126 u=sergeylapshov n=ansible INFO| failed: [web1] (item=gnupg) => {"ansible_loop_var": "item", "changed": false, "item": "gnupg", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:55:06,604 p=60126 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 07:55:06,605 p=60126 u=sergeylapshov n=ansible INFO| web1                       : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 07:55:19,771 p=60349 u=sergeylapshov n=ansible INFO| PLAY [Установка зависимостей] *******************************************************************************************
2025-05-22 07:55:19,775 p=60349 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 07:55:20,876 p=60349 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 07:55:20,876 p=60349 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 07:55:20,880 p=60349 u=sergeylapshov n=ansible INFO| TASK [Установка необходимых пакетов] ************************************************************************************
2025-05-22 07:55:21,296 p=60349 u=sergeylapshov n=ansible INFO| failed: [web1] (item=apt-transport-https) => {"ansible_loop_var": "item", "changed": false, "item": "apt-transport-https", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:55:21,607 p=60349 u=sergeylapshov n=ansible INFO| failed: [web1] (item=ca-certificates) => {"ansible_loop_var": "item", "changed": false, "item": "ca-certificates", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:55:21,917 p=60349 u=sergeylapshov n=ansible INFO| failed: [web1] (item=curl) => {"ansible_loop_var": "item", "changed": false, "item": "curl", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:55:22,221 p=60349 u=sergeylapshov n=ansible INFO| failed: [web1] (item=gnupg) => {"ansible_loop_var": "item", "changed": false, "item": "gnupg", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:55:22,224 p=60349 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 07:55:22,225 p=60349 u=sergeylapshov n=ansible INFO| web1                       : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 07:57:52,355 p=60930 u=sergeylapshov n=ansible INFO| PLAY [Установка зависимостей] *******************************************************************************************
2025-05-22 07:57:52,362 p=60930 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 07:57:53,975 p=60930 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 07:57:53,975 p=60930 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 07:57:53,979 p=60930 u=sergeylapshov n=ansible INFO| TASK [Установка необходимых пакетов] ************************************************************************************
2025-05-22 07:57:54,390 p=60930 u=sergeylapshov n=ansible INFO| failed: [web1] (item=apt-transport-https) => {"ansible_loop_var": "item", "changed": false, "item": "apt-transport-https", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:57:54,702 p=60930 u=sergeylapshov n=ansible INFO| failed: [web1] (item=ca-certificates) => {"ansible_loop_var": "item", "changed": false, "item": "ca-certificates", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:57:55,018 p=60930 u=sergeylapshov n=ansible INFO| failed: [web1] (item=curl) => {"ansible_loop_var": "item", "changed": false, "item": "curl", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:57:55,326 p=60930 u=sergeylapshov n=ansible INFO| failed: [web1] (item=gnupg) => {"ansible_loop_var": "item", "changed": false, "item": "gnupg", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:57:55,330 p=60930 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 07:57:55,330 p=60930 u=sergeylapshov n=ansible INFO| web1                       : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 07:59:24,980 p=61363 u=sergeylapshov n=ansible INFO| PLAY [Установка зависимостей] *******************************************************************************************
2025-05-22 07:59:24,986 p=61363 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 07:59:26,423 p=61363 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 07:59:26,423 p=61363 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 07:59:26,427 p=61363 u=sergeylapshov n=ansible INFO| TASK [Установка необходимых пакетов] ************************************************************************************
2025-05-22 07:59:26,855 p=61363 u=sergeylapshov n=ansible INFO| failed: [web1] (item=apt-transport-https) => {"ansible_loop_var": "item", "changed": false, "item": "apt-transport-https", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:59:27,170 p=61363 u=sergeylapshov n=ansible INFO| failed: [web1] (item=ca-certificates) => {"ansible_loop_var": "item", "changed": false, "item": "ca-certificates", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:59:27,475 p=61363 u=sergeylapshov n=ansible INFO| failed: [web1] (item=curl) => {"ansible_loop_var": "item", "changed": false, "item": "curl", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:59:27,778 p=61363 u=sergeylapshov n=ansible INFO| failed: [web1] (item=gnupg) => {"ansible_loop_var": "item", "changed": false, "item": "gnupg", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:59:28,086 p=61363 u=sergeylapshov n=ansible INFO| failed: [web1] (item=lsb-release) => {"ansible_loop_var": "item", "changed": false, "item": "lsb-release", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:59:28,088 p=61363 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 07:59:28,088 p=61363 u=sergeylapshov n=ansible INFO| web1                       : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 07:59:47,239 p=61614 u=sergeylapshov n=ansible INFO| PLAY [Установка зависимостей] *******************************************************************************************
2025-05-22 07:59:47,243 p=61614 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 07:59:48,329 p=61614 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 07:59:48,329 p=61614 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 07:59:48,333 p=61614 u=sergeylapshov n=ansible INFO| TASK [Установка необходимых пакетов] ************************************************************************************
2025-05-22 07:59:48,743 p=61614 u=sergeylapshov n=ansible INFO| failed: [web1] (item=apt-transport-https) => {"ansible_loop_var": "item", "changed": false, "item": "apt-transport-https", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:59:49,043 p=61614 u=sergeylapshov n=ansible INFO| failed: [web1] (item=ca-certificates) => {"ansible_loop_var": "item", "changed": false, "item": "ca-certificates", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:59:49,340 p=61614 u=sergeylapshov n=ansible INFO| failed: [web1] (item=curl) => {"ansible_loop_var": "item", "changed": false, "item": "curl", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:59:49,641 p=61614 u=sergeylapshov n=ansible INFO| failed: [web1] (item=gnupg) => {"ansible_loop_var": "item", "changed": false, "item": "gnupg", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:59:49,937 p=61614 u=sergeylapshov n=ansible INFO| failed: [web1] (item=lsb-release) => {"ansible_loop_var": "item", "changed": false, "item": "lsb-release", "msg": "E:Malformed entry 1 in list file /etc/apt/sources.list.d/download_docker_com_linux_ubuntu.list (Component), E:The list of sources could not be read."}
2025-05-22 07:59:49,939 p=61614 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 07:59:49,939 p=61614 u=sergeylapshov n=ansible INFO| web1                       : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 08:00:23,531 p=61892 u=sergeylapshov n=ansible INFO| PLAY [Установка зависимостей] *******************************************************************************************
2025-05-22 08:00:23,537 p=61892 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 08:00:24,641 p=61892 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 08:00:24,641 p=61892 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 08:00:24,645 p=61892 u=sergeylapshov n=ansible INFO| TASK [Установка необходимых пакетов] ************************************************************************************
2025-05-22 08:00:25,583 p=61892 u=sergeylapshov n=ansible INFO| ok: [web1] => (item=apt-transport-https)
2025-05-22 08:00:26,419 p=61892 u=sergeylapshov n=ansible INFO| ok: [web1] => (item=ca-certificates)
2025-05-22 08:00:27,217 p=61892 u=sergeylapshov n=ansible INFO| ok: [web1] => (item=curl)
2025-05-22 08:00:27,964 p=61892 u=sergeylapshov n=ansible INFO| ok: [web1] => (item=gnupg)
2025-05-22 08:00:28,788 p=61892 u=sergeylapshov n=ansible INFO| ok: [web1] => (item=lsb-release)
2025-05-22 08:00:28,794 p=61892 u=sergeylapshov n=ansible INFO| TASK [Добавление ключа GPG Docker] **************************************************************************************
2025-05-22 08:00:30,775 p=61892 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 08:00:30,779 p=61892 u=sergeylapshov n=ansible INFO| TASK [Добавление репозитория Docker] ************************************************************************************
2025-05-22 08:01:40,852 p=61892 u=sergeylapshov n=ansible WARNING| [WARNING]: Failed to update cache after 1 due to W:https://download.docker.com/linux/ubuntu/dists/focal/InRelease: Key
is stored in legacy trusted.gpg keyring (/etc/apt/trusted.gpg), see the DEPRECATION section in apt-key(8) for details.,
E:Release file for http://ports.ubuntu.com/ubuntu-ports/dists/jammy-updates/InRelease is not valid yet (invalid for
another 9h 10min 23s). Updates for this repository will not be applied., E:Release file for
http://ports.ubuntu.com/ubuntu-ports/dists/jammy-backports/InRelease is not valid yet (invalid for another 9h 13min
41s). Updates for this repository will not be applied., E:Release file for http://ports.ubuntu.com/ubuntu-
ports/dists/jammy-security/InRelease is not valid yet (invalid for another 10h 6min 4s). Updates for this repository
will not be applied. retry, retrying

2025-05-22 08:01:40,852 p=61892 u=sergeylapshov n=ansible WARNING| [WARNING]: Sleeping for 1 seconds, before attempting to update the cache again

2025-05-22 08:01:40,852 p=61892 u=sergeylapshov n=ansible WARNING| [WARNING]: Failed to update cache after 2 due to W:https://download.docker.com/linux/ubuntu/dists/focal/InRelease: Key
is stored in legacy trusted.gpg keyring (/etc/apt/trusted.gpg), see the DEPRECATION section in apt-key(8) for details.,
E:Release file for http://ports.ubuntu.com/ubuntu-ports/dists/jammy-security/InRelease is not valid yet (invalid for
another 9h 7min 40s). Updates for this repository will not be applied., E:Release file for
http://ports.ubuntu.com/ubuntu-ports/dists/jammy-updates/InRelease is not valid yet (invalid for another 9h 10min 13s).
Updates for this repository will not be applied., E:Release file for http://ports.ubuntu.com/ubuntu-ports/dists/jammy-
backports/InRelease is not valid yet (invalid for another 9h 13min 31s). Updates for this repository will not be
applied. retry, retrying

2025-05-22 08:01:40,853 p=61892 u=sergeylapshov n=ansible WARNING| [WARNING]: Sleeping for 2 seconds, before attempting to update the cache again

2025-05-22 08:01:40,853 p=61892 u=sergeylapshov n=ansible WARNING| [WARNING]: Failed to update cache after 3 due to W:https://download.docker.com/linux/ubuntu/dists/focal/InRelease: Key
is stored in legacy trusted.gpg keyring (/etc/apt/trusted.gpg), see the DEPRECATION section in apt-key(8) for details.,
E:Release file for http://ports.ubuntu.com/ubuntu-ports/dists/jammy-security/InRelease is not valid yet (invalid for
another 10h 5min 47s). Updates for this repository will not be applied., E:Release file for
http://ports.ubuntu.com/ubuntu-ports/dists/jammy-updates/InRelease is not valid yet (invalid for another 9h 10min 3s).
Updates for this repository will not be applied., E:Release file for http://ports.ubuntu.com/ubuntu-ports/dists/jammy-
backports/InRelease is not valid yet (invalid for another 9h 13min 21s). Updates for this repository will not be
applied. retry, retrying

2025-05-22 08:01:40,853 p=61892 u=sergeylapshov n=ansible WARNING| [WARNING]: Sleeping for 4 seconds, before attempting to update the cache again

2025-05-22 08:01:40,853 p=61892 u=sergeylapshov n=ansible WARNING| [WARNING]: Failed to update cache after 4 due to W:https://download.docker.com/linux/ubuntu/dists/focal/InRelease: Key
is stored in legacy trusted.gpg keyring (/etc/apt/trusted.gpg), see the DEPRECATION section in apt-key(8) for details.,
E:Release file for http://ports.ubuntu.com/ubuntu-ports/dists/jammy-updates/InRelease is not valid yet (invalid for
another 9h 9min 51s). Updates for this repository will not be applied., E:Release file for
http://ports.ubuntu.com/ubuntu-ports/dists/jammy-backports/InRelease is not valid yet (invalid for another 9h 13min 9s).
Updates for this repository will not be applied., E:Release file for http://ports.ubuntu.com/ubuntu-ports/dists/jammy-
security/InRelease is not valid yet (invalid for another 10h 5min 32s). Updates for this repository will not be applied.
retry, retrying

2025-05-22 08:01:40,853 p=61892 u=sergeylapshov n=ansible WARNING| [WARNING]: Sleeping for 8 seconds, before attempting to update the cache again

2025-05-22 08:01:40,853 p=61892 u=sergeylapshov n=ansible WARNING| [WARNING]: Failed to update cache after 5 due to W:https://download.docker.com/linux/ubuntu/dists/focal/InRelease: Key
is stored in legacy trusted.gpg keyring (/etc/apt/trusted.gpg), see the DEPRECATION section in apt-key(8) for details.,
E:Release file for http://ports.ubuntu.com/ubuntu-ports/dists/jammy-updates/InRelease is not valid yet (invalid for
another 9h 9min 35s). Updates for this repository will not be applied., E:Release file for
http://ports.ubuntu.com/ubuntu-ports/dists/jammy-backports/InRelease is not valid yet (invalid for another 9h 12min
53s). Updates for this repository will not be applied., E:Release file for http://ports.ubuntu.com/ubuntu-
ports/dists/jammy-security/InRelease is not valid yet (invalid for another 10h 5min 16s). Updates for this repository
will not be applied. retry, retrying

2025-05-22 08:01:40,853 p=61892 u=sergeylapshov n=ansible WARNING| [WARNING]: Sleeping for 12 seconds, before attempting to update the cache again

2025-05-22 08:01:40,853 p=61892 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "msg": "Failed to update apt cache after 5 retries: W:https://download.docker.com/linux/ubuntu/dists/focal/InRelease: Key is stored in legacy trusted.gpg keyring (/etc/apt/trusted.gpg), see the DEPRECATION section in apt-key(8) for details., E:Release file for http://ports.ubuntu.com/ubuntu-ports/dists/jammy-updates/InRelease is not valid yet (invalid for another 9h 9min 35s). Updates for this repository will not be applied., E:Release file for http://ports.ubuntu.com/ubuntu-ports/dists/jammy-backports/InRelease is not valid yet (invalid for another 9h 12min 53s). Updates for this repository will not be applied., E:Release file for http://ports.ubuntu.com/ubuntu-ports/dists/jammy-security/InRelease is not valid yet (invalid for another 10h 5min 16s). Updates for this repository will not be applied."}
2025-05-22 08:01:40,854 p=61892 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 08:01:40,854 p=61892 u=sergeylapshov n=ansible INFO| web1                       : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 08:04:07,720 p=62712 u=sergeylapshov n=ansible INFO| PLAY [Установка зависимостей] *******************************************************************************************
2025-05-22 08:04:07,727 p=62712 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 08:04:09,221 p=62712 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 08:04:09,221 p=62712 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 08:04:09,224 p=62712 u=sergeylapshov n=ansible INFO| TASK [Установка необходимых пакетов] ************************************************************************************
2025-05-22 08:04:10,205 p=62712 u=sergeylapshov n=ansible INFO| ok: [web1] => (item=apt-transport-https)
2025-05-22 08:04:11,058 p=62712 u=sergeylapshov n=ansible INFO| ok: [web1] => (item=ca-certificates)
2025-05-22 08:04:11,906 p=62712 u=sergeylapshov n=ansible INFO| ok: [web1] => (item=curl)
2025-05-22 08:04:12,754 p=62712 u=sergeylapshov n=ansible INFO| ok: [web1] => (item=gnupg)
2025-05-22 08:04:13,585 p=62712 u=sergeylapshov n=ansible INFO| ok: [web1] => (item=lsb-release)
2025-05-22 08:04:13,592 p=62712 u=sergeylapshov n=ansible INFO| TASK [Добавление ключа GPG Docker] **************************************************************************************
2025-05-22 08:04:15,516 p=62712 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 08:04:15,522 p=62712 u=sergeylapshov n=ansible INFO| TASK [Добавление репозитория Docker] ************************************************************************************
2025-05-22 08:04:29,687 p=62712 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 08:04:29,697 p=62712 u=sergeylapshov n=ansible INFO| TASK [Установка Docker и зависимостей] **********************************************************************************
2025-05-22 08:04:35,573 p=62712 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "msg": "No package matching 'docker-ce' is available"}
2025-05-22 08:04:35,574 p=62712 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 08:04:35,574 p=62712 u=sergeylapshov n=ansible INFO| web1                       : ok=4    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 08:05:48,632 p=63205 u=sergeylapshov n=ansible INFO| PLAY [Установка зависимостей] *******************************************************************************************
2025-05-22 08:05:48,639 p=63205 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 08:05:50,117 p=63205 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 08:05:50,117 p=63205 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 08:05:50,121 p=63205 u=sergeylapshov n=ansible INFO| TASK [Установка необходимых пакетов] ************************************************************************************
2025-05-22 08:05:51,940 p=63205 u=sergeylapshov n=ansible INFO| ok: [web1] => (item=apt-transport-https)
2025-05-22 08:05:52,796 p=63205 u=sergeylapshov n=ansible INFO| ok: [web1] => (item=ca-certificates)
2025-05-22 08:05:53,666 p=63205 u=sergeylapshov n=ansible INFO| ok: [web1] => (item=curl)
2025-05-22 08:05:54,496 p=63205 u=sergeylapshov n=ansible INFO| ok: [web1] => (item=gnupg)
2025-05-22 08:05:55,338 p=63205 u=sergeylapshov n=ansible INFO| ok: [web1] => (item=lsb-release)
2025-05-22 08:05:55,346 p=63205 u=sergeylapshov n=ansible INFO| TASK [Добавление ключа GPG Docker] **************************************************************************************
2025-05-22 08:05:57,356 p=63205 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 08:05:57,363 p=63205 u=sergeylapshov n=ansible INFO| TASK [Добавление репозитория Docker] ************************************************************************************
2025-05-22 08:06:03,022 p=63205 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 08:06:03,032 p=63205 u=sergeylapshov n=ansible INFO| TASK [Установка Docker и зависимостей] **********************************************************************************
2025-05-22 08:06:40,794 p=63205 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 08:06:40,800 p=63205 u=sergeylapshov n=ansible INFO| TASK [Запуск и включение Docker] ****************************************************************************************
2025-05-22 08:06:41,376 p=63205 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 08:06:41,381 p=63205 u=sergeylapshov n=ansible INFO| TASK [Проверка версии Docker] *******************************************************************************************
2025-05-22 08:06:41,723 p=63205 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 08:06:41,724 p=63205 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 08:06:41,724 p=63205 u=sergeylapshov n=ansible INFO| web1                       : ok=7    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-05-22 08:16:52,040 p=65559 u=sergeylapshov n=ansible INFO| Starting galaxy collection install process
2025-05-22 08:16:52,188 p=65559 u=sergeylapshov n=ansible INFO| Nothing to do. All requested collections are already installed. If you want to reinstall them, consider using `--force`.
2025-05-22 08:17:03,309 p=65750 u=sergeylapshov n=ansible INFO| Starting galaxy collection install process
2025-05-22 08:17:03,407 p=65750 u=sergeylapshov n=ansible INFO| Process install dependency map
2025-05-22 08:17:03,408 p=65750 u=sergeylapshov n=ansible INFO| |
2025-05-22 08:17:03,513 p=65750 u=sergeylapshov n=ansible INFO| /
2025-05-22 08:17:03,618 p=65750 u=sergeylapshov n=ansible INFO| -
2025-05-22 08:17:03,719 p=65750 u=sergeylapshov n=ansible INFO| \
2025-05-22 08:17:03,823 p=65750 u=sergeylapshov n=ansible INFO| |
2025-05-22 08:17:03,928 p=65750 u=sergeylapshov n=ansible INFO| /
2025-05-22 08:17:04,032 p=65750 u=sergeylapshov n=ansible INFO| -
2025-05-22 08:17:04,137 p=65750 u=sergeylapshov n=ansible INFO| \
2025-05-22 08:17:04,242 p=65750 u=sergeylapshov n=ansible INFO| |
2025-05-22 08:17:04,347 p=65750 u=sergeylapshov n=ansible INFO| /
2025-05-22 08:17:04,449 p=65750 u=sergeylapshov n=ansible INFO| -
2025-05-22 08:17:04,550 p=65750 u=sergeylapshov n=ansible INFO| \
2025-05-22 08:17:04,655 p=65750 u=sergeylapshov n=ansible INFO| |
2025-05-22 08:17:04,756 p=65750 u=sergeylapshov n=ansible INFO| /
2025-05-22 08:17:04,859 p=65750 u=sergeylapshov n=ansible INFO| -
2025-05-22 08:17:04,963 p=65750 u=sergeylapshov n=ansible INFO| \
2025-05-22 08:17:05,066 p=65750 u=sergeylapshov n=ansible INFO| |
2025-05-22 08:17:05,171 p=65750 u=sergeylapshov n=ansible INFO| /
2025-05-22 08:17:05,274 p=65750 u=sergeylapshov n=ansible INFO| -
2025-05-22 08:17:05,374 p=65750 u=sergeylapshov n=ansible INFO| \
2025-05-22 08:17:05,480 p=65750 u=sergeylapshov n=ansible INFO| |
2025-05-22 08:17:05,582 p=65750 u=sergeylapshov n=ansible INFO| /
2025-05-22 08:17:05,685 p=65750 u=sergeylapshov n=ansible INFO| -
2025-05-22 08:17:05,790 p=65750 u=sergeylapshov n=ansible INFO| \
2025-05-22 08:17:05,893 p=65750 u=sergeylapshov n=ansible INFO| |
2025-05-22 08:17:05,999 p=65750 u=sergeylapshov n=ansible INFO| /
2025-05-22 08:17:06,104 p=65750 u=sergeylapshov n=ansible INFO| -
2025-05-22 08:17:06,209 p=65750 u=sergeylapshov n=ansible INFO| \
2025-05-22 08:17:06,315 p=65750 u=sergeylapshov n=ansible INFO| |
2025-05-22 08:17:06,416 p=65750 u=sergeylapshov n=ansible INFO| /
2025-05-22 08:17:06,517 p=65750 u=sergeylapshov n=ansible INFO| -
2025-05-22 08:17:06,623 p=65750 u=sergeylapshov n=ansible INFO| \
2025-05-22 08:17:06,723 p=65750 u=sergeylapshov n=ansible INFO| |
2025-05-22 08:17:06,828 p=65750 u=sergeylapshov n=ansible INFO| /
2025-05-22 08:17:06,932 p=65750 u=sergeylapshov n=ansible INFO| -
2025-05-22 08:17:07,037 p=65750 u=sergeylapshov n=ansible INFO| \
2025-05-22 08:17:07,141 p=65750 u=sergeylapshov n=ansible INFO| |
2025-05-22 08:17:07,244 p=65750 u=sergeylapshov n=ansible INFO| /
2025-05-22 08:17:07,350 p=65750 u=sergeylapshov n=ansible INFO| -
2025-05-22 08:17:07,454 p=65750 u=sergeylapshov n=ansible INFO| \
2025-05-22 08:17:07,557 p=65750 u=sergeylapshov n=ansible INFO| |
2025-05-22 08:17:07,663 p=65750 u=sergeylapshov n=ansible INFO| /
2025-05-22 08:17:07,764 p=65750 u=sergeylapshov n=ansible INFO| -
2025-05-22 08:17:07,868 p=65750 u=sergeylapshov n=ansible INFO| Starting collection install process
2025-05-22 08:17:07,869 p=65750 u=sergeylapshov n=ansible INFO| |
2025-05-22 08:17:07,874 p=65750 u=sergeylapshov n=ansible INFO| Downloading https://galaxy.ansible.com/api/v3/plugin/ansible/content/published/collections/artifacts/community-docker-4.6.0.tar.gz to /Users/sergeylapshov/.ansible/tmp/ansible-local-65750_utlj3g8/tmp0axgj2rr/community-docker-4.6.0-x8b3svj3
2025-05-22 08:17:07,974 p=65750 u=sergeylapshov n=ansible INFO| /
2025-05-22 08:17:08,077 p=65750 u=sergeylapshov n=ansible INFO| -
2025-05-22 08:17:08,180 p=65750 u=sergeylapshov n=ansible INFO| \
2025-05-22 08:17:08,284 p=65750 u=sergeylapshov n=ansible INFO| |
2025-05-22 08:17:08,387 p=65750 u=sergeylapshov n=ansible INFO| /
2025-05-22 08:17:08,493 p=65750 u=sergeylapshov n=ansible INFO| -
2025-05-22 08:17:08,598 p=65750 u=sergeylapshov n=ansible INFO| \
2025-05-22 08:17:08,701 p=65750 u=sergeylapshov n=ansible INFO| |
2025-05-22 08:17:08,802 p=65750 u=sergeylapshov n=ansible INFO| /
2025-05-22 08:17:08,904 p=65750 u=sergeylapshov n=ansible INFO| -
2025-05-22 08:17:09,009 p=65750 u=sergeylapshov n=ansible INFO| \
2025-05-22 08:17:09,114 p=65750 u=sergeylapshov n=ansible INFO| |
2025-05-22 08:17:09,220 p=65750 u=sergeylapshov n=ansible INFO| /
2025-05-22 08:17:09,324 p=65750 u=sergeylapshov n=ansible INFO| -
2025-05-22 08:17:09,426 p=65750 u=sergeylapshov n=ansible INFO| \
2025-05-22 08:17:09,530 p=65750 u=sergeylapshov n=ansible INFO| |
2025-05-22 08:17:09,630 p=65750 u=sergeylapshov n=ansible INFO| /
2025-05-22 08:17:09,735 p=65750 u=sergeylapshov n=ansible INFO| -
2025-05-22 08:17:09,841 p=65750 u=sergeylapshov n=ansible INFO| \
2025-05-22 08:17:09,946 p=65750 u=sergeylapshov n=ansible INFO| |
2025-05-22 08:17:10,052 p=65750 u=sergeylapshov n=ansible INFO| /
2025-05-22 08:17:10,152 p=65750 u=sergeylapshov n=ansible INFO| -
2025-05-22 08:17:10,256 p=65750 u=sergeylapshov n=ansible INFO| \
2025-05-22 08:17:10,358 p=65750 u=sergeylapshov n=ansible INFO| |
2025-05-22 08:17:10,461 p=65750 u=sergeylapshov n=ansible INFO| /
2025-05-22 08:17:10,566 p=65750 u=sergeylapshov n=ansible INFO| -
2025-05-22 08:17:10,672 p=65750 u=sergeylapshov n=ansible INFO| \
2025-05-22 08:17:10,774 p=65750 u=sergeylapshov n=ansible INFO| |
2025-05-22 08:17:10,880 p=65750 u=sergeylapshov n=ansible INFO| /
2025-05-22 08:17:10,985 p=65750 u=sergeylapshov n=ansible INFO| -
2025-05-22 08:17:11,088 p=65750 u=sergeylapshov n=ansible INFO| \
2025-05-22 08:17:11,190 p=65750 u=sergeylapshov n=ansible INFO| |
2025-05-22 08:17:11,294 p=65750 u=sergeylapshov n=ansible INFO| /
2025-05-22 08:17:11,395 p=65750 u=sergeylapshov n=ansible INFO| -
2025-05-22 08:17:11,500 p=65750 u=sergeylapshov n=ansible INFO| \
2025-05-22 08:17:11,601 p=65750 u=sergeylapshov n=ansible INFO| |
2025-05-22 08:17:11,703 p=65750 u=sergeylapshov n=ansible INFO| /
2025-05-22 08:17:11,809 p=65750 u=sergeylapshov n=ansible INFO| -
2025-05-22 08:17:11,914 p=65750 u=sergeylapshov n=ansible INFO| \
2025-05-22 08:17:12,019 p=65750 u=sergeylapshov n=ansible INFO| |
2025-05-22 08:17:12,125 p=65750 u=sergeylapshov n=ansible INFO| /
2025-05-22 08:17:12,228 p=65750 u=sergeylapshov n=ansible INFO| -
2025-05-22 08:17:12,333 p=65750 u=sergeylapshov n=ansible INFO| \
2025-05-22 08:17:12,437 p=65750 u=sergeylapshov n=ansible INFO| |
2025-05-22 08:17:12,542 p=65750 u=sergeylapshov n=ansible INFO| /
2025-05-22 08:17:12,644 p=65750 u=sergeylapshov n=ansible INFO| -
2025-05-22 08:17:12,746 p=65750 u=sergeylapshov n=ansible INFO| \
2025-05-22 08:17:12,847 p=65750 u=sergeylapshov n=ansible INFO| |
2025-05-22 08:17:12,949 p=65750 u=sergeylapshov n=ansible INFO| /
2025-05-22 08:17:13,054 p=65750 u=sergeylapshov n=ansible INFO| -
2025-05-22 08:17:13,155 p=65750 u=sergeylapshov n=ansible INFO| \
2025-05-22 08:17:13,258 p=65750 u=sergeylapshov n=ansible INFO| |
2025-05-22 08:17:13,359 p=65750 u=sergeylapshov n=ansible INFO| /
2025-05-22 08:17:13,463 p=65750 u=sergeylapshov n=ansible INFO| -
2025-05-22 08:17:13,564 p=65750 u=sergeylapshov n=ansible INFO| \
2025-05-22 08:17:13,665 p=65750 u=sergeylapshov n=ansible INFO| |
2025-05-22 08:17:13,770 p=65750 u=sergeylapshov n=ansible INFO| /
2025-05-22 08:17:13,872 p=65750 u=sergeylapshov n=ansible INFO| -
2025-05-22 08:17:13,978 p=65750 u=sergeylapshov n=ansible INFO| \
2025-05-22 08:17:14,082 p=65750 u=sergeylapshov n=ansible INFO| |
2025-05-22 08:17:14,184 p=65750 u=sergeylapshov n=ansible INFO| /
2025-05-22 08:17:14,289 p=65750 u=sergeylapshov n=ansible INFO| -
2025-05-22 08:17:14,394 p=65750 u=sergeylapshov n=ansible INFO| \
2025-05-22 08:17:14,496 p=65750 u=sergeylapshov n=ansible INFO| |
2025-05-22 08:17:14,599 p=65750 u=sergeylapshov n=ansible INFO| /
2025-05-22 08:17:14,701 p=65750 u=sergeylapshov n=ansible INFO| -
2025-05-22 08:17:14,806 p=65750 u=sergeylapshov n=ansible INFO| \
2025-05-22 08:17:14,911 p=65750 u=sergeylapshov n=ansible INFO| |
2025-05-22 08:17:15,014 p=65750 u=sergeylapshov n=ansible INFO| /
2025-05-22 08:17:15,118 p=65750 u=sergeylapshov n=ansible INFO| -
2025-05-22 08:17:15,224 p=65750 u=sergeylapshov n=ansible INFO| \
2025-05-22 08:17:15,326 p=65750 u=sergeylapshov n=ansible INFO| |
2025-05-22 08:17:15,430 p=65750 u=sergeylapshov n=ansible INFO| /
2025-05-22 08:17:15,536 p=65750 u=sergeylapshov n=ansible INFO| -
2025-05-22 08:17:15,640 p=65750 u=sergeylapshov n=ansible INFO| \
2025-05-22 08:17:15,741 p=65750 u=sergeylapshov n=ansible INFO| Installing 'community.docker:4.6.0' to '/Users/sergeylapshov/.ansible/collections/ansible_collections/community/docker'
2025-05-22 08:17:15,741 p=65750 u=sergeylapshov n=ansible INFO| |
2025-05-22 08:17:15,846 p=65750 u=sergeylapshov n=ansible INFO| /
2025-05-22 08:17:15,947 p=65750 u=sergeylapshov n=ansible INFO| -
2025-05-22 08:17:16,049 p=65750 u=sergeylapshov n=ansible INFO| \
2025-05-22 08:17:16,153 p=65750 u=sergeylapshov n=ansible INFO| community.docker:4.6.0 was installed successfully
2025-05-22 08:17:16,153 p=65750 u=sergeylapshov n=ansible INFO| 'community.library_inventory_filtering_v1:1.1.1' is already installed, skipping.
2025-05-22 08:24:22,118 p=67163 u=sergeylapshov n=ansible INFO| PLAY [Запуск контейнера nginx] ******************************************************************************************
2025-05-22 08:24:22,151 p=67163 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 08:24:23,868 p=67163 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 08:24:23,869 p=67163 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 08:24:23,873 p=67163 u=sergeylapshov n=ansible INFO| TASK [Запуск контейнера nginx] ******************************************************************************************
2025-05-22 08:24:23,886 p=67163 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"msg": "The task includes an option with an undefined variable.. 'nginx_port' is undefined\n\nThe error appears to be in '/Users/sergeylapshov/Documents/Devops/docker/Ansible/DOCKER-ANS-02/run_nginx.yml': line 5, column 7, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n  tasks:\n    - name: Запуск контейнера nginx\n      ^ here\n"}
2025-05-22 08:24:23,886 p=67163 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 08:24:23,886 p=67163 u=sergeylapshov n=ansible INFO| web1                       : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 08:24:50,941 p=67409 u=sergeylapshov n=ansible INFO| PLAY [Запуск контейнера nginx] ******************************************************************************************
2025-05-22 08:24:50,971 p=67409 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 08:24:52,103 p=67409 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 08:24:52,103 p=67409 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 08:24:52,107 p=67409 u=sergeylapshov n=ansible INFO| TASK [Запуск контейнера nginx] ******************************************************************************************
2025-05-22 08:25:36,562 p=67409 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 08:25:36,564 p=67409 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 08:25:36,564 p=67409 u=sergeylapshov n=ansible INFO| web1                       : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-05-22 08:30:14,326 p=68453 u=sergeylapshov n=ansible ERROR| ERROR! 'uri' is not a valid attribute for a Play

The error appears to be in '/Users/sergeylapshov/Documents/Devops/docker/Ansible/DOCKER-ANS-02/run_nginx.yml': line 14, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


- name: Проверка, что контейнер запущен
  ^ here

2025-05-22 08:31:07,557 p=68742 u=sergeylapshov n=ansible INFO| PLAY [Запуск контейнера nginx] ******************************************************************************************
2025-05-22 08:31:07,564 p=68742 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 08:31:09,231 p=68742 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 08:31:09,232 p=68742 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 08:31:09,236 p=68742 u=sergeylapshov n=ansible INFO| TASK [Запуск контейнера nginx] ******************************************************************************************
2025-05-22 08:31:09,796 p=68742 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 08:31:09,807 p=68742 u=sergeylapshov n=ansible INFO| TASK [Проверка, что контейнер запущен] **********************************************************************************
2025-05-22 08:31:10,149 p=68742 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 08:31:10,154 p=68742 u=sergeylapshov n=ansible INFO| TASK [Показать результат] ***********************************************************************************************
2025-05-22 08:31:10,170 p=68742 u=sergeylapshov n=ansible INFO| ok: [web1] => {
    "result.content": "<!DOCTYPE html>\n<html>\n<head>\n<title>Welcome to nginx!</title>\n<style>\nhtml { color-scheme: light dark; }\nbody { width: 35em; margin: 0 auto;\nfont-family: Tahoma, Verdana, Arial, sans-serif; }\n</style>\n</head>\n<body>\n<h1>Welcome to nginx!</h1>\n<p>If you see this page, the nginx web server is successfully installed and\nworking. Further configuration is required.</p>\n\n<p>For online documentation and support please refer to\n<a href=\"http://nginx.org/\">nginx.org</a>.<br/>\nCommercial support is available at\n<a href=\"http://nginx.com/\">nginx.com</a>.</p>\n\n<p><em>Thank you for using nginx.</em></p>\n</body>\n</html>\n"
}
2025-05-22 08:31:10,170 p=68742 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 08:31:10,170 p=68742 u=sergeylapshov n=ansible INFO| web1                       : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-05-22 08:48:46,078 p=72727 u=sergeylapshov n=ansible ERROR| ERROR! the playbook: run_nginx.yml could not be found
2025-05-22 08:49:02,755 p=72913 u=sergeylapshov n=ansible ERROR| ERROR! [DEPRECATED]: community.docker.docker_compose has been removed. This module uses docker-compose v1, which is End of Life since July 2022. Please migrate to community.docker.docker_compose_v2. This feature was removed from community.docker in version 4.0.0. Please update your playbooks.

The error appears to be in '/Users/sergeylapshov/Documents/Devops/docker/Ansible/DOCKER-ANS-03/deploy_compose.yml': line 15, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


    - name: Запуск контейнера с помощью docker-compose
      ^ here

2025-05-22 08:51:14,390 p=73441 u=sergeylapshov n=ansible ERROR| ERROR! [DEPRECATED]: community.docker.docker_compose has been removed. This module uses docker-compose v1, which is End of Life since July 2022. Please migrate to community.docker.docker_compose_v2. This feature was removed from community.docker in version 4.0.0. Please update your playbooks.

The error appears to be in '/Users/sergeylapshov/Documents/Devops/docker/Ansible/DOCKER-ANS-03/deploy_compose.yml': line 15, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


    - name: Запуск контейнера с помощью docker-compose
      ^ here

2025-05-22 08:55:36,350 p=74300 u=sergeylapshov n=ansible INFO| PLAY [Запуск контейнера docker-compose] *********************************************************************************
2025-05-22 08:55:36,356 p=74300 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 08:55:37,917 p=74300 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 08:55:37,917 p=74300 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 08:55:37,921 p=74300 u=sergeylapshov n=ansible INFO| TASK [Установка docker-compose] *****************************************************************************************
2025-05-22 08:55:55,184 p=74300 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 08:55:55,193 p=74300 u=sergeylapshov n=ansible INFO| TASK [Копирование файла docker-compose.yml на удаленный хост] ***********************************************************
2025-05-22 08:55:55,241 p=74300 u=sergeylapshov n=ansible INFO| An exception occurred during task execution. To see the full traceback, use -vvv. The error was: If you are using a module and expect the file to exist on the remote, see the remote_src option
2025-05-22 08:55:55,241 p=74300 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "msg": "Could not find or access 'docker/Ansible/DOCKER-ANS-03/docker-compose.yml'\nSearched in:\n\t/Users/sergeylapshov/Documents/Devops/docker/Ansible/DOCKER-ANS-03/files/docker/Ansible/DOCKER-ANS-03/docker-compose.yml\n\t/Users/sergeylapshov/Documents/Devops/docker/Ansible/DOCKER-ANS-03/docker/Ansible/DOCKER-ANS-03/docker-compose.yml\n\t/Users/sergeylapshov/Documents/Devops/docker/Ansible/DOCKER-ANS-03/files/docker/Ansible/DOCKER-ANS-03/docker-compose.yml\n\t/Users/sergeylapshov/Documents/Devops/docker/Ansible/DOCKER-ANS-03/docker/Ansible/DOCKER-ANS-03/docker-compose.yml on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2025-05-22 08:55:55,242 p=74300 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 08:55:55,242 p=74300 u=sergeylapshov n=ansible INFO| web1                       : ok=2    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 08:56:19,758 p=74588 u=sergeylapshov n=ansible INFO| PLAY [Запуск контейнера docker-compose] *********************************************************************************
2025-05-22 08:56:19,763 p=74588 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 08:56:20,909 p=74588 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 08:56:20,909 p=74588 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 08:56:20,915 p=74588 u=sergeylapshov n=ansible INFO| TASK [Копирование файла docker-compose.yml на удаленный хост] ***********************************************************
2025-05-22 08:56:20,992 p=74588 u=sergeylapshov n=ansible INFO| An exception occurred during task execution. To see the full traceback, use -vvv. The error was: If you are using a module and expect the file to exist on the remote, see the remote_src option
2025-05-22 08:56:20,993 p=74588 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "msg": "Could not find or access 'docker/Ansible/DOCKER-ANS-03/docker-compose.yml'\nSearched in:\n\t/Users/sergeylapshov/Documents/Devops/docker/Ansible/DOCKER-ANS-03/files/docker/Ansible/DOCKER-ANS-03/docker-compose.yml\n\t/Users/sergeylapshov/Documents/Devops/docker/Ansible/DOCKER-ANS-03/docker/Ansible/DOCKER-ANS-03/docker-compose.yml\n\t/Users/sergeylapshov/Documents/Devops/docker/Ansible/DOCKER-ANS-03/files/docker/Ansible/DOCKER-ANS-03/docker-compose.yml\n\t/Users/sergeylapshov/Documents/Devops/docker/Ansible/DOCKER-ANS-03/docker/Ansible/DOCKER-ANS-03/docker-compose.yml on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2025-05-22 08:56:20,993 p=74588 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 08:56:20,993 p=74588 u=sergeylapshov n=ansible INFO| web1                       : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 08:56:48,559 p=74825 u=sergeylapshov n=ansible INFO| PLAY [Запуск контейнера docker-compose] *********************************************************************************
2025-05-22 08:56:48,565 p=74825 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 08:56:49,705 p=74825 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 08:56:49,706 p=74825 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 08:56:49,711 p=74825 u=sergeylapshov n=ansible INFO| TASK [Копирование файла docker-compose.yml на удаленный хост] ***********************************************************
2025-05-22 08:56:50,265 p=74825 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 08:56:50,270 p=74825 u=sergeylapshov n=ansible INFO| TASK [Запуск контейнера с помощью docker-compose] ***********************************************************************
2025-05-22 08:56:50,746 p=74825 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "msg": "Unsupported parameters for (community.docker.docker_compose_v2) module: restarted. Supported parameters include: api_version, assume_yes, build, ca_path, check_files_existing, cli_context, client_cert, client_key, definition, dependencies, docker_cli, docker_host, env_files, files, ignore_build_events, profiles, project_name, project_src, pull, recreate, remove_images, remove_orphans, remove_volumes, renew_anon_volumes, scale, services, state, timeout, tls, tls_hostname, validate_certs, wait, wait_timeout (ca_cert, cacert_path, cert_path, docker_api_version, docker_url, key_path, tls_ca_cert, tls_client_cert, tls_client_key, tls_verify)."}
2025-05-22 08:56:50,747 p=74825 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 08:56:50,747 p=74825 u=sergeylapshov n=ansible INFO| web1                       : ok=2    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 08:58:26,401 p=75263 u=sergeylapshov n=ansible INFO| PLAY [Запуск контейнера docker-compose] *********************************************************************************
2025-05-22 08:58:26,408 p=75263 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 08:58:27,885 p=75263 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 08:58:27,886 p=75263 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 08:58:27,892 p=75263 u=sergeylapshov n=ansible INFO| TASK [Копирование файла docker-compose.yml на удаленный хост] ***********************************************************
2025-05-22 08:58:28,443 p=75263 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 08:58:28,447 p=75263 u=sergeylapshov n=ansible INFO| TASK [Запуск контейнера с помощью docker-compose] ***********************************************************************
2025-05-22 08:59:11,838 p=75263 u=sergeylapshov n=ansible WARNING| [WARNING]: Docker compose: unknown None: /home/vagrant/ubuntu/docker-compose.yml: the attribute `version` is obsolete,
it will be ignored, please remove it to avoid potential confusion

2025-05-22 08:59:11,839 p=75263 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 08:59:11,848 p=75263 u=sergeylapshov n=ansible INFO| TASK [Проверка, что nginx запущен] **************************************************************************************
2025-05-22 08:59:12,191 p=75263 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 08:59:12,195 p=75263 u=sergeylapshov n=ansible INFO| TASK [Проверка, что backend запущен] ************************************************************************************
2025-05-22 08:59:12,467 p=75263 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 08:59:12,473 p=75263 u=sergeylapshov n=ansible INFO| TASK [Показать результат] ***********************************************************************************************
2025-05-22 08:59:12,489 p=75263 u=sergeylapshov n=ansible INFO| ok: [web1] => {
    "result.content": "Hello from backend!\n"
}
2025-05-22 08:59:12,490 p=75263 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 08:59:12,490 p=75263 u=sergeylapshov n=ansible INFO| web1                       : ok=6    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-05-22 09:29:04,622 p=80912 u=sergeylapshov n=ansible ERROR| ERROR! couldn't resolve module/action 'community.docker.docker_copy'. This often indicates a misspelling, missing collection, or incorrect module path.

The error appears to be in '/Users/sergeylapshov/Documents/Devops/docker/Ansible/DOCKER-ANS-04/ubuntu_nginx.yml': line 27, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


    - name: Копирование файлов в контейнер
      ^ here

2025-05-22 09:29:43,376 p=81154 u=sergeylapshov n=ansible ERROR| ERROR! couldn't resolve module/action 'community.docker.docker_cp'. This often indicates a misspelling, missing collection, or incorrect module path.

The error appears to be in '/Users/sergeylapshov/Documents/Devops/docker/Ansible/DOCKER-ANS-04/ubuntu_nginx.yml': line 27, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


    - name: Копирование файлов в контейнер
      ^ here

2025-05-22 09:31:32,529 p=81603 u=sergeylapshov n=ansible WARNING| [WARNING]: Could not match supplied host pattern, ignoring: wec

2025-05-22 09:31:32,530 p=81603 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 09:31:32,530 p=81603 u=sergeylapshov n=ansible INFO| skipping: no hosts matched
2025-05-22 09:31:32,530 p=81603 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 09:31:54,998 p=81807 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 09:31:55,030 p=81807 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 09:31:56,696 p=81807 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 09:31:56,697 p=81807 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:31:56,701 p=81807 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 09:31:57,206 p=81807 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "msg": "value of state must be one of: absent, present, stopped, restarted, got: started"}
2025-05-22 09:31:57,207 p=81807 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 09:31:57,207 p=81807 u=sergeylapshov n=ansible INFO| web1                       : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 09:32:36,203 p=82077 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 09:32:36,235 p=82077 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 09:32:37,405 p=82077 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 09:32:37,405 p=82077 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:32:37,410 p=82077 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu] **************************************************************************************
2025-05-22 09:32:58,093 p=82077 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 09:32:58,098 p=82077 u=sergeylapshov n=ansible INFO| TASK [Установка nginx] **************************************************************************************************
2025-05-22 09:32:58,647 p=82077 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "msg": "missing required arguments: container"}
2025-05-22 09:32:58,648 p=82077 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 09:32:58,648 p=82077 u=sergeylapshov n=ansible INFO| web1                       : ok=2    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 09:33:29,401 p=82391 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 09:33:29,433 p=82391 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 09:33:30,623 p=82391 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 09:33:30,624 p=82391 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:33:30,633 p=82391 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu] **************************************************************************************
2025-05-22 09:33:31,249 p=82391 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:33:31,254 p=82391 u=sergeylapshov n=ansible INFO| TASK [Установка nginx] **************************************************************************************************
2025-05-22 09:33:31,803 p=82391 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "msg": "Unsupported parameters for (community.docker.docker_container_exec) module: name, state. Supported parameters include: api_version, argv, ca_path, chdir, client_cert, client_key, command, container, debug, detach, docker_host, env, stdin, stdin_add_newline, strip_empty_ends, timeout, tls, tls_hostname, tty, use_ssh_client, user, validate_certs (ca_cert, cacert_path, cert_path, docker_api_version, docker_url, key_path, tls_ca_cert, tls_client_cert, tls_client_key, tls_verify)."}
2025-05-22 09:33:31,804 p=82391 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 09:33:31,804 p=82391 u=sergeylapshov n=ansible INFO| web1                       : ok=2    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 09:35:14,177 p=82844 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 09:35:14,210 p=82844 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 09:35:15,709 p=82844 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 09:35:15,709 p=82844 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:35:15,717 p=82844 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu] **************************************************************************************
2025-05-22 09:35:16,336 p=82844 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:35:16,340 p=82844 u=sergeylapshov n=ansible INFO| TASK [Запуск контейнера nginx] ******************************************************************************************
2025-05-22 09:35:17,058 p=82844 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 09:35:17,064 p=82844 u=sergeylapshov n=ansible INFO| TASK [Копирование файлов в контейнер] ***********************************************************************************
2025-05-22 09:35:17,647 p=82844 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": true, "rc": 1, "stderr": "cp: cannot stat '/Users/sergeylapshov/Documents/Devops/docker/Ansible/DOCKER-ANS-04/nginx.conf': No such file or directory", "stderr_lines": ["cp: cannot stat '/Users/sergeylapshov/Documents/Devops/docker/Ansible/DOCKER-ANS-04/nginx.conf': No such file or directory"], "stdout": "", "stdout_lines": []}
2025-05-22 09:35:17,649 p=82844 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 09:35:17,649 p=82844 u=sergeylapshov n=ansible INFO| web1                       : ok=3    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 09:38:04,603 p=83531 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 09:38:04,610 p=83531 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 09:38:06,196 p=83531 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 09:38:06,197 p=83531 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:38:06,201 p=83531 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu] **************************************************************************************
2025-05-22 09:38:06,863 p=83531 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:38:06,871 p=83531 u=sergeylapshov n=ansible INFO| TASK [Запуск контейнера nginx] ******************************************************************************************
2025-05-22 09:38:07,324 p=83531 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:38:07,331 p=83531 u=sergeylapshov n=ansible INFO| TASK [Копирование файла конфигурации nginx] *****************************************************************************
2025-05-22 09:38:07,885 p=83531 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 09:38:07,890 p=83531 u=sergeylapshov n=ansible INFO| TASK [Копирование файлов в контейнер] ***********************************************************************************
2025-05-22 09:38:08,460 p=83531 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": true, "rc": 1, "stderr": "cp: cannot stat '/home/vagrant/ubuntu/nginx.conf': No such file or directory", "stderr_lines": ["cp: cannot stat '/home/vagrant/ubuntu/nginx.conf': No such file or directory"], "stdout": "", "stdout_lines": []}
2025-05-22 09:38:08,461 p=83531 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 09:38:08,462 p=83531 u=sergeylapshov n=ansible INFO| web1                       : ok=4    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 09:39:39,695 p=84010 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 09:39:39,701 p=84010 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 09:39:41,205 p=84010 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 09:39:41,205 p=84010 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:39:41,209 p=84010 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu] **************************************************************************************
2025-05-22 09:39:41,833 p=84010 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:39:41,842 p=84010 u=sergeylapshov n=ansible INFO| TASK [Запуск контейнера nginx] ******************************************************************************************
2025-05-22 09:39:42,357 p=84010 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:39:42,364 p=84010 u=sergeylapshov n=ansible INFO| TASK [Копирование файла конфигурации nginx] *****************************************************************************
2025-05-22 09:39:43,041 p=84010 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:39:43,047 p=84010 u=sergeylapshov n=ansible INFO| TASK [Копирование файлов в контейнер] ***********************************************************************************
2025-05-22 09:39:44,002 p=84010 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": true, "rc": 1, "stderr": "cp: cannot stat '//home/vagrant/ubuntu/nginx.conf': No such file or directory", "stderr_lines": ["cp: cannot stat '//home/vagrant/ubuntu/nginx.conf': No such file or directory"], "stdout": "", "stdout_lines": []}
2025-05-22 09:39:44,004 p=84010 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 09:39:44,005 p=84010 u=sergeylapshov n=ansible INFO| web1                       : ok=4    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 09:40:07,766 p=84280 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 09:40:07,773 p=84280 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 09:40:08,969 p=84280 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 09:40:08,969 p=84280 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:40:08,974 p=84280 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu] **************************************************************************************
2025-05-22 09:40:09,586 p=84280 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:40:09,594 p=84280 u=sergeylapshov n=ansible INFO| TASK [Запуск контейнера nginx] ******************************************************************************************
2025-05-22 09:40:10,069 p=84280 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:40:10,076 p=84280 u=sergeylapshov n=ansible INFO| TASK [Копирование файла конфигурации nginx] *****************************************************************************
2025-05-22 09:40:10,606 p=84280 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:40:10,610 p=84280 u=sergeylapshov n=ansible INFO| TASK [Копирование файлов в контейнер] ***********************************************************************************
2025-05-22 09:40:11,178 p=84280 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": true, "rc": 1, "stderr": "cp: cannot stat '/home/vagrant/ubuntu/nginx.conf': No such file or directory", "stderr_lines": ["cp: cannot stat '/home/vagrant/ubuntu/nginx.conf': No such file or directory"], "stdout": "", "stdout_lines": []}
2025-05-22 09:40:11,181 p=84280 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 09:40:11,181 p=84280 u=sergeylapshov n=ansible INFO| web1                       : ok=4    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 09:40:52,537 p=84594 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 09:40:52,544 p=84594 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 09:40:53,722 p=84594 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 09:40:53,722 p=84594 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:40:53,727 p=84594 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu] **************************************************************************************
2025-05-22 09:40:54,340 p=84594 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:40:54,350 p=84594 u=sergeylapshov n=ansible INFO| TASK [Запуск контейнера nginx] ******************************************************************************************
2025-05-22 09:40:54,792 p=84594 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:40:54,799 p=84594 u=sergeylapshov n=ansible INFO| TASK [Копирование файла конфигурации nginx] *****************************************************************************
2025-05-22 09:40:55,353 p=84594 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:40:55,357 p=84594 u=sergeylapshov n=ansible INFO| TASK [Копирование файлов в контейнер] ***********************************************************************************
2025-05-22 09:40:55,914 p=84594 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": true, "rc": 1, "stderr": "cp: cannot stat '/home/vagrant/ubuntu/nginx.conf': No such file or directory", "stderr_lines": ["cp: cannot stat '/home/vagrant/ubuntu/nginx.conf': No such file or directory"], "stdout": "", "stdout_lines": []}
2025-05-22 09:40:55,917 p=84594 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 09:40:55,918 p=84594 u=sergeylapshov n=ansible INFO| web1                       : ok=4    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 09:41:30,951 p=84886 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 09:41:30,956 p=84886 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 09:41:32,097 p=84886 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 09:41:32,097 p=84886 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:41:32,101 p=84886 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu] **************************************************************************************
2025-05-22 09:41:32,711 p=84886 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:41:32,719 p=84886 u=sergeylapshov n=ansible INFO| TASK [Запуск контейнера nginx] ******************************************************************************************
2025-05-22 09:41:33,166 p=84886 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:41:33,172 p=84886 u=sergeylapshov n=ansible INFO| TASK [Копирование файла конфигурации nginx] *****************************************************************************
2025-05-22 09:41:33,719 p=84886 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:41:33,725 p=84886 u=sergeylapshov n=ansible INFO| TASK [Копирование файлов в контейнер] ***********************************************************************************
2025-05-22 09:41:34,042 p=84886 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": true, "cmd": "docker cp /home/vagrant/ubuntu/nginx.conf ubuntu_nginx:/etc/nginx/nginx.conf", "delta": "0:00:00.026816", "end": "2025-05-22 01:41:34.287834", "msg": "non-zero return code", "rc": 1, "start": "2025-05-22 01:41:34.261018", "stderr": "Error response from daemon: No such container: ubuntu_nginx", "stderr_lines": ["Error response from daemon: No such container: ubuntu_nginx"], "stdout": "", "stdout_lines": []}
2025-05-22 09:41:34,043 p=84886 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 09:41:34,043 p=84886 u=sergeylapshov n=ansible INFO| web1                       : ok=4    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 09:43:09,826 p=85343 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 09:43:09,833 p=85343 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 09:43:11,320 p=85343 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 09:43:11,320 p=85343 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:43:11,324 p=85343 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu] **************************************************************************************
2025-05-22 09:43:12,111 p=85343 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "msg": "Error starting container 116ec01cd5d9bc80a70ab40a23d0e67af8742dbd81025462b966a0e860e11596: 500 Server Error for http+docker://localhost/v1.49/containers/116ec01cd5d9bc80a70ab40a23d0e67af8742dbd81025462b966a0e860e11596/start: Internal Server Error (\"failed to set up container networking: driver failed programming external connectivity on endpoint ubuntu_nginx (a8e9cef7b6d82bcdea9e735d44e369a33e899dbf6cabc5ca15b8d97f77a47642): Bind for 0.0.0.0:8086 failed: port is already allocated\")"}
2025-05-22 09:43:12,113 p=85343 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 09:43:12,113 p=85343 u=sergeylapshov n=ansible INFO| web1                       : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 09:43:57,539 p=85619 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 09:43:57,545 p=85619 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 09:43:58,734 p=85619 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 09:43:58,734 p=85619 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:43:58,739 p=85619 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu] **************************************************************************************
2025-05-22 09:43:59,515 p=85619 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "msg": "Error starting container 116ec01cd5d9bc80a70ab40a23d0e67af8742dbd81025462b966a0e860e11596: 500 Server Error for http+docker://localhost/v1.49/containers/116ec01cd5d9bc80a70ab40a23d0e67af8742dbd81025462b966a0e860e11596/start: Internal Server Error (\"failed to set up container networking: driver failed programming external connectivity on endpoint ubuntu_nginx (4415a129f9194e05545a69218b4e865650f069938e3dc9a39eb581f97b86f4b3): Bind for 0.0.0.0:8086 failed: port is already allocated\")"}
2025-05-22 09:43:59,517 p=85619 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 09:43:59,517 p=85619 u=sergeylapshov n=ansible INFO| web1                       : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 09:44:15,076 p=85826 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 09:44:15,081 p=85826 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 09:44:16,244 p=85826 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 09:44:16,245 p=85826 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:44:16,249 p=85826 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu] **************************************************************************************
2025-05-22 09:44:17,017 p=85826 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 09:44:17,026 p=85826 u=sergeylapshov n=ansible INFO| TASK [Запуск контейнера nginx] ******************************************************************************************
2025-05-22 09:44:17,469 p=85826 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:44:17,476 p=85826 u=sergeylapshov n=ansible INFO| TASK [Копирование файла конфигурации nginx] *****************************************************************************
2025-05-22 09:44:18,038 p=85826 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:44:18,042 p=85826 u=sergeylapshov n=ansible INFO| TASK [Копирование файлов в контейнер] ***********************************************************************************
2025-05-22 09:44:18,619 p=85826 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": true, "rc": 1, "stderr": "cp: cannot stat '/home/vagrant/ubuntu/nginx.conf': No such file or directory", "stderr_lines": ["cp: cannot stat '/home/vagrant/ubuntu/nginx.conf': No such file or directory"], "stdout": "", "stdout_lines": []}
2025-05-22 09:44:18,621 p=85826 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 09:44:18,621 p=85826 u=sergeylapshov n=ansible INFO| web1                       : ok=4    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 09:46:14,518 p=86338 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 09:46:14,524 p=86338 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 09:46:16,010 p=86338 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 09:46:16,010 p=86338 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:46:16,014 p=86338 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu] **************************************************************************************
2025-05-22 09:46:16,661 p=86338 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:46:16,668 p=86338 u=sergeylapshov n=ansible INFO| TASK [Запуск контейнера nginx] ******************************************************************************************
2025-05-22 09:46:17,150 p=86338 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:46:17,157 p=86338 u=sergeylapshov n=ansible INFO| TASK [Копирование файла конфигурации nginx] *****************************************************************************
2025-05-22 09:46:17,683 p=86338 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:46:17,690 p=86338 u=sergeylapshov n=ansible INFO| TASK [Копирование файлов в контейнер] ***********************************************************************************
2025-05-22 09:46:17,998 p=86338 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": true, "cmd": "docker cp /home/vagrant/ubuntu/nginx.conf ubuntu_nginx:/etc/nginx/nginx.conf", "delta": "0:00:00.017081", "end": "2025-05-22 01:46:18.241446", "msg": "non-zero return code", "rc": 1, "start": "2025-05-22 01:46:18.224365", "stderr": "Error response from daemon: Could not find the file /etc/nginx in container ubuntu_nginx", "stderr_lines": ["Error response from daemon: Could not find the file /etc/nginx in container ubuntu_nginx"], "stdout": "", "stdout_lines": []}
2025-05-22 09:46:17,999 p=86338 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 09:46:17,999 p=86338 u=sergeylapshov n=ansible INFO| web1                       : ok=4    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 09:47:00,349 p=86661 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 09:47:00,355 p=86661 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 09:47:01,529 p=86661 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 09:47:01,530 p=86661 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:47:01,534 p=86661 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu] **************************************************************************************
2025-05-22 09:47:02,152 p=86661 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:47:02,160 p=86661 u=sergeylapshov n=ansible INFO| TASK [Запуск контейнера nginx] ******************************************************************************************
2025-05-22 09:47:12,901 p=86661 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "msg": "Error starting container 699af6b55029b4bab29210c1acc766094ecf34ca96fa23cad23ce154dc3d503b: 500 Server Error for http+docker://localhost/v1.49/containers/699af6b55029b4bab29210c1acc766094ecf34ca96fa23cad23ce154dc3d503b/start: Internal Server Error (\"failed to set up container networking: driver failed programming external connectivity on endpoint ubuntu_nginx (ecd36a9045bd94510ca11e201c4d51f32ff5a3f8e8725bead0c5b3f2718061c5): Bind for 0.0.0.0:8083 failed: port is already allocated\")"}
2025-05-22 09:47:12,902 p=86661 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 09:47:12,903 p=86661 u=sergeylapshov n=ansible INFO| web1                       : ok=2    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 09:47:31,312 p=86914 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 09:47:31,318 p=86914 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 09:47:32,520 p=86914 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 09:47:32,520 p=86914 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:47:32,525 p=86914 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu] **************************************************************************************
2025-05-22 09:47:33,181 p=86914 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:47:33,190 p=86914 u=sergeylapshov n=ansible INFO| TASK [Запуск контейнера nginx] ******************************************************************************************
2025-05-22 09:47:33,789 p=86914 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 09:47:33,796 p=86914 u=sergeylapshov n=ansible INFO| TASK [Копирование файла конфигурации nginx] *****************************************************************************
2025-05-22 09:47:34,343 p=86914 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:47:34,349 p=86914 u=sergeylapshov n=ansible INFO| TASK [Копирование файлов в контейнер] ***********************************************************************************
2025-05-22 09:47:34,663 p=86914 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 09:47:34,668 p=86914 u=sergeylapshov n=ansible INFO| TASK [Перезапуск nginx] *************************************************************************************************
2025-05-22 09:47:35,203 p=86914 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "msg": "missing required arguments: container"}
2025-05-22 09:47:35,205 p=86914 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 09:47:35,205 p=86914 u=sergeylapshov n=ansible INFO| web1                       : ok=5    changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 09:47:53,208 p=87168 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 09:47:53,214 p=87168 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 09:47:54,838 p=87168 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 09:47:54,838 p=87168 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:47:54,842 p=87168 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu] **************************************************************************************
2025-05-22 09:47:55,656 p=87168 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:47:55,664 p=87168 u=sergeylapshov n=ansible INFO| TASK [Запуск контейнера nginx] ******************************************************************************************
2025-05-22 09:47:56,233 p=87168 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:47:56,241 p=87168 u=sergeylapshov n=ansible INFO| TASK [Копирование файла конфигурации nginx] *****************************************************************************
2025-05-22 09:47:56,752 p=87168 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:47:56,758 p=87168 u=sergeylapshov n=ansible INFO| TASK [Копирование файлов в контейнер] ***********************************************************************************
2025-05-22 09:47:57,098 p=87168 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 09:47:57,103 p=87168 u=sergeylapshov n=ansible INFO| TASK [Перезапуск nginx] *************************************************************************************************
2025-05-22 09:47:57,656 p=87168 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "msg": "missing required arguments: container"}
2025-05-22 09:47:57,658 p=87168 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 09:47:57,658 p=87168 u=sergeylapshov n=ansible INFO| web1                       : ok=5    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 09:48:37,949 p=87502 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 09:48:37,955 p=87502 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 09:48:39,554 p=87502 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 09:48:39,554 p=87502 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:48:39,559 p=87502 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu] **************************************************************************************
2025-05-22 09:48:40,228 p=87502 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:48:40,236 p=87502 u=sergeylapshov n=ansible INFO| TASK [Запуск контейнера nginx] ******************************************************************************************
2025-05-22 09:48:40,685 p=87502 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:48:40,693 p=87502 u=sergeylapshov n=ansible INFO| TASK [Копирование файла конфигурации nginx] *****************************************************************************
2025-05-22 09:48:41,246 p=87502 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:48:41,254 p=87502 u=sergeylapshov n=ansible INFO| TASK [Копирование файлов в контейнер] ***********************************************************************************
2025-05-22 09:48:41,555 p=87502 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 09:48:41,560 p=87502 u=sergeylapshov n=ansible INFO| TASK [Перезапуск nginx] *************************************************************************************************
2025-05-22 09:48:42,085 p=87502 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "msg": "Unsupported parameters for (community.docker.docker_container_exec) module: state. Supported parameters include: api_version, argv, ca_path, chdir, client_cert, client_key, command, container, debug, detach, docker_host, env, stdin, stdin_add_newline, strip_empty_ends, timeout, tls, tls_hostname, tty, use_ssh_client, user, validate_certs (ca_cert, cacert_path, cert_path, docker_api_version, docker_url, key_path, tls_ca_cert, tls_client_cert, tls_client_key, tls_verify)."}
2025-05-22 09:48:42,088 p=87502 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 09:48:42,088 p=87502 u=sergeylapshov n=ansible INFO| web1                       : ok=5    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 09:50:04,713 p=87926 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 09:50:04,723 p=87926 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 09:50:06,171 p=87926 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 09:50:06,172 p=87926 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:50:06,176 p=87926 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu] **************************************************************************************
2025-05-22 09:50:06,817 p=87926 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:50:06,825 p=87926 u=sergeylapshov n=ansible INFO| TASK [Запуск контейнера nginx] ******************************************************************************************
2025-05-22 09:50:07,293 p=87926 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:50:07,300 p=87926 u=sergeylapshov n=ansible INFO| TASK [Копирование файла конфигурации nginx] *****************************************************************************
2025-05-22 09:50:07,859 p=87926 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:50:07,865 p=87926 u=sergeylapshov n=ansible INFO| TASK [Копирование файлов в контейнер] ***********************************************************************************
2025-05-22 09:50:08,187 p=87926 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 09:50:08,193 p=87926 u=sergeylapshov n=ansible INFO| TASK [Перезапуск nginx] *************************************************************************************************
2025-05-22 09:50:08,742 p=87926 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "msg": "The container \"ubuntu_nginx\" has been paused (409 Client Error for http+docker://localhost/v1.49/containers/ubuntu_nginx/exec: Conflict (\"Container e286389045d85b0ba586f7ca9672903773224dab47a02d97b1e118fd1a80c50d is restarting, wait until the container is running\"))"}
2025-05-22 09:50:08,743 p=87926 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 09:50:08,743 p=87926 u=sergeylapshov n=ansible INFO| web1                       : ok=5    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 09:50:40,823 p=88225 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 09:50:40,829 p=88225 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 09:50:42,004 p=88225 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 09:50:42,004 p=88225 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:50:42,008 p=88225 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu] **************************************************************************************
2025-05-22 09:50:42,662 p=88225 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:50:42,670 p=88225 u=sergeylapshov n=ansible INFO| TASK [Запуск контейнера nginx] ******************************************************************************************
2025-05-22 09:50:43,112 p=88225 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:50:43,119 p=88225 u=sergeylapshov n=ansible INFO| TASK [Копирование файла конфигурации nginx] *****************************************************************************
2025-05-22 09:50:43,672 p=88225 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:50:43,679 p=88225 u=sergeylapshov n=ansible INFO| TASK [Копирование файлов в контейнер] ***********************************************************************************
2025-05-22 09:50:43,996 p=88225 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 09:50:44,002 p=88225 u=sergeylapshov n=ansible INFO| TASK [Перезапуск nginx] *************************************************************************************************
2025-05-22 09:50:44,549 p=88225 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "msg": "The container \"ubuntu_nginx\" has been paused (409 Client Error for http+docker://localhost/v1.49/containers/ubuntu_nginx/exec: Conflict (\"Container e286389045d85b0ba586f7ca9672903773224dab47a02d97b1e118fd1a80c50d is restarting, wait until the container is running\"))"}
2025-05-22 09:50:44,551 p=88225 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 09:50:44,551 p=88225 u=sergeylapshov n=ansible INFO| web1                       : ok=5    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 09:56:32,447 p=89347 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 09:56:32,453 p=89347 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 09:56:34,349 p=89347 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 09:56:34,349 p=89347 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:56:34,353 p=89347 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu + nginx] ******************************************************************************
2025-05-22 09:56:53,530 p=89347 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "msg": "Error starting container ba1b8b4834af44069935a7d8ce80fc2964274173063654375bf20eb35e5868c1: 500 Server Error for http+docker://localhost/v1.49/containers/ba1b8b4834af44069935a7d8ce80fc2964274173063654375bf20eb35e5868c1/start: Internal Server Error (\"failed to set up container networking: driver failed programming external connectivity on endpoint ubuntu_nginx (cd153300903c1cc40bcb92d85804ced408bb85df5abb14f851f2e4589350c35b): Bind for 0.0.0.0:8086 failed: port is already allocated\")"}
2025-05-22 09:56:53,531 p=89347 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 09:56:53,531 p=89347 u=sergeylapshov n=ansible INFO| web1                       : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 09:57:44,769 p=89712 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 09:57:44,776 p=89712 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 09:57:45,969 p=89712 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 09:57:45,970 p=89712 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:57:45,974 p=89712 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu + nginx] ******************************************************************************
2025-05-22 09:57:46,732 p=89712 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 09:57:46,740 p=89712 u=sergeylapshov n=ansible INFO| TASK [Установка curl и nginx] *******************************************************************************************
2025-05-22 09:57:47,307 p=89712 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": true, "rc": 100, "stderr": "\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\nE: The update command takes no arguments", "stderr_lines": ["", "WARNING: apt does not have a stable CLI interface. Use with caution in scripts.", "", "E: The update command takes no arguments"], "stdout": "", "stdout_lines": []}
2025-05-22 09:57:47,310 p=89712 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 09:57:47,310 p=89712 u=sergeylapshov n=ansible INFO| web1                       : ok=2    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 09:59:29,652 p=90161 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 09:59:29,658 p=90161 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 09:59:31,166 p=90161 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 09:59:31,167 p=90161 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:59:31,171 p=90161 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu + nginx] ******************************************************************************
2025-05-22 09:59:31,811 p=90161 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 09:59:31,820 p=90161 u=sergeylapshov n=ansible INFO| TASK [Установка curl и nginx] *******************************************************************************************
2025-05-22 09:59:32,375 p=90161 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": true, "rc": 127, "stderr": "", "stderr_lines": [], "stdout": "OCI runtime exec failed: exec failed: unable to start container process: exec: \"[/bin/bash,\": stat [/bin/bash,: no such file or directory: unknown", "stdout_lines": ["OCI runtime exec failed: exec failed: unable to start container process: exec: \"[/bin/bash,\": stat [/bin/bash,: no such file or directory: unknown"]}
2025-05-22 09:59:32,376 p=90161 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 09:59:32,376 p=90161 u=sergeylapshov n=ansible INFO| web1                       : ok=2    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 10:09:05,536 p=91880 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 10:09:05,542 p=91880 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 10:09:07,105 p=91880 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 10:09:07,105 p=91880 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:09:07,110 p=91880 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu + nginx] ******************************************************************************
2025-05-22 10:09:07,764 p=91880 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:09:07,772 p=91880 u=sergeylapshov n=ansible INFO| TASK [Ecnfyjdrf nginx] **************************************************************************************************
2025-05-22 10:09:08,319 p=91880 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "msg": "missing required arguments: container"}
2025-05-22 10:09:08,320 p=91880 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 10:09:08,320 p=91880 u=sergeylapshov n=ansible INFO| web1                       : ok=2    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 10:09:36,015 p=92136 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 10:09:36,022 p=92136 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 10:09:37,203 p=92136 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 10:09:37,204 p=92136 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:09:37,209 p=92136 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu + nginx] ******************************************************************************
2025-05-22 10:09:37,839 p=92136 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:09:37,846 p=92136 u=sergeylapshov n=ansible INFO| TASK [Установка nginx] **************************************************************************************************
2025-05-22 10:09:38,414 p=92136 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": true, "rc": 100, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-22 10:09:38,416 p=92136 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 10:09:38,417 p=92136 u=sergeylapshov n=ansible INFO| web1                       : ok=2    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 10:10:20,575 p=92429 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 10:10:20,581 p=92429 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 10:10:21,745 p=92429 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 10:10:21,745 p=92429 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:10:21,750 p=92429 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu + nginx] ******************************************************************************
2025-05-22 10:10:22,367 p=92429 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:10:22,376 p=92429 u=sergeylapshov n=ansible INFO| TASK [Установка nginx] **************************************************************************************************
2025-05-22 10:10:22,916 p=92429 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": true, "rc": 100, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-22 10:10:22,918 p=92429 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 10:10:22,918 p=92429 u=sergeylapshov n=ansible INFO| web1                       : ok=2    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 10:11:17,940 p=92753 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 10:11:17,946 p=92753 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 10:11:19,230 p=92753 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 10:11:19,230 p=92753 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:11:19,238 p=92753 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu + nginx] ******************************************************************************
2025-05-22 10:11:20,209 p=92753 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:11:20,215 p=92753 u=sergeylapshov n=ansible INFO| TASK [Установка nginx] **************************************************************************************************
2025-05-22 10:12:03,085 p=92753 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 10:12:03,092 p=92753 u=sergeylapshov n=ansible INFO| TASK [Копирование конфигурации nginx] ***********************************************************************************
2025-05-22 10:12:03,148 p=92753 u=sergeylapshov n=ansible INFO| An exception occurred during task execution. To see the full traceback, use -vvv. The error was: If you are using a module and expect the file to exist on the remote, see the remote_src option
2025-05-22 10:12:03,148 p=92753 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "msg": "Could not find or access 'docker/Ansible/DOCKER-ANS-04/nginx.conf'\nSearched in:\n\t/Users/sergeylapshov/Documents/Devops/docker/Ansible/DOCKER-ANS-04/files/docker/Ansible/DOCKER-ANS-04/nginx.conf\n\t/Users/sergeylapshov/Documents/Devops/docker/Ansible/DOCKER-ANS-04/docker/Ansible/DOCKER-ANS-04/nginx.conf\n\t/Users/sergeylapshov/Documents/Devops/docker/Ansible/DOCKER-ANS-04/files/docker/Ansible/DOCKER-ANS-04/nginx.conf\n\t/Users/sergeylapshov/Documents/Devops/docker/Ansible/DOCKER-ANS-04/docker/Ansible/DOCKER-ANS-04/nginx.conf on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2025-05-22 10:12:03,149 p=92753 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 10:12:03,149 p=92753 u=sergeylapshov n=ansible INFO| web1                       : ok=3    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 10:13:55,067 p=93354 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 10:13:55,073 p=93354 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 10:13:56,679 p=93354 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 10:13:56,679 p=93354 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:13:56,683 p=93354 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu + nginx] ******************************************************************************
2025-05-22 10:13:57,342 p=93354 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:13:57,350 p=93354 u=sergeylapshov n=ansible INFO| TASK [Установка nginx] **************************************************************************************************
2025-05-22 10:14:03,523 p=93354 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 10:14:03,532 p=93354 u=sergeylapshov n=ansible INFO| TASK [Копирование конфигурации nginx] ***********************************************************************************
2025-05-22 10:14:04,079 p=93354 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:14:04,084 p=93354 u=sergeylapshov n=ansible INFO| TASK [Копирование конфигурации nginx в контейнер] ***********************************************************************
2025-05-22 10:14:04,478 p=93354 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "msg": "missing required arguments: container"}
2025-05-22 10:14:04,479 p=93354 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 10:14:04,479 p=93354 u=sergeylapshov n=ansible INFO| web1                       : ok=4    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 10:14:46,008 p=93694 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 10:14:46,014 p=93694 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 10:14:47,193 p=93694 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 10:14:47,193 p=93694 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:14:47,197 p=93694 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu + nginx] ******************************************************************************
2025-05-22 10:14:47,852 p=93694 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:14:47,861 p=93694 u=sergeylapshov n=ansible INFO| TASK [Установка nginx] **************************************************************************************************
2025-05-22 10:14:56,399 p=93694 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 10:14:56,410 p=93694 u=sergeylapshov n=ansible INFO| TASK [Копирование конфигурации nginx] ***********************************************************************************
2025-05-22 10:14:56,974 p=93694 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:14:56,980 p=93694 u=sergeylapshov n=ansible INFO| TASK [Копирование конфигурации nginx в контейнер] ***********************************************************************
2025-05-22 10:14:57,434 p=93694 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": true, "rc": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-22 10:14:57,435 p=93694 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 10:14:57,435 p=93694 u=sergeylapshov n=ansible INFO| web1                       : ok=4    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 10:15:26,767 p=93995 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 10:15:26,774 p=93995 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 10:15:27,986 p=93995 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 10:15:27,987 p=93995 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:15:27,991 p=93995 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu + nginx] ******************************************************************************
2025-05-22 10:15:28,635 p=93995 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:15:28,644 p=93995 u=sergeylapshov n=ansible INFO| TASK [Установка nginx] **************************************************************************************************
2025-05-22 10:15:36,087 p=93995 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 10:15:36,097 p=93995 u=sergeylapshov n=ansible INFO| TASK [Копирование конфигурации nginx] ***********************************************************************************
2025-05-22 10:15:36,647 p=93995 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:15:36,653 p=93995 u=sergeylapshov n=ansible INFO| TASK [Копирование конфигурации nginx в контейнер] ***********************************************************************
2025-05-22 10:15:37,117 p=93995 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": true, "rc": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-22 10:15:37,118 p=93995 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 10:15:37,118 p=93995 u=sergeylapshov n=ansible INFO| web1                       : ok=4    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 10:16:04,413 p=94285 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 10:16:04,418 p=94285 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 10:16:05,589 p=94285 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 10:16:05,590 p=94285 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:16:05,594 p=94285 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu + nginx] ******************************************************************************
2025-05-22 10:16:06,207 p=94285 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:16:06,216 p=94285 u=sergeylapshov n=ansible INFO| TASK [Установка nginx] **************************************************************************************************
2025-05-22 10:16:12,502 p=94285 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 10:16:12,510 p=94285 u=sergeylapshov n=ansible INFO| TASK [Копирование конфигурации nginx] ***********************************************************************************
2025-05-22 10:16:13,050 p=94285 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:16:13,056 p=94285 u=sergeylapshov n=ansible INFO| TASK [Копирование конфигурации nginx в контейнер] ***********************************************************************
2025-05-22 10:16:13,503 p=94285 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": true, "rc": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-22 10:16:13,504 p=94285 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 10:16:13,504 p=94285 u=sergeylapshov n=ansible INFO| web1                       : ok=4    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 10:17:58,878 p=94778 u=sergeylapshov n=ansible ERROR| ERROR! couldn't resolve module/action 'community.docker.docker_cp'. This often indicates a misspelling, missing collection, or incorrect module path.

The error appears to be in '/Users/sergeylapshov/Documents/Devops/docker/Ansible/DOCKER-ANS-04/ubuntu_nginx.yml': line 26, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


    - name: Копирование конфигурации nginx в контейнер
      ^ here

2025-05-22 10:21:19,459 p=95492 u=sergeylapshov n=ansible ERROR| ERROR! couldn't resolve module/action 'community.docker.docker_cp_file'. This often indicates a misspelling, missing collection, or incorrect module path.

The error appears to be in '/Users/sergeylapshov/Documents/Devops/docker/Ansible/DOCKER-ANS-04/ubuntu_nginx.yml': line 26, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


    - name: Копирование конфигурации nginx в контейнер
      ^ here

2025-05-22 10:22:06,076 p=95758 u=sergeylapshov n=ansible ERROR| ERROR! couldn't resolve module/action 'community.docker.docker_copy_to_container'. This often indicates a misspelling, missing collection, or incorrect module path.

The error appears to be in '/Users/sergeylapshov/Documents/Devops/docker/Ansible/DOCKER-ANS-04/ubuntu_nginx.yml': line 26, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


    - name: Копирование конфигурации nginx в контейнер
      ^ here

2025-05-22 10:23:41,187 p=96160 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 10:23:41,194 p=96160 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 10:23:42,709 p=96160 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 10:23:42,709 p=96160 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:23:42,713 p=96160 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu + nginx] ******************************************************************************
2025-05-22 10:23:43,360 p=96160 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:23:43,368 p=96160 u=sergeylapshov n=ansible INFO| TASK [Установка nginx] **************************************************************************************************
2025-05-22 10:23:49,566 p=96160 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 10:23:49,574 p=96160 u=sergeylapshov n=ansible INFO| TASK [Копирование конфигурации nginx] ***********************************************************************************
2025-05-22 10:23:50,115 p=96160 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:23:50,122 p=96160 u=sergeylapshov n=ansible INFO| TASK [Копирование конфигурации nginx в контейнер] ***********************************************************************
2025-05-22 10:23:50,437 p=96160 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 10:23:50,442 p=96160 u=sergeylapshov n=ansible INFO| TASK [Перезапуск nginx] *************************************************************************************************
2025-05-22 10:23:50,901 p=96160 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": true, "rc": 1, "stderr": "", "stderr_lines": [], "stdout": " * Restarting nginx nginx\n   ...fail!", "stdout_lines": [" * Restarting nginx nginx", "   ...fail!"]}
2025-05-22 10:23:50,902 p=96160 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 10:23:50,903 p=96160 u=sergeylapshov n=ansible INFO| web1                       : ok=5    changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 10:24:25,273 p=96486 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 10:24:25,279 p=96486 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 10:24:26,471 p=96486 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 10:24:26,471 p=96486 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:24:26,475 p=96486 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu + nginx] ******************************************************************************
2025-05-22 10:24:27,121 p=96486 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:24:27,129 p=96486 u=sergeylapshov n=ansible INFO| TASK [Установка nginx] **************************************************************************************************
2025-05-22 10:24:33,512 p=96486 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 10:24:33,519 p=96486 u=sergeylapshov n=ansible INFO| TASK [Копирование конфигурации nginx] ***********************************************************************************
2025-05-22 10:24:34,094 p=96486 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:24:34,101 p=96486 u=sergeylapshov n=ansible INFO| TASK [Копирование конфигурации nginx в контейнер] ***********************************************************************
2025-05-22 10:24:34,419 p=96486 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 10:24:34,424 p=96486 u=sergeylapshov n=ansible INFO| TASK [Перезапуск nginx] *************************************************************************************************
2025-05-22 10:24:34,874 p=96486 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": true, "rc": 1, "stderr": "", "stderr_lines": [], "stdout": " * Restarting nginx nginx\n   ...fail!", "stdout_lines": [" * Restarting nginx nginx", "   ...fail!"]}
2025-05-22 10:24:34,876 p=96486 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 10:24:34,876 p=96486 u=sergeylapshov n=ansible INFO| web1                       : ok=5    changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 10:26:41,330 p=97052 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 10:26:41,337 p=97052 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 10:26:42,873 p=97052 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 10:26:42,873 p=97052 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:26:42,877 p=97052 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu + nginx] ******************************************************************************
2025-05-22 10:26:43,516 p=97052 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:26:43,524 p=97052 u=sergeylapshov n=ansible INFO| TASK [Установка nginx] **************************************************************************************************
2025-05-22 10:26:50,066 p=97052 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 10:26:50,075 p=97052 u=sergeylapshov n=ansible INFO| TASK [Копирование конфигурации nginx] ***********************************************************************************
2025-05-22 10:26:50,613 p=97052 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:26:50,620 p=97052 u=sergeylapshov n=ansible INFO| TASK [Копирование конфигурации nginx в контейнер] ***********************************************************************
2025-05-22 10:26:50,916 p=97052 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 10:26:50,921 p=97052 u=sergeylapshov n=ansible INFO| TASK [Запустить nginx] **************************************************************************************************
2025-05-22 10:26:51,372 p=97052 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": true, "rc": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-22 10:26:51,373 p=97052 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 10:26:51,374 p=97052 u=sergeylapshov n=ansible INFO| web1                       : ok=5    changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 10:29:14,850 p=97676 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 10:29:14,857 p=97676 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 10:29:16,832 p=97676 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 10:29:16,832 p=97676 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:29:16,836 p=97676 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu + nginx] ******************************************************************************
2025-05-22 10:29:25,066 p=97676 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "msg": "Error pulling image ubuntu:alpine - 404 Client Error for http+docker://localhost/v1.49/images/create?tag=alpine&fromImage=ubuntu: Not Found (\"manifest for ubuntu:alpine not found: manifest unknown: manifest unknown\")"}
2025-05-22 10:29:25,067 p=97676 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 10:29:25,067 p=97676 u=sergeylapshov n=ansible INFO| web1                       : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 10:31:17,348 p=98173 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 10:31:17,356 p=98173 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 10:31:18,884 p=98173 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 10:31:18,884 p=98173 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:31:18,888 p=98173 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu + nginx] ******************************************************************************
2025-05-22 10:31:27,431 p=98173 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "msg": "Error pulling image ubuntu:alpine - 404 Client Error for http+docker://localhost/v1.49/images/create?tag=alpine&fromImage=ubuntu: Not Found (\"manifest for ubuntu:alpine not found: manifest unknown: manifest unknown\")"}
2025-05-22 10:31:27,434 p=98173 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 10:31:27,434 p=98173 u=sergeylapshov n=ansible INFO| web1                       : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 10:31:53,876 p=98441 u=sergeylapshov n=ansible INFO| PLAY [Установка контейнера ubuntu с nginx] ******************************************************************************
2025-05-22 10:31:53,882 p=98441 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 10:31:55,052 p=98441 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 10:31:55,052 p=98441 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:31:55,057 p=98441 u=sergeylapshov n=ansible INFO| TASK [Установка контейнера ubuntu + nginx] ******************************************************************************
2025-05-22 10:31:55,705 p=98441 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:31:55,713 p=98441 u=sergeylapshov n=ansible INFO| TASK [Установка nginx] **************************************************************************************************
2025-05-22 10:32:01,834 p=98441 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 10:32:01,843 p=98441 u=sergeylapshov n=ansible INFO| TASK [Копирование конфигурации nginx] ***********************************************************************************
2025-05-22 10:32:02,393 p=98441 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:32:02,400 p=98441 u=sergeylapshov n=ansible INFO| TASK [Копирование конфигурации nginx в контейнер] ***********************************************************************
2025-05-22 10:32:02,706 p=98441 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 10:32:02,711 p=98441 u=sergeylapshov n=ansible INFO| TASK [Проверка работы nginx] ********************************************************************************************
2025-05-22 10:32:03,072 p=98441 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:32:03,073 p=98441 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 10:32:03,073 p=98441 u=sergeylapshov n=ansible INFO| web1                       : ok=6    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-05-22 10:52:49,128 p=3552 u=sergeylapshov n=ansible INFO| PLAY [Клонирование репозитория] *****************************************************************************************
2025-05-22 10:52:49,134 p=3552 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 10:52:50,633 p=3552 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 10:52:50,633 p=3552 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:52:50,637 p=3552 u=sergeylapshov n=ansible INFO| TASK [Клонировать приложение] *******************************************************************************************
2025-05-22 10:52:54,622 p=3552 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 10:52:54,633 p=3552 u=sergeylapshov n=ansible INFO| TASK [Сборка Docker-образа] *********************************************************************************************
2025-05-22 10:52:54,911 p=3552 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "msg": "Unsupported parameters for (ansible.legacy.command) module: build, name. Supported parameters include: _raw_params, _uses_shell, argv, chdir, creates, executable, expand_argument_vars, removes, stdin, stdin_add_newline, strip_empty_ends."}
2025-05-22 10:52:54,912 p=3552 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 10:52:54,912 p=3552 u=sergeylapshov n=ansible INFO| web1                       : ok=2    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 10:56:06,957 p=4329 u=sergeylapshov n=ansible INFO| PLAY [Клонирование репозитория] *****************************************************************************************
2025-05-22 10:56:06,966 p=4329 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 10:56:08,479 p=4329 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 10:56:08,479 p=4329 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:56:08,483 p=4329 u=sergeylapshov n=ansible INFO| TASK [Клонировать приложение] *******************************************************************************************
2025-05-22 10:56:11,097 p=4329 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:56:11,105 p=4329 u=sergeylapshov n=ansible INFO| TASK [Сборка Docker-образа] *********************************************************************************************
2025-05-22 10:56:11,650 p=4329 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "msg": "state is present but all of the following are missing: source"}
2025-05-22 10:56:11,651 p=4329 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 10:56:11,651 p=4329 u=sergeylapshov n=ansible INFO| web1                       : ok=2    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 10:57:56,069 p=4796 u=sergeylapshov n=ansible INFO| PLAY [Клонирование репозитория] *****************************************************************************************
2025-05-22 10:57:56,075 p=4796 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 10:57:57,573 p=4796 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 10:57:57,573 p=4796 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:57:57,578 p=4796 u=sergeylapshov n=ansible INFO| TASK [Клонировать приложение] *******************************************************************************************
2025-05-22 10:58:00,368 p=4796 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:58:00,378 p=4796 u=sergeylapshov n=ansible INFO| TASK [Сборка Docker-образа] *********************************************************************************************
2025-05-22 10:59:18,255 p=4796 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 10:59:18,261 p=4796 u=sergeylapshov n=ansible INFO| TASK [Запуск контейнера] ************************************************************************************************
2025-05-22 10:59:19,237 p=4796 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "msg": "Error starting container 2404cbfffb305df51930991cbbdb0ace2583467c2dda3f7f7abe607b56860e60: 500 Server Error for http+docker://localhost/v1.49/containers/2404cbfffb305df51930991cbbdb0ace2583467c2dda3f7f7abe607b56860e60/start: Internal Server Error (\"failed to set up container networking: driver failed programming external connectivity on endpoint demo-backend (75c415f83c4814b7785ae936ff2a15d50ac057d10b0085ae5f0d14ab050613df): Bind for 0.0.0.0:8083 failed: port is already allocated\")"}
2025-05-22 10:59:19,238 p=4796 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 10:59:19,238 p=4796 u=sergeylapshov n=ansible INFO| web1                       : ok=3    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 10:59:41,483 p=5269 u=sergeylapshov n=ansible INFO| PLAY [Клонирование репозитория] *****************************************************************************************
2025-05-22 10:59:41,489 p=5269 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 10:59:42,735 p=5269 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 10:59:42,735 p=5269 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:59:42,740 p=5269 u=sergeylapshov n=ansible INFO| TASK [Клонировать приложение] *******************************************************************************************
2025-05-22 10:59:45,475 p=5269 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:59:45,484 p=5269 u=sergeylapshov n=ansible INFO| TASK [Сборка Docker-образа] *********************************************************************************************
2025-05-22 10:59:46,058 p=5269 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 10:59:46,064 p=5269 u=sergeylapshov n=ansible INFO| TASK [Запуск контейнера] ************************************************************************************************
2025-05-22 10:59:47,173 p=5269 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 10:59:47,180 p=5269 u=sergeylapshov n=ansible INFO| TASK [Проверка состояния доступности] ***********************************************************************************
2025-05-22 10:59:47,542 p=5269 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "content": "", "elapsed": 0, "msg": "Status code was -1 and not [200]: Request failed: <urlopen error [Errno 111] Connection refused>", "redirected": false, "status": -1, "url": "http://localhost:8000"}
2025-05-22 10:59:47,543 p=5269 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 10:59:47,543 p=5269 u=sergeylapshov n=ansible INFO| web1                       : ok=4    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 11:02:29,438 p=5922 u=sergeylapshov n=ansible INFO| PLAY [Клонирование репозитория] *****************************************************************************************
2025-05-22 11:02:29,444 p=5922 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 11:02:31,020 p=5922 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 11:02:31,020 p=5922 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 11:02:31,027 p=5922 u=sergeylapshov n=ansible INFO| TASK [Клонировать приложение] *******************************************************************************************
2025-05-22 11:02:33,800 p=5922 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 11:02:33,807 p=5922 u=sergeylapshov n=ansible INFO| TASK [Сборка Docker-образа] *********************************************************************************************
2025-05-22 11:02:34,395 p=5922 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 11:02:34,402 p=5922 u=sergeylapshov n=ansible INFO| TASK [Запуск контейнера] ************************************************************************************************
2025-05-22 11:02:35,035 p=5922 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 11:02:35,041 p=5922 u=sergeylapshov n=ansible INFO| TASK [Проверка состояния доступности] ***********************************************************************************
2025-05-22 11:02:35,391 p=5922 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 11:02:35,392 p=5922 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 11:02:35,393 p=5922 u=sergeylapshov n=ansible INFO| web1                       : ok=5    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-05-22 11:16:24,605 p=9095 u=sergeylapshov n=ansible INFO| PLAY [Деплой приложения через роль] *************************************************************************************
2025-05-22 11:16:24,613 p=9095 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 11:16:26,153 p=9095 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 11:16:26,153 p=9095 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 11:16:26,161 p=9095 u=sergeylapshov n=ansible INFO| TASK [deploy_docker_app : Клонировать приложение] ***********************************************************************
2025-05-22 11:16:31,223 p=9095 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "cmd": "/usr/bin/git clone --origin origin https://github.com/DavyRoy/DevOps_practick.git /home/vagrant/app/Ansible/DOCKER-ANS-05", "msg": "fatal: destination path '/home/vagrant/app/Ansible/DOCKER-ANS-05' already exists and is not an empty directory.", "rc": 128, "stderr": "fatal: destination path '/home/vagrant/app/Ansible/DOCKER-ANS-05' already exists and is not an empty directory.\n", "stderr_lines": ["fatal: destination path '/home/vagrant/app/Ansible/DOCKER-ANS-05' already exists and is not an empty directory."], "stdout": "", "stdout_lines": []}
2025-05-22 11:16:31,224 p=9095 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 11:16:31,224 p=9095 u=sergeylapshov n=ansible INFO| web1                       : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 11:17:18,148 p=9407 u=sergeylapshov n=ansible INFO| PLAY [Деплой приложения через роль] *************************************************************************************
2025-05-22 11:17:18,155 p=9407 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 11:17:19,352 p=9407 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 11:17:19,352 p=9407 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 11:17:19,361 p=9407 u=sergeylapshov n=ansible INFO| TASK [deploy_docker_app : Клонировать приложение] ***********************************************************************
2025-05-22 11:17:22,131 p=9407 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 11:17:22,137 p=9407 u=sergeylapshov n=ansible INFO| TASK [deploy_docker_app : Собрать Docker-образ] *************************************************************************
2025-05-22 11:17:22,688 p=9407 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "msg": "state is present but all of the following are missing: source"}
2025-05-22 11:17:22,689 p=9407 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 11:17:22,689 p=9407 u=sergeylapshov n=ansible INFO| web1                       : ok=2    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 11:17:57,709 p=9712 u=sergeylapshov n=ansible INFO| PLAY [Деплой приложения через роль] *************************************************************************************
2025-05-22 11:17:57,716 p=9712 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 11:17:58,899 p=9712 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 11:17:58,899 p=9712 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 11:17:58,907 p=9712 u=sergeylapshov n=ansible INFO| TASK [deploy_docker_app : Клонировать приложение] ***********************************************************************
2025-05-22 11:18:01,593 p=9712 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 11:18:01,601 p=9712 u=sergeylapshov n=ansible INFO| TASK [deploy_docker_app : Собрать Docker-образ] *************************************************************************
2025-05-22 11:18:02,172 p=9712 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 11:18:02,178 p=9712 u=sergeylapshov n=ansible INFO| TASK [deploy_docker_app : Запуск контейнера] ****************************************************************************
2025-05-22 11:18:02,999 p=9712 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 11:18:03,005 p=9712 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 11:18:03,005 p=9712 u=sergeylapshov n=ansible INFO| web1                       : ok=4    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-05-22 12:17:01,210 p=21998 u=sergeylapshov n=ansible INFO| PLAY [Установка Prometheus и Node Exporter] *****************************************************************************
2025-05-22 12:17:01,216 p=21998 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 12:17:02,833 p=21998 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 12:17:02,833 p=21998 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 12:17:02,840 p=21998 u=sergeylapshov n=ansible INFO| TASK [Создать директорию для Prometheus конфигурации] *******************************************************************
2025-05-22 12:17:03,129 p=21998 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 12:17:03,135 p=21998 u=sergeylapshov n=ansible INFO| TASK [Копировать конфиг Prometheus] *************************************************************************************
2025-05-22 12:17:03,709 p=21998 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 12:17:03,714 p=21998 u=sergeylapshov n=ansible INFO| TASK [Запустить Node Exporter] ******************************************************************************************
2025-05-22 12:17:20,865 p=21998 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 12:17:20,870 p=21998 u=sergeylapshov n=ansible INFO| TASK [Запустить Prometheus] *********************************************************************************************
2025-05-22 12:17:52,527 p=21998 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 12:17:52,529 p=21998 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 12:17:52,529 p=21998 u=sergeylapshov n=ansible INFO| web1                       : ok=5    changed=4    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-05-22 12:18:16,631 p=22411 u=sergeylapshov n=ansible INFO| PLAY [Установка Prometheus и Node Exporter] *****************************************************************************
2025-05-22 12:18:16,637 p=22411 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 12:18:17,891 p=22411 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 12:18:17,891 p=22411 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 12:18:17,896 p=22411 u=sergeylapshov n=ansible INFO| TASK [Создать директорию для Prometheus конфигурации] *******************************************************************
2025-05-22 12:18:18,206 p=22411 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 12:18:18,212 p=22411 u=sergeylapshov n=ansible INFO| TASK [Копировать конфиг Prometheus] *************************************************************************************
2025-05-22 12:18:18,680 p=22411 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 12:18:18,685 p=22411 u=sergeylapshov n=ansible INFO| TASK [Запустить Node Exporter] ******************************************************************************************
2025-05-22 12:18:19,364 p=22411 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 12:18:19,371 p=22411 u=sergeylapshov n=ansible INFO| TASK [Запустить Prometheus] *********************************************************************************************
2025-05-22 12:18:19,844 p=22411 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 12:18:19,846 p=22411 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 12:18:19,846 p=22411 u=sergeylapshov n=ansible INFO| web1                       : ok=5    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-05-22 12:38:44,634 p=26348 u=sergeylapshov n=ansible INFO| PLAY [Обновленный репозиторий] ******************************************************************************************
2025-05-22 12:38:44,641 p=26348 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 12:38:46,317 p=26348 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 12:38:46,317 p=26348 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 12:38:46,322 p=26348 u=sergeylapshov n=ansible INFO| TASK [Остановка контейнера] *********************************************************************************************
2025-05-22 12:38:47,162 p=26348 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 12:38:47,169 p=26348 u=sergeylapshov n=ansible INFO| TASK [Удаление образа] **************************************************************************************************
2025-05-22 12:38:47,727 p=26348 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "msg": "Unsupported parameters for (community.docker.docker_image) module: force. Supported parameters include: api_version, archive_path, build, ca_path, client_cert, client_key, debug, docker_host, force_absent, force_source, force_tag, load_path, name, pull, push, repository, source, state, tag, timeout, tls, tls_hostname, use_ssh_client, validate_certs (ca_cert, cacert_path, cert_path, docker_api_version, docker_url, key_path, tls_ca_cert, tls_client_cert, tls_client_key, tls_verify)."}
2025-05-22 12:38:47,728 p=26348 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 12:38:47,728 p=26348 u=sergeylapshov n=ansible INFO| web1                       : ok=2    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 12:40:07,470 p=26751 u=sergeylapshov n=ansible INFO| PLAY [Обновленный репозиторий] ******************************************************************************************
2025-05-22 12:40:07,477 p=26751 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 12:40:09,018 p=26751 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 12:40:09,018 p=26751 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 12:40:09,026 p=26751 u=sergeylapshov n=ansible INFO| TASK [Остановка контейнера] *********************************************************************************************
2025-05-22 12:40:09,651 p=26751 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 12:40:09,657 p=26751 u=sergeylapshov n=ansible INFO| TASK [Удаление образа] **************************************************************************************************
2025-05-22 12:40:10,226 p=26751 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 12:40:10,234 p=26751 u=sergeylapshov n=ansible INFO| TASK [Клонировать приложение] *******************************************************************************************
2025-05-22 12:40:19,595 p=26751 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 12:40:19,601 p=26751 u=sergeylapshov n=ansible INFO| TASK [Сборка Docker-образа] *********************************************************************************************
2025-05-22 12:40:20,067 p=26751 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 12:40:20,074 p=26751 u=sergeylapshov n=ansible INFO| TASK [Запуск контейнера] ************************************************************************************************
2025-05-22 12:40:20,754 p=26751 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 12:40:20,762 p=26751 u=sergeylapshov n=ansible INFO| TASK [Очистить dangling-образы] *****************************************************************************************
2025-05-22 12:40:21,090 p=26751 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 12:40:21,091 p=26751 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 12:40:21,091 p=26751 u=sergeylapshov n=ansible INFO| web1                       : ok=7    changed=5    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-05-22 12:53:04,032 p=29677 u=sergeylapshov n=ansible INFO| PLAY [Развёртывание бэкенда и nginx через роль] *************************************************************************
2025-05-22 12:53:04,040 p=29677 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 12:53:05,603 p=29677 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 12:53:05,604 p=29677 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 12:53:05,608 p=29677 u=sergeylapshov n=ansible INFO| TASK [deploy_multi_service : Клонировать backend-приложение] ************************************************************
2025-05-22 12:53:05,620 p=29677 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"msg": "The task includes an option with an undefined variable.. 'backend_dir' is undefined\n\nThe error appears to be in '/Users/sergeylapshov/Documents/Devops/docker/Ansible/DOCKER-ANS-10/roles/deploy_multi_service/tasks/main.yml': line 1, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n- name: Клонировать backend-приложение\n  ^ here\n"}
2025-05-22 12:53:05,620 p=29677 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 12:53:05,620 p=29677 u=sergeylapshov n=ansible INFO| web1                       : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 12:55:27,226 p=30360 u=sergeylapshov n=ansible INFO| PLAY [Развёртывание бэкенда и nginx через роль] *************************************************************************
2025-05-22 12:55:27,233 p=30360 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 12:55:28,551 p=30360 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 12:55:28,551 p=30360 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 12:55:28,556 p=30360 u=sergeylapshov n=ansible INFO| TASK [deploy_multi_service : Клонировать backend-приложение] ************************************************************
2025-05-22 12:55:28,566 p=30360 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"msg": "The task includes an option with an undefined variable.. 'backend_dir' is undefined\n\nThe error appears to be in '/Users/sergeylapshov/Documents/Devops/docker/Ansible/DOCKER-ANS-10/roles/deploy_multi_service/tasks/main.yml': line 1, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n- name: Клонировать backend-приложение\n  ^ here\n"}
2025-05-22 12:55:28,567 p=30360 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 12:55:28,567 p=30360 u=sergeylapshov n=ansible INFO| web1                       : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 12:57:20,785 p=30846 u=sergeylapshov n=ansible INFO| PLAY [Развёртывание бэкенда и nginx через роль] *************************************************************************
2025-05-22 12:57:20,792 p=30846 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 12:57:22,334 p=30846 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 12:57:22,334 p=30846 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 12:57:22,339 p=30846 u=sergeylapshov n=ansible INFO| TASK [deploy_multi_service : Клонировать backend-приложение] ************************************************************
2025-05-22 12:57:27,460 p=30846 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 12:57:27,468 p=30846 u=sergeylapshov n=ansible INFO| TASK [deploy_multi_service : Собрать Docker-образ backend] **************************************************************
2025-05-22 12:57:28,029 p=30846 u=sergeylapshov n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "msg": "state is present but all of the following are missing: source"}
2025-05-22 12:57:28,031 p=30846 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 12:57:28,031 p=30846 u=sergeylapshov n=ansible INFO| web1                       : ok=2    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-22 13:02:21,082 p=31903 u=sergeylapshov n=ansible INFO| PLAY [Развёртывание бэкенда и nginx через роль] *************************************************************************
2025-05-22 13:02:21,089 p=31903 u=sergeylapshov n=ansible INFO| TASK [Gathering Facts] **************************************************************************************************
2025-05-22 13:02:22,669 p=31903 u=sergeylapshov n=ansible WARNING| [WARNING]: Platform linux on host web1 is using the discovered Python interpreter at /usr/bin/python3.10, but future
installation of another Python interpreter could change the meaning of that path. See https://docs.ansible.com/ansible-
core/2.18/reference_appendices/interpreter_discovery.html for more information.

2025-05-22 13:02:22,669 p=31903 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 13:02:22,674 p=31903 u=sergeylapshov n=ansible INFO| TASK [deploy_multi_service : Клонировать backend-приложение] ************************************************************
2025-05-22 13:02:25,335 p=31903 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 13:02:25,343 p=31903 u=sergeylapshov n=ansible INFO| TASK [deploy_multi_service : Собрать Docker-образ backend] **************************************************************
2025-05-22 13:02:25,935 p=31903 u=sergeylapshov n=ansible INFO| ok: [web1]
2025-05-22 13:02:25,940 p=31903 u=sergeylapshov n=ansible INFO| TASK [deploy_multi_service : Запустить backend-контейнер] ***************************************************************
2025-05-22 13:02:26,758 p=31903 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 13:02:26,767 p=31903 u=sergeylapshov n=ansible INFO| TASK [deploy_multi_service : Скопировать конфиг Nginx] ******************************************************************
2025-05-22 13:02:27,332 p=31903 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 13:02:27,337 p=31903 u=sergeylapshov n=ansible INFO| TASK [deploy_multi_service : Запустить nginx-контейнер] *****************************************************************
2025-05-22 13:02:27,996 p=31903 u=sergeylapshov n=ansible INFO| changed: [web1]
2025-05-22 13:02:28,003 p=31903 u=sergeylapshov n=ansible INFO| PLAY RECAP **************************************************************************************************************
2025-05-22 13:02:28,003 p=31903 u=sergeylapshov n=ansible INFO| web1                       : ok=6    changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
